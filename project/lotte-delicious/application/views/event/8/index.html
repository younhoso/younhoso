<link rel="stylesheet" href="/assets/css/8/base.css" />
<link rel="stylesheet" href="/assets/css/8/event.css" />
<link rel="stylesheet" href="/assets/css/8/modal.css" />

<div class="event">
  <div data-aos="fade">
    <img
      src="/assets/imgs/round/8/event/pc_banner.png"
      alt="event"
      title="event"
      class="pc_banner"
    />
    <img
      src="/assets/imgs/round/8/event/mo_banner.png"
      alt="event"
      title="event"
      class="mo_banner"
    />
  </div>
  <div class="mt100 mt-lg-15">
    <div class="wraper">
      <div class="event-title">
        <p>
          <b
            >AhAhğŸ“£<br />
            ë§›ìˆëŠ” ì—¬í–‰ì„ ìœ„í•œ ì‹¬ì‚¬ê°€ ìˆê² ìŠµë‹ˆë‹¤<br />
            ì—¬í–‰ ì¤€ë¹„ëŠ” ë§›ZINEê³¼ í•¨ê»˜!</b
          >
        </p>
      </div>
      <p class="f20 f16-lg tc mt10">
        ì´ê³³ì €ê³³ ìˆ¨ì–´ìˆëŠ” ë§›ZINE ì…êµ­ì‹¬ì‚¬ ìŠ¤íƒ¬í”„ë¥¼ ì°¾ì•„ì£¼ì„¸ìš”ğŸ‘“
      </p>

      <div
        class="flex flex-vc nowrap gap30 gap-lg-0 mt140 pt100 mt-lg-40 pt-lg-0 is-pc"
      >
        <div class="event-item">
          <div class="article-thumbnail-inner">
            <img src="/assets/imgs/round/8/event/1.png" />
          </div>
          <div class="tc desc-inner pt30 pl30 pb40 pr30">
            <div class="f24"><b>STEP. 1</b></div>
            <div class="f20 mt20 mt-lg-15 desc">
              ë§›ZINE ì…êµ­ì‹¬ì‚¬ <b>ìŠ¤íƒ¬í”„</b>ë¥¼ ì°¾ì•„<br />
              <b>ëŒ“ê¸€ì— ì—¬í–‰ ê°ˆ ë•Œ ë“£ëŠ” ë‚˜ë§Œì˜ ìŒì•…</b>ë¥¼<br />
              ì ì–´ë³´ì„¸ìš”!
            </div>
          </div>
        </div>
        <div class="event-item">
          <div class="article-thumbnail-inner">
            <img src="/assets/imgs/round/8/event/2.png" />
          </div>
          <div class="tc desc-inner pt30 pl30 pb40 pr30">
            <div class="f24"><b>STEP. 2</b></div>
            <div class="f20 mt20 mt-lg-15 desc">
              ë§›ZINE ì…êµ­ì‹¬ì‚¬ ìŠ¤íƒ¬í”„ëŠ”<br />
              <b>POST</b>ì™€ <b>NEWS</b> í˜ì´ì§€<br />
              ê³³ê³³ì— ìˆ¨ì–´ìˆì–´ìš”!
            </div>
          </div>
        </div>
        <div class="event-item">
          <div class="article-thumbnail-inner">
            <img src="/assets/imgs/round/8/event/3.png" />
          </div>
          <div class="tc desc-inner pt30 pl30 pb40 pr30">
            <div class="f24"><b>STEP. 3</b></div>
            <div class="f20 mt20 mt-lg-15 desc">
              ìŠ¤íƒ¬í”„ 3ê°œ ì¤‘ <b>í•˜ë‚˜</b>ë§Œ ì°¾ì•„ë„<br />
              <b>ì´ 7ì¸</b>ì—ê²Œ ëŒ“ê¸€ ì¶”ì²¨ì„ í†µí•´<br />
              <b>íŠ¹ë³„í•œ ì„ ë¬¼</b>ì„ ë“œë¦½ë‹ˆë‹¤!
            </div>
          </div>
        </div>
      </div>

      <div class="is-mo">
        <div>
          <div>
            <div>STEP. 1</div>
            <div>
              ë§›ì§„ì´ê°€ ìƒì–´ë²„ë¦° <span>ìƒì¼ì´ˆ</span>ì„ ì°¾ì•„ <br /><span
                >ëŒ“ê¸€ì— ì†Œì›</span
              >ì„ ë¹Œì–´ë³´ì„¸ìš”!
            </div>
          </div>
          <div>
            <div>STEP. 2</div>
            <div>
              ìƒì–´ë²„ë¦° ìƒì¼ì´ˆëŠ” <br /><span>POST</span>ì™€
              <span>NEWS</span> í˜ì´ì§€ <br />ê³³ê³³ì— ìˆ¨ì–´ìˆì–´ìš”!
            </div>
          </div>
          <div>
            <div>STEP. 3</div>
            <div>
              ìƒì¼ì´ˆ 3ê°œ ì¤‘ <span>í•˜ë‚˜</span>ë§Œ ì°¾ì•„ë„ <br /><span>ì´ 7ì¸</span
              >ì—ê²Œ ëŒ“ê¸€ ì¶”ì²¨ì„ í†µí•´ <br /><span>íŠ¹ë³„í•œ ì„ ë¬¼</span>ì„ ë“œë¦½ë‹ˆë‹¤!
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="event-01 mt95 mt-lg-15">
    <div class="wraper pt100 pb30 pt-lg-30 pb100">
      <div class="event-title tc">
        <strong class="title f18-lg">ğŸ§ê°ë¯¸ë¡œìš´ ì—¬í–‰ì„ ìœ„í•œ ì„ ë¬¼ğŸ§</strong>
        <p class="f20 f18-lg mt24 mt-lg-15">
          ì—¬í–‰í•˜ë©´ ë¹ ì§ˆ ìˆ˜ ì—†ëŠ” ê²Œ ë°”ë¡œ ìŒì•…ì´ì§€~ğŸµ<br />
          ì˜¨ ê°€ì¡±ì´ í•¨ê»˜ ëˆˆê³¼ ê·€ê°€ ì¦ê±°ìš´ ì—¬í–‰ì„ ë– ë‚˜ë³´ëŠ” ê±´ ì–´ë•Œ?
        </p>
      </div>
      <div class="flex gap20 mt80 mt-lg-15">
        <div class="event-image flex flex-vb pb58">
          <div class="w280 center">
            <p class="item_count">7ëª…</p>
            <img src="/assets/imgs/round/8/event/4.png" />
          </div>
          <p class="f30 col-12 text_align_center">
            <b>ì†Œë‹ˆ WH-CH720N ë¸”ë£¨íˆ¬ìŠ¤ í—¤ë“œí°</b>
          </p>
        </div>
        <div class="event-image flex flex-vb pb58">
          <div class="w280 center">
            <p class="item_count">10ëª…</p>
            <img src="/assets/imgs/round/8/event/5.png" />
          </div>
          <p class="f30 col-12 text_align_center"><b>í‚¤ìë‹ˆì•„ ì…ì¥ê¶Œ 2ë§¤</b></p>
        </div>
      </div>
    </div>
  </div>

  <div class="event-02">
    <div class="wraper">
      <div class="flex">
        <b>ì•ˆë‚´ì‚¬í•­</b>
        <ul>
          <li>
            ì´ë²¤íŠ¸ ì°¸ì—¬ ì‹œ, ê°œì¸ì •ë³´ ì˜¤ê¸°ì¬ìœ¼ë¡œ ì¸í•œ ë‹¹ì²¨ì ëˆ„ë½ì€ ì±…ì„ì§€ì§€
            ì•ŠìŠµë‹ˆë‹¤.
          </li>
          <li>ë‹¹ì²¨ì ì•ˆë‚´ ë° ê²½í’ˆ ë°œì†¡ì€ ê°œë³„ ì—°ë½ì²˜ë¡œ ì•ˆë‚´í•´ ë“œë¦½ë‹ˆë‹¤.</li>
          <li>
            ë³¸ ì´ë²¤íŠ¸ì˜ ê²½í’ˆ ì œê³µì„ ëª©ì ìœ¼ë¡œ ê°œì¸ ì •ë³´ë¥¼ ìš”êµ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
          </li>
          <li>
            ë‹¹ì²¨ì ì•ˆë‚´ ê°œë³„ ë©”ì‹œì§€ ë°œì†¡ì¼ ì´í›„ 14ì¼ ì´ë‚´ì— ê²½í’ˆ ìˆ˜ë ¹ ì˜ì‚¬ ë°
            ê°œì¸ ì •ë³´ íšŒì‹ ì´ ì—†ì„ ì‹œ, ìë™ìœ¼ë¡œ ë‹¹ì²¨ì ëŒ€ìƒì—ì„œ ì œì™¸ë  ìˆ˜
            ìˆìŠµë‹ˆë‹¤.
          </li>
          <li>
            ì´ë²¤íŠ¸ ê²½í’ˆ ìˆ˜ë ¹ì„ ìœ„í•œ ê°œì¸ì •ë³´ íšŒì‹  í™•ì¸ í›„ ìˆœì°¨ì ìœ¼ë¡œ ê²½í’ˆì„
            ë°œì†¡í•´ë“œë¦½ë‹ˆë‹¤.
          </li>
          <li>
            ìˆ˜ì§‘ëœ ê°œì¸ì •ë³´ëŠ” ì´ë²¤íŠ¸ ì•ˆë‚´ ë° ê²½í’ˆ ì¦ì • ì´ì™¸ì—ëŠ” ì‚¬ìš©ë˜ì§€
            ì•ŠìŠµë‹ˆë‹¤.
          </li>
          <li>
            ê²½í’ˆì€ ì´ë²¤íŠ¸ ì°¸ì—¬ ì‹œ ì‘ì„±í•´ì£¼ì‹  ê°œì¸ ì •ë³´ë¡œë§Œ ë°œì†¡ ê°€ëŠ¥í•˜ë©°, ë‹¤ë¥¸
            ì´ë¦„, ì—°ë½ì²˜, ì£¼ì†Œ ë“±ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ ìˆ˜ë ¹í•˜ëŠ” ê²ƒì€ ë¶ˆê°€í•©ë‹ˆë‹¤.
          </li>
        </ul>
      </div>
    </div>
  </div>

  <div class="event-03">
    <div class="event-comment">
      <div class="comment-head">
        <div class="wraper">
          <div class="flex flex-tl">
            <strong>ëŒ“ê¸€</strong>
            <ul>
              <li class="active"><a href="javascript:;">ì¶”ì²œìˆœ</a></li>
              <li><a href="javascript:;">ìµœì‹ ìˆœ</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="comment-body">
        <!-- tabsê¸°ëŠ¥ -->
        <!-- <div class="wraper"> 
					<div class="comment-tab">
						<ul>
							<li class="active"><a href="javascript:;">EVENT.1</a></li>
							<li><a href="javascript:;">EVENT.2</a></li>
						</ul>
					</div>
				</div> -->
        <div class="comment-list">
          <!-- <p class="list-none">ë“±ë¡ëœ ëŒ“ê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</p> -->
          <div class="wraper">
            <ul class="list" id="list">
              <!-- ëŒ“ê¸€ ë°ì´í„° ì‚½ì… -->
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  var round = 8;
  var index = 1;
  var order = 1;
  var ignore_seq = [];
  var isFetching = false;

  $(document).ready(function () {
    show_more();
  });

  // ì´ë²¤íŠ¸ íƒ­
  $(document).on("click", ".comment-tab ul li a", function () {
    var parents = $(this).parent("li");
    var idx = parents.index();

    ignore_seq = [];

    if (parents.siblings().hasClass("active")) {
      index = index === 1 ? 2 : 1;
      init_reply_data();
      show_more();
    }
    parents.addClass("active").siblings().removeClass("active");
  });

  // ì¶”ì²œìˆœ/ìµœì‹ ìˆœ íƒ­
  $(document).on("click", ".comment-head ul li a", function () {
    var parents = $(this).parent("li");
    var idx = parents.index();

    ignore_seq = [];
    if (parents.siblings().hasClass("active")) {
      order = order === 1 ? 2 : 1;
      init_reply_data();
      show_more();
    }

    parents.addClass("active").siblings().removeClass("active");
  });

  // íŒì—…
  function popupOpen() {
    $(`.modal`).css({
      visibility: "visible",
      "pointer-events": "inherit",
    });
    $(`.event_popup_0`).css("display", "block");
  }

  function show_more() {
    isFetching = true;
    get_reply_data();
  }

  function init_reply_data() {
    $("#list").html("");
  }

  function get_reply_data() {
    $.post(
      "/event/get_reply_data",
      { round: round, index: index, order: order, ignore_seq: ignore_seq },
      function (result) {
        var r = JSON.parse(result);

        if (r.result) {
          var html = "";
          if (r.list.length) {
            for (var i = 0; i < r.list.length; i++) {
              html += '<li class="list-item">';
              html += '<div class="list-head">';
              if (r.list[i].image_datas.length > 0) {
                html +=
                  '<img class="mo" src="/' +
                  r.list[i].image_datas[0].file_path +
                  '">';
              } else {
                html +=
                  '<img class="mo" src="/assets/imgs/round/6/event/profile.svg">';
              }
              html += "<div>";
              html += "<b>" + r.list[i].nickname + "</b>";
              html += "<time>" + r.list[i].date + "</time>";
              html += "</div>";
              html += "</div>";
              html += '<div class="list-body">';
              html += "<p>" + r.list[i].text + "</p>";
              html += '<div class="list-body-like">';
              if (r.list[i].log_seq) {
                html +=
                  '<a href="javascript:like(' +
                  r.list[i].seq +
                  ')" id="like' +
                  r.list[i].seq +
                  '" class="active">' +
                  r.list[i].like.toLocaleString("en") +
                  "</a>";
              } else {
                html +=
                  '<a href="javascript:like(' +
                  r.list[i].seq +
                  ')" id="like' +
                  r.list[i].seq +
                  '">' +
                  r.list[i].like.toLocaleString("en") +
                  "</a>";
              }
              html += "</div>";
              html += "</div>";
              html += "</li>";
              html += '<input type="hidden" value="' + r.list[i].seq + '">';
              ignore_seq.push(r.list[i].seq);
            }
          }

          $("#list").append(html);
          isFetching = false;
        }
      }
    );
  }

  function like(seq) {
    $.post("/event/like", { seq: seq }, function (result) {
      var r = JSON.parse(result);
      if (r.result) {
        $("#like" + seq).html(r.after);
        if (Number(r.after) > Number(r.before)) {
          $("#like" + seq).addClass("active");
        } else {
          $("#like" + seq).removeClass("active");
        }
      } else {
        alert(r.msg);
      }
    });
  }

  window.onscroll = function (e) {
    if (
      !isFetching &&
      window.innerHeight + window.scrollY + 100 >= document.body.offsetHeight
    ) {
      show_more();
    }
  };
</script>

<script src="/assets/js/rabbit-event.js"></script>
