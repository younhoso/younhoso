!function(e){var t=e.babelHelpers={};t.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.jsx=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,i){var o=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&o)for(var s in o)void 0===n[s]&&(n[s]=o[s]);else n||(n=o||{});if(1===a)n.children=i;else if(a>1){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),t.asyncIterator=function(e){if("function"==typeof Symbol){if(Symbol.asyncIterator){var t=e[Symbol.asyncIterator];if(null!=t)return t.call(e)}if(Symbol.iterator)return e[Symbol.iterator]()}throw new TypeError("Object is not async iterable")},t.asyncGenerator=function(){function e(e){this.value=e}function t(t){var n,r;function i(n,r){try{var a=t[n](r),s=a.value;s instanceof e?Promise.resolve(s.value).then(function(e){i("next",e)},function(e){i("throw",e)}):o(a.done?"return":"normal",a.value)}catch(e){o("throw",e)}}function o(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?i(n.key,n.arg):r=null}this._invoke=function(e,t){return new Promise(function(o,a){var s={key:e,arg:t,resolve:o,reject:a,next:null};r?r=r.next=s:(n=r=s,i(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)},{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(t){return new e(t)}}}(),t.asyncGeneratorDelegate=function(e,t){var n={},r=!1;function i(n,i){return r=!0,i=new Promise(function(t){t(e[n](i))}),{done:!1,value:t(i)}}return"function"==typeof Symbol&&Symbol.iterator&&(n[Symbol.iterator]=function(){return this}),n.next=function(e){return r?(r=!1,e):i("next",e)},"function"==typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return i("throw",e)}),"function"==typeof e.return&&(n.return=function(e){return i("return",e)}),n},t.asyncToGenerator=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}},t.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),t.defineEnumerableProperties=function(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}return e},t.defaults=function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}return e},t.defineProperty=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},t.extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.get=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},t.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},t.instanceof=function(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t},t.interopRequireDefault=function(e){return e&&e.__esModule?e:{default:e}},t.interopRequireWildcard=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},t.newArrowCheck=function(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")},t.objectDestructuringEmpty=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},t.objectWithoutProperties=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},t.possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},t.selfGlobal=void 0===e?self:e,t.set=function e(t,n,r,i){var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);null!==a&&e(a,n,r,i)}else if("value"in o&&o.writable)o.value=r;else{var s=o.set;void 0!==s&&s.call(i,r)}return r},t.slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),t.slicedToArrayLoose=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){for(var n,r=[],i=e[Symbol.iterator]();!(n=i.next()).done&&(r.push(n.value),!t||r.length!==t););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},t.taggedTemplateLiteral=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},t.taggedTemplateLiteralLoose=function(e,t){return e.raw=t,e},t.temporalRef=function(e,t,n){if(e===n)throw new ReferenceError(t+" is not defined - temporal dead zone");return e},t.temporalUndefined={},t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)},t.toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}}("undefined"==typeof global?self:global),(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[,function(e,t,n){"use strict";n.d(t,"d",function(){return N});n(689);var r=n(279);n.d(t,"e",function(){return r.a});var i=n(170);n.d(t,"b",function(){return i.a});var o=n(297);n.d(t,"a",function(){return o.a});var a=n(298);n.d(t,"c",function(){return a.a});var s=n(21);n.d(t,"f",function(){return s});var u=n(0),c=n.n(u),l=n(62),d=n(31),p=n(350),h=n(430),f=n(434),m=n(2),g=n(105),v=n(435),_=n(436),b=n(437),y=n(438),E=n(439),T=n(440),w=n(7),C=n(441),x=n(442),O=n(443),R=n(444),S=n(445),I=n(446),A=n(447),P=n(448);if(window.chrome){var k=document.createElement("div");k.style.position="absolute",k.style.left="0px",k.style.top="0px",k.innerHTML=P.a,document.body&&document.body.appendChild(k)}function N(e){!function e(t,n){var r=Object.keys(n),i=Array.isArray(r),o=0;for(r=i?r:r[Symbol.iterator]();;){var a;if(i){if(o>=r.length)break;a=r[o++]}else{if((o=r.next()).done)break;a=o.value}var s=a,u=n[s];"object"!==(void 0===u?"undefined":babelHelpers.typeof(u))||Object(I.a)(u)?null!==t[s]&&void 0!==t[s]||(t[s]=u):t[s]=e(t[s]||{},u)}return t}(e,{document:{initialPageNumber:1},features:{allowUIToOverlayCover:!0,backgroundColor:"#353535",canUseCredentials:!1,fullscreenBackgroundColor:"#353535",enableFind:!0},preloadedState:{},trackerConfig:{streamData:{}}});var t=e.metrics,n=e.network,r=e.trackerConfig,i=e.gaTracker,o=e.quantcastTracker,a=e.features,s=e.readMorePlugin,u=e.connector;if(!u)throw new Error("Missing data to initialize reader (username && name) | (connector)");var P=A.a.isWebGLSupported();t.monitor("READER3_WEBGL",{webgl:P?1:0,no_webgl:P?0:1}),function(e){e.monitor("READER3_POLYFILLS",{"whatwg-fetch":window.fetch.polyfill?1:0})}(t);var k=e.document?e.document.embedId:void 0,N=new b.a(t),L=Object(S.a)(u,m.m),D=[f.a,v.a,Object(y.a)(t,m.m),Object(E.a)(N,m.m),Object(T.a)(t,m.m,r.startTrackingOnLoad),Object(g.b)(t),L.middleware,_.a];if(o){var M=new C.a(o);D.push(Object(x.a)(M,m.m))}if(i){var H=new O.a(i);D.push(Object(R.a)(H,m.m))}var F=new w.b(t,r.sessionId),U=(e.document?e.document.initialPageNumber:1)||1,B=h.a(n,r.sessionId,r.embedTrackingQuery,k,U,a,F,s,P),j=l.c,z=Object(l.d)(B,e.preloadedState,j(l.a.apply(void 0,D))),G=c.a.createElement(d.a,{store:z},c.a.createElement(p.a,{documentConnector:u,loadStatsTracker:N,featureTracker:F,metrics:t})),W=L.api(z);return window.ISSUU_READER_STORE=z,window.ISSUU_READER_OBJECT=G,window.ISSUU_READER_EXTERNAL_API=W,{reader:G,api:W}}},function(e,t,n){"use strict";var r=n(280);n.d(t,"w",function(){return r.a}),n.d(t,"x",function(){return r.b});var i=n(281);n.d(t,"y",function(){return i.a});var o=n(282);n.d(t,"r",function(){return o.a});var a=n(283);n.d(t,"t",function(){return a.a}),n.d(t,"A",function(){return a.b}),n.d(t,"C",function(){return a.c});var s=n(37);n.d(t,"b",function(){return s.d}),n.d(t,"h",function(){return s.j}),n.d(t,"k",function(){return s.l});var u=n(284);n.d(t,"i",function(){return u.a});var c=n(285);n.d(t,"a",function(){return c.a});var l=n(286);n.d(t,"o",function(){return l.a}),n.d(t,"p",function(){return l.b}),n.d(t,"q",function(){return l.c}),n.d(t,"s",function(){return l.d}),n.d(t,"u",function(){return l.e}),n.d(t,"v",function(){return l.f});var d=n(287);n.d(t,"g",function(){return d.a}),n.d(t,"l",function(){return d.b});var p=n(288);n.d(t,"c",function(){return p.a}),n.d(t,"d",function(){return p.b}),n.d(t,"e",function(){return p.c}),n.d(t,"f",function(){return p.d}),n.d(t,"j",function(){return p.e}),n.d(t,"m",function(){return p.f}),n.d(t,"B",function(){return p.g});var h=n(290);n.d(t,"z",function(){return h.a});var f=n(291);n.d(t,"n",function(){return f.a})},,function(e,t,n){"use strict";n.d(t,"i",function(){return o}),n.d(t,"g",function(){return a}),n.d(t,"h",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"f",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"b",function(){return g});var r=n(50),i=n(54),o="tooltip-operation",a="link-operation",s="shadow-operation",u="depth-map-operation",c="bending-page-operation",l="fill-bending-page-operation",d="highlight-operation",p="highlight-flash-operation",h=[];function f(e){return Array.isArray(e)?e:null!==e&&void 0!==e?[e]:h}var m={_pool:[],created:0,get:function(e,t,n,r){if(this._pool.length){var i=this._pool.pop();return i.x=e,i.y=t,i.width=n,i.height=r,i}return this.created++,{x:e,y:t,width:n,height:r}},release:function(e){this._pool.push(e)},unreleasedCount:function(){return this.created-this._pool.length}},g=function(){function e(t,n){babelHelpers.classCallCheck(this,e),this.props=t,this.parent=n}return e.prototype.getChildTree=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return[]},e.prototype.requestRedraw=function(){this.root._pendingRedraw=!0},e.prototype.getChildrenToTraverse=function(){return this.children},e.prototype.getVisibleChildren=function(){var t=m.get(0,0,this.width,this.height),n=[];return e.traverse(this,function(e,r,o,a){return 0===a||(Object(i.a)(t,r)&&e.isVisible&&n.push(e),!1)},this.getViewportCTM()),m.release(t),n},e.prototype.getVisibleDescendants=function(){var t=m.get(0,0,this.width,this.height),n=[];return e.traverse(this,function(e,r,o,a){return 0===a||(Object(i.a)(t,r)&&e.isVisible&&n.push(e),!0)},this.getViewportCTM()),m.release(t),n},e.prototype.overlaps=function(e){var t=this.bbox,n=Object(i.a)(e,t);return m.release(t),n},e.prototype.shouldComponentUpdate=function(e){if(this.props===e)return!1;var t=Object.keys(this.props),n=Object.keys(e);if(t.length!==n.length)return!0;for(var i=0;i<t.length;i++){var o=t[i];if(this.props[o]instanceof r.a&&e[o]instanceof r.a&&!this.props[o].isEqualWith(e[o]))return!0;if(this.props[o]!==e[o])return!0}return!1},e.prototype.getViewportCTM=function(){var e=this.transform;return this.parent&&(e=this.parent.getViewportCTM().multiply(e)),e},e.prototype.forceUpdate=function(){e.updateProps(this,this.props,!0)},e.updateProps=function(t,n,r){var i={type:Object.getPrototypeOf(t).constructor,props:n};e.buildTree(i,t,t,null,r)},e.buildTree=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(!t&&n)return n;var s=t.type,u=t.props;if(n){if(s.prototype!==Object.getPrototypeOf(n))throw new Error("Unsupported update. Trying to replace "+Object.getPrototypeOf(n).constructor.name+" with "+s.prototype.constructor.name);var c=Object.assign({},n.props,u),l=o||n.shouldComponentUpdate(c);l&&n.componentWillUpdate&&n.componentWillUpdate(c);var d=n.props;if(n.props=c,l){var p=f(n.getChildTree(!0)),h=n&&n.children||[];p.forEach(function(t,n){e.buildTree(t,h[n],r,null,o,a+1)}),n.componentDidUpdate&&n.componentDidUpdate(d),n.requestRedraw()}return n}var m=new s(u,i);m.owner=r;var g=m.getChildTree();return m.children=f(g).map(function(t){return e.buildTree(t,n,m,m,o,a+1)}),m.componentDidMount&&m.componentDidMount(),m},e.createElement=function(e,t){return{type:e,props:t||{}}},e.traverse=function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new r.a,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=o.transformRect(m.get(0,0,t.width,t.height));if(n(t,s,o,a)){var u=t.getChildrenToTraverse();if(u&&u.length){var c=u.slice(0).sort(function(e,t){return e.zOrder-t.zOrder}),l=Array.isArray(c),d=0;for(c=l?c:c[Symbol.iterator]();;){var p;if(l){if(d>=c.length)break;p=c[d++]}else{if((d=c.next()).done)break;p=d.value}var h=p,f=o.matrix[0],g=o.matrix[1],v=o.matrix[2],_=o.matrix[3],b=o.matrix[4],y=o.matrix[5];o.mMultiply(h.transform);var E=o.transformRect(m.get(0,0,h.width,h.height));Object(i.a)(s,E)&&e.traverse(h,n,o,a+1),o.mSet(f,g,v,_,b,y),m.release(E)}}m.release(s)}else m.release(s)},e.drawWebgl=function(t,n,r){var i=n.gl;if(i){var h={width:i.drawingBufferWidth,height:i.drawingBufferHeight},f=[];e.drawTree(t,r,null,function(e,t){e.appendWebglOps&&e.appendWebglOps(f,t,h)}),i.clearColor(0,0,0,0),i.clearStencil(0),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT|i.STENCIL_BUFFER_BIT),f.forEach(function(e){var t,r,i,h,f,m,g,v;switch(e.type){case o:(t=n.linkTooltip).draw.apply(t,e.args);break;case a:(r=n.link).draw.apply(r,e.args);break;case s:(i=n.shadowDraw).draw.apply(i,[n.shadow.depthMapTexture].concat(e.args));break;case c:(h=n.bendingPage).draw.apply(h,e.args);break;case l:(f=n.bendingPage).fill.apply(f,e.args);break;case u:(m=n.shadow).computeDepthMap.apply(m,e.args);break;case d:(g=n.highlights).draw.apply(g,e.args);break;case p:(v=n.highlights).drawSelected.apply(v,e.args);break;default:throw new Error("Unknown 3d operation: "+e.type)}})}},e.draw2d=function(t,n,r){n.clearRect(r.x,r.y,r.width,r.height),e.drawTree(t,r,null,function(e,t){e.draw&&e.draw(n,t)})},e.drawTree=function(t,n,o,a){if(t._pendingRedraw&&(t._pendingRedraw=!1),t.isVisible){var s=o?new Float32Array(o.matrix):null;o?o.mMultiply(t.transform):o=(new r.a).mMultiply(t.getViewportCTM());var u=o.transformRect(m.get(0,0,t.width,t.height));if(Object(i.a)(n,u)){t.beforeDraw&&t.beforeDraw(u),a(t,u);var c=t.getChildrenToTraverse();c&&c.length&&c.slice(0).sort(function(e,t){return e.zOrder-t.zOrder}).forEach(function(t){return e.drawTree(t,n,o,a)}),t.afterDraw&&t.afterDraw(u)}m.release(u),s&&o.mSetMatrix(s)}},e.connect=function(t,n){return function(r){function i(e,o){babelHelpers.classCallCheck(this,i);var a=e.store||o.root&&o.root.__store__;if(!a)throw new Error("Cannot connect "+t.toString()+": Cannot get store!");var s=a.getState(),u=babelHelpers.possibleConstructorReturn(this,r.call(this,babelHelpers.extends({},e,{dispatch:a.dispatch},n(s)),o));return u._unsubscribe=function(){},u}return babelHelpers.inherits(i,r),i.prototype.componentDidMount=function(){var r=this,i=this.root.__store__;if(!i)throw new Error("Root component has no store, cannot connect");this._unsubscribe=i.subscribe(function(){var t=i.getState(),o=Object.assign({dispatch:i.dispatch},r.props,n(t));e.updateProps(r,o)});var o=t.prototype.componentDidMount;o&&o.call(this)},i.prototype.componentWillUnmount=function(){this._unsubscribe();var e=t.prototype.componentWillUnmount;e&&e.call(this)},babelHelpers.createClass(i,[{key:"displayName",get:function(){return"Connected"+t.name}}]),i}(t)},e.unmountTree=function(t){var n=t.children,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var a=o;e.unmountTree(a)}t.componentWillUnmount&&t.componentWillUnmount()},babelHelpers.createClass(e,[{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:"inAnimation",get:function(){return!!this.parent&&this.parent.inAnimation}},{key:"hasPendingRedraw",get:function(){return this.root._pendingRedraw}},{key:"transform",get:function(){return this._transform||(this._transform=this.props.transform||new r.a),this._transform}},{key:"viewportBBox",get:function(){return this.getViewportCTM().transformRect(m.get(0,0,this.width,this.height))}},{key:"bbox",get:function(){return this.transform.transformRect(m.get(0,0,this.width,this.height))}},{key:"width",get:function(){return this.props.width||0}},{key:"height",get:function(){return this.props.height||0}},{key:"zOrder",get:function(){return 0}},{key:"isVisible",get:function(){return!0}},{key:"displayName",get:function(){return Object.getPrototypeOf(this).constructor.name}}]),e}();g.RectPool=m,g.lastTick=0},function(e,t,n){"use strict";n.d(t,"G",function(){return v}),n.d(t,"q",function(){return _}),n.d(t,"w",function(){return b}),n.d(t,"D",function(){return y}),n.d(t,"v",function(){return E}),n.d(t,"t",function(){return T}),n.d(t,"h",function(){return w}),n.d(t,"H",function(){return C}),n.d(t,"k",function(){return x}),n.d(t,"j",function(){return O}),n.d(t,"A",function(){return R}),n.d(t,"y",function(){return S}),n.d(t,"m",function(){return I}),n.d(t,"s",function(){return A}),n.d(t,"d",function(){return P}),n.d(t,"c",function(){return k}),n.d(t,"a",function(){return N}),n.d(t,"C",function(){return L}),n.d(t,"B",function(){return D}),n.d(t,"p",function(){return M}),n.d(t,"F",function(){return H}),n.d(t,"f",function(){return F}),n.d(t,"g",function(){return U}),n.d(t,"u",function(){return B}),n.d(t,"r",function(){return j}),n.d(t,"o",function(){return z}),n.d(t,"n",function(){return G}),n.d(t,"b",function(){return W}),n.d(t,"e",function(){return V}),n.d(t,"E",function(){return Y}),n.d(t,"x",function(){return Z}),n.d(t,"z",function(){return q}),n.d(t,"l",function(){return K}),n.d(t,"i",function(){return Q});var r=n(6),i=n(32),o=n(235),a=n(174),s=n(22),u=n(15),c=n(34),l=n(12),d=n(101),p=n(13),h=n(21),f=n(25),m=n(24);function g(e){return Object(r.a)(function(e){return e.features.controls},function(t){for(var n=0;n<t.length;n++)if(t[n].type===e)return t[n]})}var v=g(h.ZOOM_TYPE),_=g(h.ISSUU_BRANDING_TYPE),b=g(h.NAVIGATION_LINK_TYPE),y=g(h.SHARE_DIALOG_TYPE),E=g(h.NAVIGATION_ARROWS_TYPE),T=g(h.LINKS_TYPE),w=function(e){return e.features.canUseCredentials},C=Object(r.a)(function(e){return e.reader.zoomLevel},function(e){return 100/(m.b-m.c)*(e-m.c)}),x=function(e){return e.reader.positionInPercent},O=function(e){return e.reader.currentPageNumbers},R=Object(r.a)(function(e){return e.features.readModeRules},p.d,function(e){return e.size.width},function(e){return e.size.height},function(e,t,n,r){return Object(a.a)(n,r,t,e)}),S=Object(r.a)(R,function(e){return Object(c.b)(e)},function(e){return Object(c.e)(e)},function(e,t,n){return e===f.DOUBLE_PAGE_SPREAD?n:t.map(function(e){return{pages:[e]}})}),I=Object(r.a)(O,R,function(e,t){return Object(i.a)(t,e[0])}),A=Object(r.a)(R,function(e){return Object(l.d)(e)},function(e,t){var n=t.pageCount;return Object(i.a)(e,n)}),P=Object(r.a)(I,A,function(e,t){return e===t}),k=Object(r.a)(I,function(e){return 0===e}),N=function(e){var t=e.features.showControlsUntilFirstInteraction,n=e.reader,r=n.interactedWithReader,i=n.hoveringOverControls,o=n.interactingWithControls,a=n.isIdle,s=e.headerControls,u=s.visibleDropdown,c=s.readMoreDropdownVisible,l=e.find.isVisible;return!!(i||o||null!==u||c||t&&!r||l)||!a},L=Object(r.a)(function(e){return e.size.width},function(e){return e.size.height},function(e,t){var n=Object(s.a)();return Math.floor(e/n)+"x"+Math.floor(t/n)}),D=Object(r.a)(function(e){return e.size.width},function(e){return e.size.height},function(e,t){var n=Object(s.a)();return e<=200*n||t<=150*n?d.c:e<=400*n||t<=300*n?d.b:d.a}),M=Object(r.a)(D,p.d,function(e,t){return(e===d.c||e===d.b)&&!t}),H=Object(r.a)(D,_,function(e,t){return!(e===d.c||!t)}),F=Object(r.a)(p.d,function(e){return Object(u.h)(e)},function(e){return e.features.backgroundColor},function(e){return e.features.fullscreenBackgroundColor},function(e,t,n,r){return e?r&&t?r:"#353535":n||"#353535"}),U=Object(r.a)(p.d,function(e){return Object(u.i)(e)},function(e){return e.features.backgroundImage},function(e,t,n){if(n&&t&&(e||!n.hideWhenNotInFullscreen))return n}),B=Object(r.a)(p.d,function(e){return Object(u.j)(e)},function(e){return e.features.logo},function(e,t,n){if(n&&t&&(e||!n.hideWhenNotInFullscreen))return n}),j=function(e){return e.config.embedTrackingQuery},z=Object(r.a)(function(e){return e.config.origins.main},function(e){return Object(l.d)(e)},O,function(e,t,n){return""+e+t.path+"/"+n[0]}),G=Object(r.a)(function(e){return Object(l.d)(e)},O,function(e,t){var n="https://issuu.com"+e.path,r=t[0];return r>1?n+"/"+r:n}),W=function(e){var t=e.headerControls,n=t.visibleDropdown,r=t.readMoreDropdownVisible;return null!==n||r},V=Object(r.a)(function(e){return e.headerControls.readMoreDropdownVisible},function(e){return e.readmore.exitedFullscreen},function(e){return e.readMorePlugin},function(e){return Object(u.o)(e)},function(e){return Object(u.m)(e)},function(e,t,n,r,i){var o=n&&n.shouldRenderExitFullscreenOverlay(r,i);return!!(e||t&&o)}),Y=Object(r.a)(p.e,M,function(e,t){return!!(e&&e.overlayOnSmallReaders&&t)}),X=Object(r.a)(function(e){return e.reader.targetSpreadIndex},I,function(e,t){return e>-1?e:t}),Z=Object(r.a)(X,S,function(e,t){return Object(o.a)(e,t)}),q=Object(r.a)(X,S,function(e,t){return Object(o.b)(e,t)}),K=Object(r.a)(O,function(e){return Object(c.b)(e)},function(e,t){return Object(i.c)({pages:e.map(function(e){return t[e-1]})})}),Q=Object(r.a)(T,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!e&&!e.allowExplicitVideo})},,function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var r={BUTTON_ARROW_BACKWARD:["HO_CHANGE_PAGE","HO_INPUT_BUTTON"],BUTTON_ARROW_FORWARD:["HO_CHANGE_PAGE","HO_INPUT_BUTTON"],BUTTON_CTA_OVERLAY:["HO_INPUT_BUTTON","HO_ENTER_FULLSCREEN"],BUTTON_FULLSCREEN:["HO_INPUT_BUTTON","HO_ENTER_FULLSCREEN"],BUTTON_ENGAGE_LARGEVIEW:["HO_INPUT_BUTTON"],BUTTON_DISENGAGE_LARGEVIEW:["HO_INPUT_BUTTON"],BUTTON_ZOOMIN:["HO_CHANGE_ZOOM","HO_INPUT_BUTTON"],BUTTON_ZOOMOUT:["HO_CHANGE_ZOOM","HO_INPUT_BUTTON"],BUTTON_LOGO:["HO_INPUT_BUTTON"],BUTTON_DOWNLOAD:["HO_INPUT_BUTTON"],GESTURE_DRAG_PAGES:["HO_CHANGE_PAGE","HO_INPUT_GESTURE"],GESTURE_PINCH_ZOOM:["HO_CHANGE_ZOOM","HO_INPUT_GESTURE"],DOUBLE_TAP_ZOOM:["HO_CHANGE_ZOOM","HO_INPUT_GESTURE"],KEYBOARD_BACKWARD:["HO_CHANGE_PAGE","HO_INPUT_KEYBOARD"],KEYBOARD_FORWARD:["HO_CHANGE_PAGE","HO_INPUT_KEYBOARD"],SLIDER_PAGES:["HO_CHANGE_PAGE","HO_INPUT_SLIDER"],SLIDER_ZOOM:["HO_CHANGE_ZOOM","HO_INPUT_SLIDER"],BUTTON_SHARE:["HO_INPUT_BUTTON"],SHARE_EMAIL:["HO_SHARE_SOCIAL"],SHARE_FACEBOOK:["HO_SHARE_SOCIAL"],SHARE_TWITTER:["HO_SHARE_SOCIAL"],SHARE_PINTEREST:["HO_SHARE_SOCIAL"],BUTTON_MORE:["HO_MORE_CONTENT","HO_INPUT_BUTTON"],FULLSCREEN_MORE:["HO_MORE_CONTENT"],PUBLICATION_LINK:[],PUBLICATION_VIDEO_LINK:[],PUBLICATION_INLINE_VIDEO_LINK:[],DOWNLOAD_FROM_ISSUU_LINK:[],NAVIGATION_LINK:[],BUTTON_OPEN_FIND:["HO_INPUT_BUTTON","HO_OPEN_FIND",{opportunity:"HO_FIND"}],KEYBOARD_OPEN_FIND:["HO_INPUT_KEYBOARD","HO_OPEN_FIND",{opportunity:"HO_FIND"}],FIND_QUERY:[{usage:"HO_FIND"}],FIND_NEXT:[],FIND_PREV:[],FIND_CLOSE:[],FIND_CLOSE_BLUR:[]},i=Object.keys(r).reduce(function(e,t){return e[t]=t,e},{});function o(e,t){return r[e].reduce(function(e,n){return"string"==typeof n?e.push(n):n.hasOwnProperty(t)&&e.push(n[t]),e},[e])}var a=function(){function e(t,n){babelHelpers.classCallCheck(this,e),this._opportunitySent={},this._usageSent={},this.monitorTracker=t,this.userId=n}return e.prototype.opportunity=function(e){var t=this;this._opportunitySent.hasOwnProperty(e)||o(e,"opportunity").forEach(function(e){if(!t._opportunitySent.hasOwnProperty(e)){var n="reader3-features."+e;t.monitorTracker.monitor(n,{opportunity:1,userId:t.userId}),t._opportunitySent[e]=!0}})},e.prototype.usage=function(e){var t=this;o(e,"usage").forEach(function(e){var n="reader3-features."+e,r=t._usageSent.hasOwnProperty(e)?0:1;t.monitorTracker.monitor(n,{usageRepeat:1,usageFirst:r,userId:t.userId}),t._usageSent[e]=!0})},e}()},function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return u}),n.d(t,"q",function(){return m}),n.d(t,"g",function(){return g}),n.d(t,"p",function(){return v}),n.d(t,"o",function(){return _}),n.d(t,"i",function(){return b}),n.d(t,"h",function(){return y}),n.d(t,"d",function(){return E}),n.d(t,"n",function(){return T}),n.d(t,"m",function(){return w}),n.d(t,"l",function(){return C}),n.d(t,"k",function(){return x}),n.d(t,"f",function(){return O}),n.d(t,"e",function(){return R}),n.d(t,"j",function(){return S});var r=n(5),i="SET_TARGET_SPREAD_INDEX",o="SET_INTERACTING_WITH_CONTROLS",a="SET_INTERACTED_WITH_READER",s="SET_HOVERING_OVER_CONTROLS",u="READER_ZOOM_LEVEL_CHANCED",c="LARGE_VIEW_HIDE",l="LARGE_VIEW_SHOW_ENGAGED",d="LARGE_VIEW_SHOW_DISENGAGED",p="LARGE_VIEW_BUTTON_PROMOTED",h="LARGE_VIEW_BUTTON_NOT_PROMOTED",f="LARGE_VIEW_BUTTON_CLICKED",m={SET_TARGET_SPREAD_INDEX:i,SET_INTERACTING_WITH_CONTROLS:o,SET_INTERACTED_WITH_READER:a,SET_HOVERING_OVER_CONTROLS:s,READER_ZOOM_LEVEL_CHANCED:u,LARGE_VIEW_HIDE:c,LARGE_VIEW_SHOW_ENGAGED:l,LARGE_VIEW_SHOW_DISENGAGED:d,LARGE_VIEW_BUTTON_PROMOTED:p,LARGE_VIEW_BUTTON_NOT_PROMOTED:h,LARGE_VIEW_BUTTON_CLICKED:f};function g(){return{type:c}}function v(){return{type:l}}function _(){return{type:d}}function b(){return{type:p}}function y(){return{type:h}}function E(){return{type:f}}function T(e){return{type:o,val:e}}function w(){return{type:a}}function C(e){return{type:s,val:e}}function x(e){return function(t,n){var o=n(),a=Object(r.s)(o),s=Math.max(0,Math.min(e,a));t(function(e){return{type:i,index:e}}(s));var u=n().canvasApi;u&&u.goToSpread(s)}}function O(){return function(e,t){var n=t(),i=Object(r.z)(n);return-1===i&&(i=0),e(x(i))}}function R(){return function(e,t){var n=t(),i=Object(r.x)(n);return-1===i&&(i=Object(r.s)(n)),e(x(i))}}function S(e,t){return{type:u,isPinching:t,zoomLevel:e}}},,function(e,t,n){"use strict";n.d(t,"g",function(){return l}),n.d(t,"a",function(){return d}),n.d(t,"j",function(){return p}),n.d(t,"h",function(){return h}),n.d(t,"i",function(){return f}),n.d(t,"f",function(){return m}),n.d(t,"e",function(){return v}),n.d(t,"c",function(){return _}),n.d(t,"d",function(){return b}),n.d(t,"l",function(){return y}),n.d(t,"b",function(){return E}),n.d(t,"k",function(){return T});var r=n(5),i=n(24),o=n(40),a=n(13),s=void 0;function u(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t,n){var o=n();o.reader.isIdle&&t({type:"SET_IS_IDLE",isIdle:!1}),s&&clearTimeout(s),s=null,e&&(s=setTimeout(function(){t({type:"SET_IS_IDLE",isIdle:!0})},function(e){var t=e.reader.zoomLevel;return Object(a.d)(e)||r.E(e)||1!==t?i.d:31536e6}(o)))}}function c(){return function(e,t){t().reader.isIdle||e({type:"SET_IS_IDLE",isIdle:!0}),s&&(clearTimeout(s),s=null)}}function l(e){return function(t,n){var i=[o.j,o.i,o.k].includes(e),a=[o.h,o.a].includes(e),s=r.m(n()),l=r.s(n());t(a&&s>1||i&&s+1<l?c():u())}}function d(){return function(e,t){e(u())}}function p(){return function(e,t){e(u())}}function h(){return function(e,t){e(u())}}function f(){return function(e,t){e(c())}}function m(){return function(e,t){e(u())}}var g=NaN;function v(){return function(e,t){isNaN(g)&&(g=t().reader.zoomLevel),e(1!==g?c():u())}}function _(){return function(e,t){var n=t().reader.zoomLevel;e(1!==g&&1!==n?c():u(!1))}}function b(){return function(e,t){var n=t().reader.zoomLevel;e(1!==g&&1!==n?c():u()),g=NaN}}function y(){return function(e,t){e(u())}}function E(){return function(e,t){e(u())}}function T(){return function(e,t){e(u())}}},,function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"c",function(){return c});var r=n(6),i=n(2),o="@reader3/document/DOCUMENTLOADED",a={documentName:"",username:"",userDisplayName:"",publicationId:"",revisionId:"",title:"",downloadable:!1,isPaywallPreview:!1,isAdsafe:!1};function s(e){return{type:o,doc:e}}var u=Object(r.a)(function(e){return e.metadata},function(e){return e.pages.pages},function(e){return e.config.origins},function(e,t,n){return{documentId:e.revisionId+"-"+e.publicationId,documentName:e.documentName,publicationId:e.publicationId,revisionId:e.revisionId,title:e.title,path:"/"+e.username+"/docs/"+e.documentName,coverUri:t[0]?""+i.k+t[0].imageUri:"",pageCount:t.length,userDisplayName:e.userDisplayName,username:e.username,userProfileImageUri:n.photo+"/"+e.username+"/photo_large.jpg",userProfileUri:n.main+"/"+e.username}});function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case o:var n=t.doc;return{documentName:n.documentName.toLowerCase(),username:n.username.toLowerCase(),userDisplayName:n.userDisplayName,publicationId:n.publicationId,revisionId:n.revisionId,title:n.title,downloadable:n.downloadable,isPaywallPreview:n.isPaywalled,protectedContentUrlId:n.protectedContentUrlId,isAdsafe:!(!n.contentRating||!n.contentRating.isAdsafe)};default:return e}}},function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"d",function(){return h}),n.d(t,"f",function(){return f});var r=n(6),i=n(66),o=n(108),a=n(175),s=n(21),u="ENTER_FULLSCREEN",c="EXIT_FULLSCREEN",l={ENTER_FULLSCREEN:u,EXIT_FULLSCREEN:c};function d(){var e={enabled:!1,supported:i.e()};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments[1];switch(n.type){case u:return Object.assign({},t,{enabled:n.fullscreenMethod===o.a});case c:return Object.assign({},t,{enabled:!1});default:return t}}}var p=Object(r.a)(function(e){return e.features.controls},function(e){for(var t=0;t<e.length;t++)if(e[t].type===s.FULLSCREEN_TYPE)return e[t]}),h=Object(r.a)(p,function(e){return e.fullscreen.enabled},function(e,t){return Object(a.a)(e,t)});function f(e){return function(t,n){var r=n(),a=p(r),l=h(r);a&&a.kind!==s.FULLSCREEN_KIND.FALLBACK&&t(l?function(e,t){t().fullscreen.enabled&&i.c().then(function(){e({type:c,fullscreenMethod:o.a})})}:function(e){return function(t,n){var r=n(),a=r.fullscreen.enabled,s="";if(r.reader.isReady){var l=r.config.embedId;s=e+"?ff",l&&(s+="&e="+l)}var d=document.getElementById("ird3-main");i.e()?!a&&d&&i.b(d).then(function(){t({type:u,fullscreenMethod:o.a})}).then(i.g).then(function(){t({type:c,fullscreenMethod:o.a})}):(window.open(s,"_blank"),t({type:u,fullscreenMethod:o.b}))}}(e))}}},,function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"f",function(){return h}),n.d(t,"g",function(){return f}),n.d(t,"h",function(){return g}),n.d(t,"n",function(){return v}),n.d(t,"i",function(){return _}),n.d(t,"j",function(){return b}),n.d(t,"o",function(){return y}),n.d(t,"m",function(){return E}),n.d(t,"l",function(){return T}),n.d(t,"k",function(){return w}),n.d(t,"r",function(){return x}),n.d(t,"q",function(){return R}),n.d(t,"p",function(){return S});var r=n(6),i="@licenses/status/NOT_LOADED",o="@licenses/status/LOADED",a="@licenses/status/FAILED",s="@licenses/status/DISABLED",u="customization_set_bg_color",c="customization_disable_share",l="customization_remove_link_below",d="customization_set_bg_image",p="customization_set_logo",h="customization_show_my_other_publications",f="norelated";function m(e){return Object(r.a)(function(e){return e.licenses},function(t){var n=t.status,r=t.list;return n===s||n===a||n===o&&r.includes(e)})}var g=m(u),v=m(c),_=(m(l),m(d)),b=m(p),y=m(h),E=m(f),T=m("hide_ads_in_reader"),w=Object(r.a)(function(e){return e.licenses},function(e){var t=e.status,n=e.list;return t===o&&n.includes("download")}),C="@reader3/licenses/LICENSES_LOAD_SUCCESS";function x(e){return{list:e,type:C}}var O="@reader3/licenses/LICENSES_LOAD_FAILED";function R(){return{type:O}}function S(){var e={status:arguments.length>0&&void 0!==arguments[0]&&arguments[0]?s:i,list:[]};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments[1];if(!n)return t;if(t.status===s)return t;switch(n.type){case C:return babelHelpers.extends({},t,{status:o,list:n.list});case O:return babelHelpers.extends({},t,{status:a});default:return t}}}},,function(e,t,n){"use strict";var r=n(55);n.d(t,"f",function(){return r.c}),n.d(t,"g",function(){return r.d});var i=n(294);n.d(t,"d",function(){return i.a});var o=n(295);n.d(t,"e",function(){return o.a});var a=n(296);n.d(t,"c",function(){return a.a});var s=n(223);n.d(t,"b",function(){return s.b}),n.d(t,"a",function(){return s.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(449),i=n(467),o=n(0),a=n.n(o);function s(){return window.innerWidth<470&&window.innerWidth>window.innerHeight}var u=function(){function e(t){var n=t.metrics,r=t.embedTrackingQuery,i=void 0===r?"":r,o=t.show,a=void 0===o?e.RELATED:o,s=t.alwaysOverlay,u=void 0!==s&&s,c=t.hideWhenNotInFullscreen,l=void 0!==c&&c,d=t.openInNewTab,p=void 0===d||d;babelHelpers.classCallCheck(this,e),this.showMore=!1,this.showAd=!1,this.embedTrackingQuery="",this.metrics=n,this.show=a,this.embedTrackingQuery=i,this.alwaysOverlay=u,this.hideWhenNotInFullscreen=l,this.openInNewTab=p,this.showOwnDocuments=this.show===e.OWN_DOCUMENTS}return e.prototype.load=function(e,t,n,r,o){var a=this;return this.showMore=this.shouldShowMore(r,o),this.showOwnDocuments=this.shouldShowOwnDocuments(r),this.showAd=!o,this.publicationId=t,this.username=n,this.showMore?Object(i.a)(e,t,n,this.showOwnDocuments).then(function(e){return a.streamState=e,!0}):Promise.resolve(!1)},e.prototype.loadComplete=function(){return void 0!==this.streamState},e.prototype.shouldShowOwnDocuments=function(t){return this.show===e.OWN_DOCUMENTS&&t},e.prototype.shouldShowRelated=function(t,n){return this.show===e.RELATED||this.show===e.RELATED_FOR_FREE_PUBLISHERS&&!n||this.show===e.OWN_DOCUMENTS&&!t&&!n},e.prototype.shouldShowMore=function(e,t){return this.shouldShowRelated(e,t)||this.shouldShowOwnDocuments(e)},e.prototype.shouldAlwaysBeOverlay=function(){return this.alwaysOverlay},e.prototype.hasStreamData=function(){return this.loadComplete()&&this.streamState.buttonStream&&this.streamState.buttonStream.length>0},e.prototype.shouldRenderButton=function(e,t,n){return!(this.hideWhenNotInFullscreen&&!n)&&(this.hasStreamData()&&this.shouldShowMore(e,t))},e.prototype.shouldRenderExitFullscreenOverlay=function(e,t){return!this.hideWhenNotInFullscreen&&this.hasStreamData()&&this.shouldShowMore(e,t)},e.prototype.getButtonUnreadCount=function(){var e=void 0;return(e=void 0!==this.unreadCount?this.unreadCount:this.streamState&&this.streamState.buttonStream?this.streamState.buttonStream.length:void 0)&&s()&&(e=Math.min(e,3)),e},e.prototype.clearButtonUnreadCount=function(){this.unreadCount=0},e.prototype.render=function(e,t,n,i,o){return a.a.createElement(r.a,{config:e,debug:t,exitedFullscreen:n,embedTrackingQuery:this.embedTrackingQuery,isVisible:i,openInNewTab:this.openInNewTab,publicationId:this.publicationId,shouldHackStreamCount:s(),showAd:this.showAd,showAsOverlay:o,showMore:this.showMore,showOwnDocuments:this.showOwnDocuments,streamState:this.streamState,metrics:this.metrics,username:this.username})},e}();u.OWN_DOCUMENTS="READ_MORE_PlUGIN_OWN_DOCUMENTS",u.RELATED_FOR_FREE_PUBLISHERS="READ_MORE_PlUGIN_RELATED_FOR_FREE_PUBLISHERS",u.RELATED="READ_MORE_PlUGIN_RELATED"},,,function(e,t,n){"use strict";n.r(t),n.d(t,"FULLSCREEN_TYPE",function(){return r}),n.d(t,"FULLSCREEN_KIND",function(){return i}),n.d(t,"FULLSCREEN_BUTTON",function(){return o}),n.d(t,"ISSUU_BRANDING_TYPE",function(){return a}),n.d(t,"LINKS_TYPE",function(){return s}),n.d(t,"SHARE_DIALOG_TYPE",function(){return u}),n.d(t,"NAVIGATION_LINK_TYPE",function(){return c}),n.d(t,"ZOOM_TYPE",function(){return l}),n.d(t,"FULLSCREEN_AD_PLACEMENT_TYPE",function(){return d}),n.d(t,"DOWNLOAD_TYPE",function(){return p}),n.d(t,"DOWNLOAD_PROTECTED_TYPE",function(){return h}),n.d(t,"NAVIGATION_ARROWS_TYPE",function(){return f}),n.d(t,"BACKGROUND_IMAGE_STYLE",function(){return m}),n.d(t,"READ_MODE",function(){return g});var r="FEATURE_FULLSCREEN",i={NORMAL:"NORMAL",FALLBACK:"FALLBACK"},o={ALWAYS:"ALWAYS",HIDE:"HIDE_WHEN_NOT_SUPPORTED"},a="FEATURE_ISSUU_BRANDING",s="FEATURE_LINKS",u="FEATURE_SHARE_DIALOG",c="FEATURE_NAVIGATION_LINK",l="FEATURE_ZOOM",d="FEATURE_FULLSCREEN_AD_PLACEMENT",p="FEATURE_DOWNLOAD",h="FEATURE_DOWNLOAD_PROTECTED",f="FEATURE_NAVIGATION_ARROWS",m={STRETCH:"STRETCH",TOP_LEFT:"TOP_LEFT"},g=n(25)},function(e,t,n){"use strict";function r(){return window.devicePixelRatio||1}n.d(t,"a",function(){return r})},,function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"h",function(){return u}),n.d(t,"i",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"k",function(){return d}),n.d(t,"j",function(){return p}),n.d(t,"d",function(){return h});var r=1,i=5,o=500,a=250,s=20,u=20,c=45,l=20,d=20,p=45,h=3e3},function(e,t,n){"use strict";n.r(t),n.d(t,"DOUBLE_PAGE_SPREAD",function(){return r}),n.d(t,"SINGLE_PAGE_SPREAD",function(){return i}),n.d(t,"RESPONSIVE",function(){return o});var r="DOUBLE_PAGE_SPREAD",i="SINGLE_PAGE_SPREAD",o={HANDHELD_IN_PORTRAIT:"HANDHELD_IN_PORTRAIT",HANDHELD_IN_PORTRAIT_FULLSCREEN:"HANDHELD_IN_PORTRAIT_IN_FULLSCREEN",PHONE_ISH_IN_PORTRAIT:"PHONE_ISH_IN_PORTRAIT"}},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"h",function(){return u}),n.d(t,"g",function(){return c}),n.d(t,"f",function(){return l});var r="SWIPE_LEFT",i="SWIPE_RIGHT",o="SWIPE_UP",a="SWIPE_DOWN",s="SWIPE_OTHER",u="ZOOM_OUT",c="ZOOM_IN",l="UNDEFINED"},,function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"m",function(){return i}),n.d(t,"k",function(){return o}),n.d(t,"n",function(){return a}),n.d(t,"l",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return c}),n.d(t,"j",function(){return l}),n.d(t,"i",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"f",function(){return h}),n.d(t,"h",function(){return f}),n.d(t,"e",function(){return m}),n.d(t,"g",function(){return g});var r="DOCUMENT_LOAD_MESSAGE",i="USER_INTERACTED_MESSAGE",o="PAGE_CHANGE_MESSAGE",a="ZOOM_MESSAGE",s="RESIZE_MESSAGE",u="DOCUMENT_DOWNLOAD_MESSAGE",c="CLIPPING_ACTION_MESSAGE",l="MORE_CONTENT_DOCUMENT_SHOW_MESSAGE",d="MORE_CONTENT_DOCUMENT_CLICK_MESSAGE",p="MONITOR_BATCHED_MESSAGE",h="MONITOR_MESSAGE",f="MONITOR_TRAFFIC_SOURCE",m="MONITOR_DROPPED_FRAMES",g="MONITOR_TIME_TO_COVER"},function(e,t,n){"use strict";n.d(t,"g",function(){return u}),n.d(t,"a",function(){return c}),n.d(t,"t",function(){return l}),n.d(t,"e",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"u",function(){return h}),n.d(t,"b",function(){return f}),n.d(t,"f",function(){return m}),n.d(t,"m",function(){return g}),n.d(t,"n",function(){return v}),n.d(t,"r",function(){return _}),n.d(t,"p",function(){return b}),n.d(t,"i",function(){return y}),n.d(t,"o",function(){return T}),n.d(t,"q",function(){return w}),n.d(t,"h",function(){return C}),n.d(t,"j",function(){return x}),n.d(t,"s",function(){return O}),n.d(t,"l",function(){return R}),n.d(t,"k",function(){return S}),n.d(t,"c",function(){return I});var r=n(6),i=n(97),o=n(2),a={isVisible:!1,results:null,textInfoUrl:null,version:null,currentResultIdx:null,inputFieldValue:"",latestQuery:"",textInfo:"INITIAL",loadTextInfo:i.b};function s(){return function(e,t){switch(t().find.textInfo){case"INITIAL":case"FAILED":return e(function(e,t){var n=t().find,r=n.textInfoUrl,i=n.loadTextInfo;if(!r)throw new Error("attempting to find with textInfoUrl unset!");return e({type:"FIND_SET_TEXT_INFO_REQUESTED"}),i(""+o.k+r).then(function(t){return e({type:"FIND_SET_TEXT_INFO",textInfo:t})}).catch(function(){return e({type:"FIND_SET_TEXT_INFO_FAILED"})})});default:return Promise.resolve()}}}function u(){return function(e,t){return e({type:"FIND_OPEN_DIALOG"}),e(s()),Promise.resolve()}}function c(){return{type:"FIND_CLOSE_DIALOG"}}function l(e){return function(t,n){return Promise.resolve(t({type:"FIND_SET_CURRENT_RESULT",idx:e}))}}function d(e){if(e.target instanceof HTMLInputElement)return{type:"FIND_SET_INPUT_VALUE",value:e.target.value};throw new Error("type mismatch. Excpected input element!")}function p(e){return function(t,n){return function(r,i){return r({type:"FIND_SET_LATEST_QUERY",value:t}),r(s()).then(function(){var o=i().find.textInfo;if(t&&o instanceof Object){var a=e(t,o),s=a.findIndex(function(e){return e.pageNo>=n});return r({type:"FIND_SET_RESULTS",results:a,currentResultIdx:s<0?a.length-1:s})}return r({type:"FIND_SET_RESULTS",results:null,currentResultIdx:null})})}}}function h(e,t){return{type:"FIND_SET_TEXT_INFO_URL",url:e,version:t}}function f(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,n=arguments[1];switch(n.type){case"FIND_OPEN_DIALOG":return Object.assign({},t,{isVisible:!0});case"FIND_CLOSE_DIALOG":return Object.assign({},t,{isVisible:!1});case"FIND_SET_TEXT_INFO_URL":return Object.assign({},t,{textInfoUrl:n.url,version:n.version});case"FIND_SET_TEXT_INFO_REQUESTED":return Object.assign({},t,{textInfo:"REQUESTED"});case"FIND_SET_TEXT_INFO_FAILED":return Object.assign({},t,{textInfo:"FAILED"});case"FIND_SET_TEXT_INFO":return Object.assign({},t,{textInfo:n.textInfo});case"FIND_SET_RESULTS":return Object.assign({},t,{results:n.results,currentResultIdx:n.currentResultIdx});case"FIND_SET_CURRENT_RESULT":return Object.assign({},t,{currentResultIdx:n.idx});case"FIND_SET_INPUT_VALUE":return Object.assign({},t,{inputFieldValue:n.value});case"FIND_SET_LATEST_QUERY":return Object.assign({},t,{latestQuery:n.value});case e:if(t.results){var r=n.currentPageNumber,i=t.results.findIndex(function(e){return e.pageNo>=r});return Object.assign({},t,{currentResultIdx:i<0?t.currentResultIdx:i})}return t;default:return t}}}var m=function(e){return e.find.isVisible},g=function(e){return e.find.latestQuery};function v(e){return!g(e)||"REQUESTED"!==e.find.textInfo&&"INITIAL"!==e.find.textInfo?"FAILED"===e.find.textInfo?"FAILED":"READY":"LOADING"}var _=Object(r.a)(function(e){return e.find.results},function(e){return e||[]}),b=function(e){return Array.isArray(e.find.results)?e.find.results.length:null},y=function(e){return"number"==typeof e.find.currentResultIdx?e.find.currentResultIdx+1:0},E=Object(r.a)(y,function(e){return e-1}),T=Object(r.a)(_,E,function(e,t){return e.length?(t+1)%e.length:t}),w=Object(r.a)(_,E,function(e,t){return e.length?(t+e.length-1)%e.length:t}),C=Object(r.a)(_,E,function(e,t){return e[t]}),x=function(e){return e.find.inputFieldValue},O=(Object(r.a)(_,T,function(e,t){return e[t]}),Object(r.a)(_,w,function(e,t){return e[t]}),Object(r.a)(function(e){return e.find.textInfo},function(e){return e instanceof Object?e.pages.map(function(e){return{width:e.width,height:e.height,pageNumber:e.pageNumber}}):[]}));function R(e){var t=e.find;return t.latestQuery!==t.inputFieldValue}var S=function(e){return!!e.find.textInfoUrl};function I(e,t,n,i){return Object(r.a)(e,t,n,_,function(e,t,n,r){if(!e||!n)return[];var o=r.reduce(function(e,t){return e.add(i(n,t.pageNo))},new Set);return Array.from(o).map(function(e){return e*(1/t)})})}},,,function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return a});var r=n(25);function i(e,t){return e===r.DOUBLE_PAGE_SPREAD?1===t?0:Math.floor(t/2):t-1}function o(e){return e.pages.findIndex(function(e){return e.isPagePaywalled})>=0}function a(e){var t=[],n=e.length;if(n>0){t.push({pages:[e[0]]});for(var r=1;r<n-1;r+=2)t.push({pages:[e[r],e[r+1]]});n%2==0&&t.push({pages:[e[n-1]]})}return t}},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s});var r=n(28),i=n(452),o=n(463);function a(){try{return window.document.cookie.match(/\bsite.model.username=([^;]+);/)[1]}catch(e){return null}}var s=function(){function e(t,n){babelHelpers.classCallCheck(this,e),this._isTrackerReady=!1,this._interactedWithReader=!1,this._previousPages=[],this._previousZoom=1,this.metricsEvent=function(e){var t=e.location,n=e.referrer,r=e.monitorEventsOnly,s=e.readerEndPoint,u=e.pingbackOrigin,c=e.source,l=Object(o.a)(),d=l.deviceType,p=l.browserName,h="reader3-v1.0.1681_"+s+"-v1.0.1681",f={pingbackOrigin:u,monitorEventsOnly:r,width:window.innerWidth,height:window.innerHeight,username:a(),location:t,referrer:n,source:c,origin:h,language:"en",deviceType:d,browserName:p,readerEndPoint:s},m=new i.a(f);return function(e){m.onEvent(e)}}(t),this.streamData=t.streamData||{},this.isEmbed=t.isEmbed,this.adpageId=t.adpageId,this.embedId=n}return e.prototype.monitor=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Object.assign({type:e},t);this.metricsEvent({type:n?r.f:r.d,data:i})},e.prototype.onDocumentLoaded=function(e,t){var n=e.publicationId,i=e.revisionId,o=e.documentName,a=e.username;this._previousPages=t,this._isTrackerReady=!0,this.metricsEvent({type:r.c,data:{isEmbed:this.isEmbed,isFullscreen:!1,revisionId:i,publicationId:n,publicationName:o,ownerUsername:a,pages:t,pageNumber:t[0],embedId:this.embedId,adpageId:this.adpageId,streamOrigin:this.streamData.origin,streamRanking:this.streamData.ranking}}),this.metricsEvent({type:r.h})},e.prototype.onActivity=function(e){this._isTrackerReady&&e&&!this._interactedWithReader&&(this._interactedWithReader=!0,this.metricsEvent({type:r.m}))},e.prototype.onPageChanged=function(e){this._isTrackerReady&&0!==e.length&&this._previousPages.join()!==e.join()&&(this._previousPages=e,this.metricsEvent({type:r.k,data:{pages:e,pageNumber:e[0]}}))},e.prototype.onZoom=function(e){this._isTrackerReady&&this._previousZoom!==e&&(this._previousZoom=e,this.metricsEvent({type:r.n}))},e.prototype.onResize=function(e,t){this._isTrackerReady&&this.metricsEvent({type:r.l,data:{displaySize:e,isFullscreen:t}})},e.prototype.onDownload=function(e){var t=e.revisionId,n=e.publicationId,i=e.documentName,o=e.username;this.metricsEvent({type:r.b,data:{anonymous:!0,revisionId:t,publicationId:n,publicationName:i,ownerUsername:o}})},e.prototype.onClippingActionGotoPage=function(e){var t=e.id,n=e.page.pageNumber,i=e.gotoPageNumber;this._isTrackerReady&&this.metricsEvent({type:r.a,data:{clippingId:t,action:"gotoPage",onPage:n,page:i,creator:"publisher"}})},e.prototype.onClippingActionOpenUrl=function(e){var t=e.id,n=e.page.pageNumber,i=e.url;this._isTrackerReady&&this.metricsEvent({type:r.a,data:{clippingId:t,action:"openUrl",onPage:n,creator:"publisher",url:i}})},e.prototype.onTimeToCover=function(e){this.metricsEvent({type:r.g,data:e})},e.prototype.onFrameDrop=function(e){this.metricsEvent({type:r.e,data:{dropped:Math.round(e.droppedFrames),dropped_per_sec:Math.round(Math.min(e.droppedFrames/e.duration*1e3,e.droppedFrames)),duration_in_ms:Math.round(e.duration),webgl:e.webgl}})},e.prototype.onMoreContentDocumentClick=function(e){this.metricsEvent({type:r.i,data:e})},e.prototype.onMoreContentDocumentShow=function(e){this.metricsEvent({type:r.j,data:e})},e}()},function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"e",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"d",function(){return h}),n.d(t,"c",function(){return f});var r=n(6),i=n(2),o=n(35),a=n(12),s=n(32),u=Object(r.a)(function(e){return e.pages.pages},function(e){return e.map(function(e,t){var n=e.imageUri,r=e.layersInfo;return"object"===(void 0===r?"undefined":babelHelpers.typeof(r))&&r.uri&&(r=babelHelpers.extends({},r,{uri:""+i.k+r.uri})),n=""+i.k+n,babelHelpers.extends({},e,{layersInfo:r,imageUri:n})})}),c=Object(r.a)(u,function(e){return e.links.pages},function(e,t){return e.map(function(e,n){var r=t[n];return r?r.links:[]})}),l=Object(r.a)(u,c,a.d,function(e){return o.d.selectTextInfoPageModels(e)},function(e){return o.d.selectResults(e)},function(e){return o.d.selectCurrentResult(e)},function(e,t,n,r,i,o){return e.map(function(e,a){return babelHelpers.extends({},e,{links:t[a],pageNumber:a+1,documentId:n.documentId,textInfoPage:r.find(function(e){return e.pageNumber===a+1}),findResults:i.reduce(function(e,t){return t.pageNo===a+1&&e.push(t.result),e},[]),selectedFindResult:o&&o.pageNo===a+1?o.result:null})})}),d=Object(r.a)(l,function(e){return Object(s.b)(e)}),p=function(e){return e.metadata.isPaywallPreview},h=function(e){return e.metadata.protectedContentUrlId},f=Object(r.a)(function(e){return e.metadata},function(e){return e.pages.pages},function(e,t){return e.isPaywallPreview?t.reduce(function(e,t,n){return t.isPagePaywalled&&e.push(n+1),e},[]):[]})},function(e,t,n){"use strict";n.d(t,"c",function(){return m}),n.d(t,"a",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"d",function(){return f});var r=n(6),i=n(329),o=n(57),a=n(32),s=n(98),u=n(12),c=n(44),l=Object(i.a)({Spinner:s.a,isMobile:o.a.isMobile(),jumpToPageNumber:function(e,t){e.canvasApi.jumpToPage(t)},pageNumberToSpreadIndex:a.a,resetZoom:function(e){e.canvasApi.zoomCurrentView(1)},selectCurrentPageNumber:function(e){return e.reader.currentPageNumber},selectPageCount:function(e){return Object(u.d)(e).pageCount},selectReadMode:Object(r.a)(function(e){var t=e.canvasApi;return t&&t.getReadMode()},function(e){return e}),selectSpreadCount:Object(r.a)(function(e){var t=e.canvasApi;return t&&t.getReadMode()},function(e){return Object(u.d)(e)},function(e,t){var n=t.pageCount;return e&&n?Object(a.a)(e,n):0})}),d=l.actions,p=l.components,h=l.createReducer,f=l.selectors;function m(){return h(c.a)}},,function(e,t,n){"use strict";n.d(t,"f",function(){return i}),n.d(t,"l",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return u}),n.d(t,"g",function(){return c}),n.d(t,"h",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"i",function(){return p}),n.d(t,"k",function(){return h}),n.d(t,"d",function(){return f}),n.d(t,"j",function(){return m});var r=ENV||window.ENV,i=r.ISSUU_ENV_NAME,o=r.SCHEME,a=r.API_DNS,s=r.EMBED_DNS,u=r.IMAGE_DNS,c=r.MAIN_DNS,l=r.PHOTO_DNS,d=r.CREATOR_HUB_DNS,p=r.PINGBACK_DNS,h=r.READER3_DNS,f=(r.STATIC_DNS,r.GOOGLE_ANALYTICS_ID),m=r.QUANTCAST_ID},function(e,t,n){"use strict";n.d(t,"a",function(){return v}),n.d(t,"c",function(){return _}),n.d(t,"b",function(){return b}),n.d(t,"d",function(){return y});var r=n(2),i=n(21),o=n(25),a=n(35),s=n(45),u=n(12),c=n(46),l=n(34),d=n(15),p=n(124),h=n(92),f=n(32),m=n(174),g=n(175),v="@reader3/init/DOCUMENTLOADING",_="@reader3/init/DOCUMENTLOAD_SUCCESS",b="@reader3/init/DOCUMENTLOAD_FAILURE";function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(y,E){return y(function(e){return{type:v,timeStamp:e}}(Date.now())),e.whenDocumentBaseFetched().then(function(t){var n=e.whenDocumentExtraFetched().then(function(e){return y(Object(u.b)(Object.assign({},t,e)))}),r=e.whenLicensesFetched().then(function(e){return y(Object(d.r)(e))}).catch(function(e){return y(Object(d.q)())}),i=e.whenAdsenseAccountFetched().then(function(e){return y(Object(p.a)(e))}).catch(function(e){return y(Object(p.b)())});return e.whenDocumentLinksFetched().then(function(e){return y(Object(c.e)(e))}),e.whenDocumentTextFetched().then(function(e){var t=e.textInfoPath,n=e.textInfoVersion;return y(a.a.setTextInfoUrl(t,n))}),Promise.all([n,r,i])}).then(function(){var e=t(),n=e[0],r=e[1];return y(Object(h.c)(n,r))}).then(function(){var e=E(),t=e.size,n=t.width,r=t.height,a=e.reader.initialPageNumber,s=e.features,c=e.fullscreen,d=Math.max(1,Math.min(Object(u.d)(e).pageCount,a)),p=s.controls.find(function(e){return e.type===i.FULLSCREEN_TYPE}),h=Object(g.a)(p,c.enabled),v=Object(m.a)(n,r,h,s.readModeRules),b=Object(f.a)(v,d),T=(v===o.DOUBLE_PAGE_SPREAD?Object(l.e)(e)[b].pages:[Object(l.b)(e)[b]]).map(function(e){return e.pageNumber});return y(function(e,t,n,r){return{timeStamp:e,pageNumber:t,targetSpreadIndex:n,currentPageNumbers:r,type:_}}(Date.now(),d,b,T))}).then(function(){return y(Object(s.g)(n))}).catch(function(e){Object(r.m)(e,{tags:{errorOrigin:"document-load-fetchDocument"}}),y(function(e,t){return{type:b,error:e,timeStamp:t}}(e,Date.now()))})}}},,function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"g",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"j",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"h",function(){return u}),n.d(t,"i",function(){return c}),n.d(t,"k",function(){return l}),n.d(t,"a",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"e",function(){return h});var r=27,i=36,o=35,a=32,s=70,u=37,c=39,l=38,d=40,p=191,h=114},,,,function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r="READER_POSITION_CHANGED";function i(e,t,n,i,o,a,s,u,c){return{type:r,currentSpreadIndex:t,currentPageNumber:n,currentPageNumbers:i,positionInPercent:o,visiblePageNumbers:e,positionInPercentHasChanged:a,currentPagesHasChanged:s,visiblePagesHasChanged:u,isDragging:c}}},function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"i",function(){return h}),n.d(t,"e",function(){return f}),n.d(t,"g",function(){return m}),n.d(t,"f",function(){return v});var r=n(15),i=n(13),o=n(53),a=n(108),s=n(12),u="READ_MORE_LOAD_SUCCESS",c="READ_MORE_LOAD_FAILURE",l="SHOW_MORE_DROPDOWN",d="CLOSE_MORE_DROPDOWN";function p(){return{type:u}}function h(){return{type:l}}function f(){return{type:d}}function m(e){return function(t,n){if(e){var i=n(),o=Object(s.d)(i);e.load(i.config.origins.api,o.publicationId,o.username,Object(r.o)(i),Object(r.m)(i)).then(function(e){e&&t(p())}).catch(function(){t({type:c})})}}}var g={loaded:!1,exitedFullscreen:!1,forceOverlay:!1};function v(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments[1];switch(t.type){case u:return Object.assign({},e,{loaded:!0});case l:return Object.assign({},e,{forceOverlay:!1});case d:return Object.assign({},e,{exitedFullscreen:!1});case i.g.ENTER_FULLSCREEN:return t.fullscreenMethod===a.a?e:Object.assign({},e,{exitedFullscreen:!0,forceOverlay:!0});case i.g.EXIT_FULLSCREEN:return Object.assign({},e,{exitedFullscreen:!0,forceOverlay:!0});case o.a:return Object.assign({},g);default:return e}}}},function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return c}),n.d(t,"e",function(){return p}),n.d(t,"d",function(){return h}),n.d(t,"f",function(){return f});var r=n(8),i=n(122),o=n(32),a=n(5),s={OPEN_URL:"openUrl",GOTO_PAGE:"gotoPage"},u={SHOPPING:"shopping",VIDEO:"video",EMAIL:"email",URL:"url"},c="LINK_CLICKED",l="@reader3/document/LINKSLOADED",d={loaded:!1,pages:[]};function p(e){return{type:l,clippings:e}}function h(e){return function(t,n){if(t({type:c,linkModel:e}),"gotoPage"===e.type)t(function(e){var t=e.gotoPageNumber;return function(e,n){var i=Object(o.a)(Object(a.A)(n()),t);e(Object(r.k)(i))}}(e));else{if("openUrl"!==e.type)throw new Error("Unsupported link type ("+e.type+")");if("video"===e.urlType)t(function(e){var t=e.url,n=e.videoId,r=e.videoService;return Object(i.d)(r,n,t)}(e));else if("email"===e.urlType)window.open(e.url,"_top");else{if("shopping"!==e.urlType&&"url"!==e.urlType)throw new Error("Unsupported urlType ("+e.urlType+")");window.open(e.url,"_blank")}}}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments[1];switch(t.type){case l:for(var n=t.clippings,r=void 0===n?{}:n,i=Object.keys(r).map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)&&isFinite(e)}),o=Math.max.apply(Math,[0].concat(i)),a=[],s=function(e){a[e]={links:(r[e+1]||[]).map(function(t){return babelHelpers.extends({},t,{page:{pageNumber:e+1}})})}},u=0;u<o;u++)s(u);return{loaded:!0,pages:a};default:return e}}},function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return s});var r=n(46);function i(e){return e.type===r.b.OPEN_URL&&e.urlType===r.c.VIDEO}function o(e){return e.type===r.b.OPEN_URL&&e.urlType===r.c.VIDEO&&!!e.inlineData}function a(e){return!!e.inlineData&&e.inlineData.isExplicit}function s(e){return e.type===r.b.OPEN_URL&&e.urlType===r.c.SHOPPING}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),i=n.n(r),o=n(39),a=n.n(o),s=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t.prototype.shouldComponentUpdate=function(e,t){return!(a()(this.props,e)&&a()(this.state,t))},t.prototype.render=function(){var e={};return this.props.isHidden&&(e.display="none"),i.a.createElement("button",{className:this.props.className,onClick:this.props.onClick,disabled:this.props.isDisabled,id:this.props.id,dangerouslySetInnerHTML:{__html:this.props.content},style:e,type:"button"},this.props.children)},t}(r.Component);s.displayName="Button"},function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return d}),n.d(t,"e",function(){return h});var r=n(171),i=n(34),o=n(12),a=n(10),s=n(7),u="DOWNLOAD_READY",c="DOWNLOAD_LOADING",l="DOWNLOAD_SUCCESS",d="DOWNLOAD_FAILURE";function p(e,t){e({type:t}),window.setTimeout(function(){e({type:u})},2e3)}function h(){return function(e,t){var n=t();return n.download.status===u?(e(Object(a.a)()),n.featureTracker.usage(s.a.BUTTON_DOWNLOAD),Object(r.a)(n)?e(function(e,t){var n=t(),r=Object(i.d)(n);if(r){var o=n.config.origins.api+"/call/reader/api/purchased-download/"+r;return window.open(o,"_top"),p(e,l)}return p(e,d)}):e(function(e,t){var n=t(),r=n.config.origins.api+"/query?action=issuu.document.download&documentId="+Object(o.d)(n).documentId+"&format=json";e({type:c}),fetch(r).then(function(e){return e.json()}).then(function(t){window.open(t.rsp._content.redirect.url,"_top"),p(e,l)}).catch(function(){p(e,d)})})):e(Object(a.a)())}}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(9),i=r.c.create(),o=r.c.create();function a(e){return e}var s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;babelHelpers.classCallCheck(this,e),this.matrix=t||r.a.create()}return e.prototype.inverse=function(){var t=r.a.create();return r.a.invert(t,this.matrix),new e(t)},e.prototype.isIdentityMatrix=function(){return 1===this.matrix[0]&&0===this.matrix[1]&&0===this.matrix[2]&&1===this.matrix[3]&&0===this.matrix[4]&&0===this.matrix[5]},e.prototype.isEqualWith=function(e){for(var t=0;t<this.matrix.length;t++)if(this.matrix[t]!==e.matrix[t])return!1;return!0},e.prototype.multiply=function(t){var n=r.a.create();return r.a.multiply(n,this.matrix,t.matrix),new e(n)},e.prototype.mReset=function(){return r.a.identity(this.matrix),this},e.prototype.mMultiply=function(e){return r.a.multiply(this.matrix,this.matrix,e.matrix),this},e.prototype.mTranslate=function(e,t){var n=r.a.create();return r.a.translate(n,this.matrix,r.c.fromValues(e,t)),this.matrix=n,this},e.prototype.mScale=function(e){var t=r.a.create();return r.a.scale(t,this.matrix,r.c.fromValues(e,e)),this.matrix=t,this},e.prototype.mSet=function(e,t,n,r,i,o){return this.matrix[0]=e,this.matrix[1]=t,this.matrix[2]=n,this.matrix[3]=r,this.matrix[4]=i,this.matrix[5]=o,this},e.prototype.mSetMatrix=function(e){return this.mSet(e[0],e[1],e[2],e[3],e[4],e[5])},e.prototype.transformPoint=function(e,t){var n=r.c.create();return r.c.transformMat2d(n,r.c.fromValues(e,t),this.matrix),Array.from(n).map(a)},e.prototype.transformRect=function(e){r.c.transformMat2d(i,r.c.set(i,e.x,e.y),this.matrix),r.c.transformMat2d(o,r.c.set(o,e.x+e.width,e.y+e.height),this.matrix);var t=Math.min(i[0],o[0]),n=Math.max(i[0],o[0]),s=Math.min(i[1],o[1]),u=Math.max(i[1],o[1]);return e.x=a(t),e.y=a(s),e.width=a(n-t),e.height=a(u-s),e},e.prototype.transformCanvasCtx=function(e){e.transform(this.matrix[0],this.matrix[1],this.matrix[2],this.matrix[3],this.matrix[4],this.matrix[5])},e}()},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a});var r="@reader3-paywall-widget/PAYWALL_PUBLICATION_LOADING",i="@reader3-paywall-widget/PAYWALL_PUBLICATION_LOADED",o="@reader3-paywall-widget/PAYWALL_PUBLICATION_LOADING_ERROR",a={NOTLOADED:"NOTLOADED",LOADING:"LOADING",LOADED:"LOADED",ERROR:"ERROR"}},,function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var r="ENABLE_TRACKING",i="EMBED_PREVIEW"},function(e,t,n){"use strict";function r(e,t){var n=e.x,r=e.x+e.width,i=t.x,o=t.x+t.width,a=e.y,s=e.y+e.height,u=t.y,c=t.y+t.height,l=Math.max(0,Math.min(r,o)-Math.max(n,i))*Math.max(0,Math.min(s,c)-Math.max(a,u));return l>0?l/(t.width*t.height):0}function i(e,t,n){return e>=n.x&&e<n.x+n.width&&t>=n.y&&t<n.y+n.height}function o(e,t,n,r){return n/e<=r/t?n/e:r/t}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o})},function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a});var r="FetchNetworkError",i=function(e){function t(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;babelHelpers.classCallCheck(this,t);var o=babelHelpers.possibleConstructorReturn(this,e.call(this));return o.stack=(new Error).stack,o.message=n,o.name=r,o.code=i,i>0&&(o.sentry_extra={HTTPStatusCode:i}),0!==i&&403!==i||(o.message+=" (--client-only--)"),o}return babelHelpers.inherits(t,e),t}(Error),o="BackendModelError",a=function(e){function t(n,r){babelHelpers.classCallCheck(this,t);var i=babelHelpers.possibleConstructorReturn(this,e.call(this));return i.stack=(new Error).stack,i.name=o,i.code=r,i.message=-1===r?n:n+" (documentStatus: "+r+") (--client-only--)",i}return babelHelpers.inherits(t,e),t}(Error)},,function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=function(){return Math.min(window.screen.width,window.screen.height)},i=function(){return!!window.FEATURE_TEST_IS_TOUCH||"ontouchstart"in window||window.navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0},o=function(){return i()&&r()<480},a={isTouch:i,isMobile:o,isTablet:function(){return i()&&!o()&&r()<=1024},isPhantom:function(){return"callPhantom"in window},isIOS:function(){return!!navigator.platform&&["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)}}},function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"c",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"a",function(){return d}),n.d(t,"d",function(){return h});var r=n(239),i=n.n(r),o=n(240),a=n(389),s=n(47),u=0,c=1,l=2,d=3;function p(e,t,n){var r=Math.round(e[0]*n.width),i=Math.round(t[0]*n.width),o=Math.round(e[3]*n.height),a=Math.round(t[3]*n.height);return r-i==0&&o-a==0}var h=function(){function e(t){var n=t.useWebGL,r=t.ctx,i=t.hintMaxWidth,s=t.hintMaxHeight,u=t.pageModels,c=t.loadStatsTracker,l=t.renderManager,d=t.checkExplicit;babelHelpers.classCallCheck(this,e),this.checkExplicit=!0,n&&r&&(this.drawWebGL=new o.b(r)),this.draw2D=new o.a(i,s),this.loadStatsTracker=c,this.checkExplicit=d,l?(this.loadingManager=l.loadingManager,this.loadingManager.pageModels=u,this._reuseData(l)):(this.loadingManager=new a.a(u,c),this.resources=new Array(u.length))}return e.prototype._getResource=function(e){return this.resources[e-1]||(this.resources[e-1]={hires:void 0,preview:void 0,videoThumbs:[]}),this.resources[e-1]},e.prototype.generateSurfacesUncached=function(e,t,n,r){var i=this.loadingManager.getPageLayers(r);if(!i)return null;var o=this.loadingManager.getPageModel(r);e[0]*=o.width/i.width,e[3]*=o.height/i.height;var a={generator:this.draw2D.draw(null,i,e,t,n,!0),state2D:null,stateWebGL:null,skipCount:0,matrix:e,width_px:t,height_px:n};return this._traditionalRendering(a,this.loadStatsTracker.uncachedFontRenderingTracker()),a.stateWebGL||a.state2D},e.prototype.generateSurfaces=function(e,t,n,r,i,o,a,s){var u=this.loadingManager.getPageLayers(o);if(!u)return{done:!1,ops:[]};var c=this.loadingManager.getPageModel(o);return e[0]*=c.width/u.width,e[3]*=c.height/u.height,a?this.generateAnimatingSurfaces(e,t,r,i,o,u,s):this.generateStaticSurfaces(e,t,n,r,i,o,u,s)},e.prototype.generateStaticSurfaces=function(e,t,n,r,i,o,a,s){var u=this._getResource(o),c=[],l=u.preview,d=u.hires,h=n.width,f=n.height;if(l||(l=this._generatePreview(r,i,a),u.preview=l),!d||d.width_px!==h||d.height_px!==f||!function(e,t,n){return e[4]===t[4]&&e[5]===t[5]&&p(e,t,n)}(e,d.matrix,a)){d&&this._releaseWebGLTexture(d);var m=d?d.state2D:null;(d={generator:this.draw2D.draw(m,a,e,h,f,!0),state2D:null,stateWebGL:null,skipCount:0,matrix:e,width_px:h,height_px:f}).generator.next(),u.hires=d}this._traditionalRendering(d,this.loadStatsTracker.hiresFontRenderingTracker()),this._incrementalRendering(l,!1,s);var g=this._getSurface(l),v=this._generateHiresSurface(d);if(v)c.push(v);else{var _=this._generatePreviewSurface(l,t.width,t.height);_&&c.push(_)}return{done:!(!v||!g),ops:c}},e.prototype.generateAnimatingSurfaces=function(e,t,n,r,i,o,a){var s=this._getResource(i),u=[],c=[],l=s.preview,d=s.hires,h=t.width,f=t.height;l||(l=this._generatePreview(n,r,o),s.preview=l),this._incrementalRendering(l,!0,a);var m=this._generatePreviewSurface(l,h,f);if(m&&(u.push(m),c.push(l)),d&&p(d.matrix,e,o)){var g=this._generateHiresSurface(d);g&&(u.push(g),c.push(d))}var v=function(e,t){return e.map(function(e,n){var r=t[n],i=!!e.src_px&&(e.src_px.x<0||e.src_px.width<=0||e.src_px.x+e.src_px.width>r.width_px),o=!!e.src_px&&(e.src_px.y<0||e.src_px.height<=0||e.src_px.y+e.src_px.height>r.height_px),a=e.dest_px.width<=0,s=e.dest_px.height<=0;return i||o||a||s}).filter(function(e){return!!e})}(u,c);return v.length&&this.loadStatsTracker.onOpsValidationError(v.length),{done:!!m,ops:u}},e.prototype._reuseData=function(e){this.resources=e.resources,this.drawWebGL||e.resources.forEach(function(t){t&&(t.hires&&e._releaseWebGLTexture(t.hires),t.preview&&e._releaseWebGLTexture(t.preview),t.videoThumbs.forEach(function(t){e._releaseWebGLTexture(t)}))})},e.prototype.isPageReady=function(e){return this.loadingManager.isPageReady(e)},e.prototype.generateVideoThumbSurfaces=function(e,t,n){var r=this,i=this._getResource(e),o=this.loadingManager.getPageModel(e),a=t.width/o.width,u=t.height/o.height,c={ops:[],done:!0};return o.links.forEach(function(e){if(Object(s.b)(e)&&(!r.checkExplicit||!Object(s.a)(e))){var t=e,o=r.loadingManager.getVideoThumb(t);if(!o)return void(c.done=!1);var p=i.videoThumbs.find(function(t){return t.id===e.id});p||(p={width_px:o.width,id:e.id,height_px:o.height,state2D:null,stateWebGL:null},i.videoThumbs.push(p));var h=r._generateVideoThumbSurface(p,o,n);if(!h)return void(c.done=!1);var f=p.width_px/(e.width*a),m=p.height_px/(e.height*u);if("youtube"===t.videoService){var g=Math.min(f,m),v=g*e.width*a,_=g*e.height*u;c.ops.push({surface:h,type:l,src_px:{x:(p.width_px-v)/2,y:(p.height_px-_)/2,width:v,height:_},dest_px:{x:e.x*a,y:e.y*u,width:e.width*a,height:e.height*u}})}else if("vimeo"===t.videoService){var b=Math.max(f,m),y=p.width_px/b,E=p.height_px/b;c.ops.push({type:d,dest_px:{x:e.x*a,y:e.y*u,width:e.width*a,height:e.height*u}},{surface:h,type:l,src_px:{x:0,y:0,width:p.width_px,height:p.height_px},dest_px:{x:e.x*a+(e.width*a-y)/2,y:e.y*u+(e.height*u-E)/2,width:y,height:E}})}}}),c},e.prototype._generateVideoThumbSurface=function(e,t,n){var r=e.width_px,o=e.height_px,a=e.state2D;if(!a){if(n+10-i()()<0)return null;a=this.draw2D.drawImage(null,t,r,o),e.state2D=a}var s=this.draw2D.getSurface(a),u=this.drawWebGL;if(u){var c=e.stateWebGL;return c||(c=u.draw(null,s,r,o),e.stateWebGL=c),u.getSurface(c)}return s},e.prototype._getSurface=function(e){return this.drawWebGL&&e.stateWebGL?this.drawWebGL.getSurface(e.stateWebGL):!this.drawWebGL&&e.state2D?this.draw2D.getSurface(e.state2D):null},e.prototype._traditionalRendering=function(e,t){if(e){if(!e.state2D){t.start();for(var n=e.generator.next(50);!n.done;)n=e.generator.next(50);e.state2D=n.value,t.end()}if(this.drawWebGL&&!e.stateWebGL&&e.state2D){var r=this.drawWebGL,i=this.draw2D.getSurface(e.state2D),o=i.width,a=i.height;e.stateWebGL=r.draw(e.stateWebGL,i,o,a)}}},e.prototype._incrementalRendering=function(e,t,n){if(e){var r=e.skipCount<3,o=n+(t&&r?10:50)-i()();if(o<0&&r)e.skipCount++;else if(e.skipCount=0,e.state2D){if(this.drawWebGL&&!e.stateWebGL){var a=this.drawWebGL,s=this.draw2D.getSurface(e.state2D),u=s.width,c=s.height;e.stateWebGL=a.draw(e.stateWebGL,s,u,c)}}else{var l=e.generator.next(o);l.done&&(e.state2D=l.value)}}},e.prototype._generateHiresSurface=function(e){if(!e)return null;var t=e.width_px,n=e.height_px,r=this._getSurface(e);return t>0&&n>0&&r?{surface:r,type:u,src_px:{x:0,y:0,width:t,height:n},dest_px:{x:-e.matrix[4],y:-e.matrix[5],width:t,height:n}}:null},e.prototype._generatePreviewSurface=function(e,t,n){if(!e)return null;var r=this._getSurface(e);return r?{surface:r,type:c,src_px:{x:0,y:0,width:e.width_px,height:e.height_px},dest_px:{x:0,y:0,width:t,height:n}}:null},e.prototype._generatePreview=function(e,t,n){var r=[e/n.width,0,0,t/n.height,0,0],i={generator:this.draw2D.draw(null,n,r,e,t,!1),state2D:null,stateWebGL:null,skipCount:0,matrix:r,width_px:e,height_px:t};return i.generator.next(),i},e.prototype.setActivePages=function(e,t){var n=this,r=this.loadingManager.setActivePages(e,t);this.resources.forEach(function(e,t){e&&!r.includes(t+1)&&n._releaseResource(e)})},e.prototype._releaseWebGLTexture=function(e){this.drawWebGL&&e.stateWebGL&&(this.drawWebGL.release(e.stateWebGL),e.stateWebGL=null)},e.prototype._releaseResource=function(e){var t=this,n=e.hires,r=e.preview;n&&(n.state2D&&this.draw2D.release(n.state2D),this._releaseWebGLTexture(n)),r&&(r.state2D&&this.draw2D.release(r.state2D),this._releaseWebGLTexture(r)),e.hires=void 0,e.preview=void 0,e.videoThumbs.forEach(function(e){e.state2D&&t.draw2D.release(e.state2D),t._releaseWebGLTexture(e)}),e.videoThumbs.length=0},e.prototype.release=function(){var e=this;this.resources.forEach(function(t){t&&e._releaseResource(t)}),this.resources=[]},e}()},,,function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=void 0;function i(e,t,n){var r=e.createShader(n);if(e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)&&!e.isContextLost()){var i=n===e.FRAGMENT_SHADER?"fragment":"vertex",o=e.getShaderInfoLog(r)||"",a=(e.getSupportedExtensions()||[]).join(",");throw new Error("Cannot compile "+i+" shader: "+o+"\n["+a+"]")}return r}function o(e,t){for(var n=new Set,r=0;r<e;r++){var i=t(r);i&&n.add(i.name)}return n}function a(e,t,n){var a=i(e,t,e.VERTEX_SHADER),s=i(e,n,e.FRAGMENT_SHADER),u=e.createProgram();e.attachShader(u,a),e.attachShader(u,s),function(e,t){if(e.linkProgram(t),!e.getProgramParameter(t,e.LINK_STATUS)&&!e.isContextLost()){var n=e.getProgramInfoLog(t)||"",r=(e.getSupportedExtensions()||[]).join(",");throw new Error("Cannot link shaderprogram: "+n+"\n["+r+"]")}}(e,u);var c=o(e.getProgramParameter(u,e.ACTIVE_UNIFORMS),function(t){return e.getActiveUniform(u,t)}),l=o(e.getProgramParameter(u,e.ACTIVE_ATTRIBUTES),function(t){return e.getActiveAttrib(u,t)}),d={id:u,bind:function(){if(r!==d){r&&r.unbind(),r=d,e.useProgram(d.id);var t=l,n=Array.isArray(t),i=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(i>=t.length)break;o=t[i++]}else{if((i=t.next()).done)break;o=i.value}var a=o;e.enableVertexAttribArray(d[a])}}},unbind:function(){var t=l,n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if((r=t.next()).done)break;i=r.value}var o=i;e.disableVertexAttribArray(d[o])}},destroy:function(){r&&r===d&&(r.unbind(),r=null),e.detachShader(u,a),e.deleteShader(a),e.detachShader(u,s),e.deleteShader(s),e.deleteProgram(u)}},p=l,h=Array.isArray(p),f=0;for(p=h?p:p[Symbol.iterator]();;){var m;if(h){if(f>=p.length)break;m=p[f++]}else{if((f=p.next()).done)break;m=f.value}var g=m;d[g]=e.getAttribLocation(u,g)}var v=c,_=Array.isArray(v),b=0;for(v=_?v:v[Symbol.iterator]();;){var y;if(_){if(b>=v.length)break;y=v[b++]}else{if((b=v.next()).done)break;y=b.value}var E=y;d[E]=e.getUniformLocation(u,E)}return d}},,function(e,t,n){"use strict";var r=n(303);n.d(t,"f",function(){return r.a});var i=n(304);n.d(t,"e",function(){return i.a});var o=n(49);n.d(t,"c",function(){return o.c}),n.d(t,"b",function(){return o.b}),n.d(t,"d",function(){return o.d}),n.d(t,"a",function(){return o.a});var a=n(171);n.d(t,"g",function(){return a.b})},function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"g",function(){return p}),n.d(t,"f",function(){return h}),n.d(t,"a",function(){return f}),n.d(t,"e",function(){return m});var r=n(6),i="WEBGL_ERROR",o="ENABLE_WEBGL",a="DISABLE_WEBGL",s="SET_MAX_DRAWING_BUFFER_WIDTH",u="SET_MAX_DRAWING_BUFFER_HEIGHT";function c(){return{type:i}}function l(){return{type:o}}function d(){return{type:a}}function p(e){return{type:s,width:e}}function h(e){return{type:u,height:e}}function f(e){var t={supportsWebGL:e,maxDrawingBufferWidth:6e3,maxDrawingBufferHeight:6e3,forceTo2D:!0};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,n=arguments[1];switch(n.type){case i:return Object.assign({},e,{supportsWebGL:!1});case o:return Object.assign({},e,{forceTo2D:!1});case a:return Object.assign({},e,{forceTo2D:!0});case s:return Object.assign({},e,{maxDrawingBufferWidth:n.width});case u:return Object.assign({},e,{maxDrawingBufferHeight:n.height});default:return e}}}var m=Object(r.a)(function(e){return e.canvasContext},function(e){return e.size},function(e,t){return!(!e.supportsWebGL||e.forceTo2D)&&(e.maxDrawingBufferWidth>=t.width&&e.maxDrawingBufferHeight>=t.height)})},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return a});var r=0,i=1;function o(e,t,n){var r=Math.max(e.x,0),i=Math.min(e.x+e.width,t),o=Math.max(e.y,0),a=Math.min(e.y+e.height,n);return{x:Math.min(r,t),y:Math.min(o,n),width:Math.max(0,i-r),height:Math.max(0,a-o)}}function a(e,t){var n=Math.floor(e.width),i=t===r?Math.floor(e.x+e.width+.001)-n:Math.floor(e.x),o=Math.floor(e.height);return{x:i,y:Math.floor(e.y),width:n,height:o}}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"e",function(){return u}),n.d(t,"d",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return p});var r={request:["requestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"],exit:["exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],enabled:["fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled"],element:["fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement"],change:["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"],error:["fullscreenerror","webkitfullscreenerror","mozfullscreenerror","msfullscreenerror"]};function i(e,t){"onmsfullscreenchange"in document||"msfullscreenerror"in document?document["on"+e]=t:document.addEventListener(e,t)}function o(e,t){"onmsfullscreenchange"in document||"msfullscreenerror"in document?document["on"+e]=null:document.removeEventListener(e,t)}function a(e){var t=r.change.filter(function(e){return"on"+e in document})[0];document.addEventListener(t,e)}function s(e){var t=r.change.filter(function(e){return"on"+e in document})[0];document.removeEventListener(t,e)}function u(){if(function(){var e=navigator.userAgent,t=new RegExp("^Mozilla/5\\.0.*Android.*AppleWebKit.*Chrome/(\\d+).*$","i").exec(e),n=!1;return t&&t.length>0&&(n=parseInt(t[1],10)<=33),n}())return!1;var e=r.enabled.find(function(e){return e in document});return!!document[e]}function c(){var e=r.element.find(function(e){return e in document});if(e)return document[e];throw new Error("Fullscreen not supported")}function l(){return new Promise(function(e,t){try{var n=r.change.filter(function(e){return"on"+e in document})[0];if(n){i(n,function t(){c()||(o(n,t),e(!0))})}else t("native fullscreen api not supported")}catch(e){t(e)}})}function d(e){return new Promise(function(t,n){try{var a=r.request.filter(function(t){return t in e})[0],s=r.change.filter(function(e){return"on"+e in document})[0];if(a&&s){i(s,function e(){o(s,e),t(!0)}),e[a]()}else n("native fullscreen api not supported")}catch(e){n(e)}})}function p(){return new Promise(function(e,t){try{var n=r.exit.filter(function(e){return e in document})[0],a=r.change.filter(function(e){return"on"+e in document})[0];if(n)if(c()){i(a,function t(){o(a,t),e(!0)}),document[n]()}else e(!0);else t("native fullscreen api not supported")}catch(e){t(e)}})}},,,,function(e,t,n){"use strict";function r(e){return Math.max(Math.min(e,1),0)}function i(e,t,n){return(t-e)*r(n)+e}function o(e,t,n){var i=r(n);return(t-e)*(1-Math.pow(2,-10*i))+e}function a(e,t,n){var i=r(n);return(t-e)*Math.pow(2,10*(i-1))+e}function s(e,t,n){var i=r(n);return(t-e)*i*i+e}function u(e,t,n){var i=r(n);return(t-e)*i*(2-i)+e}n.d(t,"e",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return u})},,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(358),i=n(361),o=n(362),a=n(363),s=n(364),u={BROWSER:"BROWSER",READER:"READER",NONE:"NONE"},c=function(){function e(t,n){var c=this;babelHelpers.classCallCheck(this,e),this._interceptedBy=u.NONE,this._lastPointerEventTimeStamp=0,this._lastTouchEventTimeStamp=0,this.targetElement=t;var l=!!Object.keys(n).find(function(e){return/gesture|tap/i.test(e)});this.options={shouldInvokeSetPointerCapture:function(){return l},shouldInvokePreventDefault:function(){return c._interceptedBy===u.READER},hasBrowserIntercepted:function(){return c._interceptedBy===u.BROWSER},updateInterceptionWithTouchEvent:function(e){e.cancelable||(c._interceptedBy=u.BROWSER)},resetInterception:function(){c._interceptedBy=u.NONE,c.options.activeHandler=null},updateLastPointerEventTimeStamp:function(e){c._lastPointerEventTimeStamp=e.timeStamp},updateLastTouchEventTimeStamp:function(e){c._lastTouchEventTimeStamp=e.timeStamp},isSimulatedMouseEvents:function(e){return c._lastPointerEventTimeStamp>=e.timeStamp||c._lastTouchEventTimeStamp>=e.timeStamp},activeHandler:null},this._handlers=[new i.a(t,n,this.options),new o.a(t,n,this.options),new a.a(t,n,this.options),new r.a(t,n,this.options),new s.a(t,n,this.options)],this.enableBrowserHandlingOfVerticalPanningGestures()}return e.prototype.destroy=function(){this._handlers.forEach(function(e){e.destroy()})},e.prototype.reset=function(){this._interceptedBy=u.NONE,this._handlers.forEach(function(e){e.reset()}),this.options.activeHandler=null},e.prototype.requestToIntercept=function(){this._interceptedBy===u.NONE&&(this._interceptedBy=u.READER)},e.prototype.enableBrowserHandlingOfVerticalPanningGestures=function(){this.targetElement.style.touchAction="pan-y"},e.prototype.disableBrowserHandlingOfAllPanningGestures=function(){this.targetElement.style.touchAction="none"},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"e",function(){return u}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return h});var r="show_video_overlay",i="hide_video_overlay",o="video_info_load_success",a="video_info_load_error",s={EXPLICIT:"explicit",SAFE:"safe",UNKNOWN:"unknown",ERROR:"error"};function u(e,t,n){return{type:r,service:e,videoId:t,videoUrl:n}}function c(){return{type:i}}function l(e,t,n){return function(r,i){var u=i().config.origins.api;fetch(u+"/call/reader/api/video-link/"+e+"/"+t).then(function(e){return e.json()}).then(function(i){var a=i.explicit?s.EXPLICIT:s.SAFE;r(function(e,t,n){return{type:o,service:e,videoId:t,videoInfo:n}}(e,t,a)),n.monitor("reader3-"+e+"-api-success")}).catch(function(i){r(function(e,t){return{type:a,service:e,videoId:t,videoInfo:s.ERROR}}(e,t)),n.monitor("reader3-"+e+"-api-failed")})}}function d(e,t){return e.service===t.service&&e.videoId===t.videoId}var p={showOverlay:!1,service:null,videoId:null,videoUrl:null,videoInfo:s.UNKNOWN};function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments[1];switch(t.type){case r:return babelHelpers.extends({},e,{showOverlay:!0,service:t.service,videoId:t.videoId,videoUrl:t.videoUrl,videoInfo:d(e,t)?e.videoInfo:s.UNKNOWN});case i:return babelHelpers.extends({},e,{showOverlay:!1});case o:case a:return d(e,t)?babelHelpers.extends({},e,{videoInfo:t.videoInfo}):e;default:return e}}},function(e,t,n){"use strict";function r(e){return!!(window.WebGLRenderingContext&&e instanceof window.WebGLRenderingContext)||!(!e||!e.hasOwnProperty("drawingBufferWidth"))}function i(e,t){var n={failIfMajorPerformanceCaveat:!0,stencil:!!t};try{var r=e.getContext("webgl",n);if(r)return r}catch(e){}try{var i=e.getContext("experimental-webgl",n);if(i)return i}catch(e){}return null}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i})},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"g",function(){return o}),n.d(t,"h",function(){return a}),n.d(t,"j",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"f",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"i",function(){return d}),n.d(t,"c",function(){return p});var r=2,i=4,o=5,a=6,s=7,u=8,c=9,l=10,d=11,p=12},,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(2),i=n(55),o=4;function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.withCredentials,a=void 0!==n&&n,s=t.timeout;t.readerSessionHeader;return new Promise(function(t,n){var u=new XMLHttpRequest;u.open("GET",e,!0),u.withCredentials=a,s&&(u.timeout=s),u.onreadystatechange=function(){if(u.readyState===o)if(200===u.status)try{t(JSON.parse(u.responseText))}catch(e){n(new i.b("Could not deserialize loaded JSON: "+e))}else n(new i.b(r.f,u.status))},u.send()})}},,,,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return g}),n.d(t,"d",function(){return v}),n.d(t,"c",function(){return _}),n.d(t,"a",function(){return b});var r=n(6),i=n(21),o=n(13),a=n(5),s=n(25),u=n(57),c=n(428),l=n(93),d=Object(l.d)(),p=function(){try{return/.*hideAdsInReader=1/.test(location.search)}catch(e){return!1}}(),h=function(){try{var e=/.*adRefreshTimeout=(\d*)/.exec(parent.location.search);if(e&&e[1])return parseInt(e[1],10)}catch(e){}return-1}(),f=Object(r.a)(function(e){return e.features.controls},function(e){for(var t=0;t<e.length;t++)if(e[t].type===i.FULLSCREEN_AD_PLACEMENT_TYPE)return e[t]}),m=Object(r.a)(f,o.d,function(e){return e.pages.pages},c.a,function(e,t,n,r){return!!n.length&&!!e&&t&&(e.useQueryParameter&&!p||!e.useQueryParameter&&r)}),g=function(){return h<0?45:h},v=Object(r.a)(function(e){return e.size.width},function(){return window.innerWidth<380}),_=Object(r.a)(m,a.A,function(e){return e.pages.pages},function(e){return e.size.width},function(e){return e.size.height},function(e,t,n,r,i){if(!e)return[0,0];var o=window.innerWidth,a=window.innerHeight,c=u.a.isMobile();if(!c&&n.length){var l=n[0].width/n[0].height;if(t===s.DOUBLE_PAGE_SPREAD&&(l*=2),!((l*a-o)/o>0)&&o>1200&&a>620&&!d)return[160,600];if(!c&&a>600&&o>780)return[728,90]}return a>250&&o>320?[320,50]:[0,0]});function b(e){return 0===e[0]&&0===e[1]}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return u});var r="@Reader3/size/INIT_SIZE",i="RESIZE",o={width:0,height:0};function a(e,t){return{type:i,width:e,height:t}}function s(e,t){return{type:r,width:e,height:t}}function u(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r:case i:return babelHelpers.extends({},e,{width:t.width,height:t.height});default:return e}}}},function(e,t,n){"use strict";var r=n(299);n.d(t,"b",function(){return r.a});var i=n(300);n.d(t,"c",function(){return i.a});var o=n(224);n.d(t,"a",function(){return o.a}),n.d(t,"d",function(){return o.b})},,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),i=n.n(r),o=n(39),a=n.n(o),s=n(173),u=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t.prototype.shouldComponentUpdate=function(e){return!a()(this.props,e)},t.prototype.render=function(){var e=this.props.size*this.props.zoomLevel,n={width:e,height:e},r=["spinner"];return this.props.type===t.SPINNER_TYPE_ALTERNATE&&r.push("spinner--alternate"),i.a.createElement("div",{className:r.join(" "),style:n,dangerouslySetInnerHTML:{__html:s.a}})},t}(r.Component);u.displayName="Spinner",u.SPINNER_SIZE_DEFAULT=24,u.SPINNER_SIZE_TINY=14,u.SPINNER_SIZE_SMALL=19,u.SPINNER_TYPE_DEFAULT="SPINNER_TYPE_DEFAULT",u.SPINNER_TYPE_ALTERNATE="SPINNER_TYPE_ALTERNATE",u.defaultProps={type:u.SPINNER_TYPE_DEFAULT,size:u.SPINNER_SIZE_DEFAULT,zoomLevel:1}},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return p});var r=n(0),i=n.n(r),o=n(23),a=n.n(o),s=n(123),u=n(352),c=n(353),l=n(48),d={ERROR:"error",WARNING:"warning",INFO:"info"},p=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t.prototype._getIcon=function(){switch(this.props.boxType){case d.ERROR:return i.a.createElement(u.a,{className:"msgbox-Icon msgbox-error-icon"});case d.WARNING:return i.a.createElement(c.a,{className:"msgbox-Icon msgbox-warning-icon"});case d.INFO:return i.a.createElement("span",{className:"msgbox-Icon msgbox-info-icon"},"i");default:throw new Error("Wrong Message Box type!")}},t.prototype.render=function(){var e=a()("msgbox-Root",{"msgbox-Root-error":this.props.boxType===d.ERROR,"msgbox-Root-warning":this.props.boxType===d.WARNING,"msgbox-Root-info":this.props.boxType===d.INFO,"msgbox-Root__noheader":!this.props.header,"msgbox-Root__noclosebutton":!this.props.onClose},this.props.className);return i.a.createElement("div",{className:e},this._getIcon(),this.props.header&&i.a.createElement("p",{className:"msgbox-Header"},this.props.header),i.a.createElement("p",{className:"msgbox-Text"},this.props.text),i.a.createElement("div",{className:"msgbox-Actions"},this.props.linkText&&i.a.createElement("a",{className:"msgbox-Link",href:this.props.linkUrl,target:"_blank"},this.props.linkText),i.a.createElement("button",{className:"msgbox-Button",onClick:this.props.onSubmit},this.props.buttonText)),this.props.onClose&&i.a.createElement(l.a,{className:"svg-btn msgbox-close-button",content:s.a,onClick:this.props.onClose}))},t}(r.Component)},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"d",function(){return p});var r=n(6),i=n(5),o=n(13),a=n(15),s=n(101),u=n(22),c=Object(r.a)(function(e){return e.readMorePlugin},function(e){return e.readmore.loaded},function(e){return Object(i.B)(e)},function(e,t,n){return!(!e||!t||n===s.c)});function l(e){return e.readMorePlugin&&e.readMorePlugin.getButtonUnreadCount()||0}var d=Object(r.a)(c,function(e){return e.readMorePlugin},function(e){return Object(i.E)(e)},function(e){return Object(o.d)(e)},function(e){return Object(a.o)(e)},function(e){return Object(a.m)(e)},function(e,t,n,r,i,o){return!(!e||n)&&t.shouldRenderButton(i,o,r)}),p=(Object(r.a)(c,function(e){return e.readMorePlugin},function(e){return Object(a.o)(e)},function(e){return Object(a.m)(e)},function(e,t,n,r){return e&&t.shouldRenderExitFullscreenOverlay(n,r)}),Object(r.a)(c,function(e){return e.readMorePlugin},function(e){return e.readmore.forceOverlay},function(e){return e.size.width},function(e){return e.size.height},function(e,t,n,r,i){if(e&&t){var o=r<i,a=!o,s=Object(u.a)();return n||t.shouldAlwaysBeOverlay()||o&&r<=414*s||a&&r<=736*s}return!1}))},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r="reader-sizes@TINY",i="reader-sizes@SMALL",o="reader-sizes@NORMAL"},,,,function(e,t,n){"use strict";var r=n(228);n.d(t,"c",function(){return r.a}),n.d(t,"d",function(){return r.b});var i=n(315);n.d(t,"b",function(){return i.a});var o=n(316);n.d(t,"a",function(){return o.a})},function(e,t,n){"use strict";var r=n(301);n.d(t,"a",function(){return r.a});var i=n(225);n.d(t,"c",function(){return i.b}),n.d(t,"b",function(){return i.a})},,function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r="FULLSCREEN@FULLSCREEN_API",i="FULLSCREEN@TAB"},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r="HIDDEN",i="ENGAGED",o="DISENGAGED"},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a});var r="youtube_api_ready",i="set_active_video_link";function o(){return{type:r}}function a(e){return{type:i,videoLink:e}}},,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"a",function(){return u});var r=n(31),i=n(351),o=n(5),a=n(76);n.d(t,"d",function(){return a.e}),n.d(t,"b",function(){return a.d});var s=function(e){return e.videoOverlay.showOverlay},u=Object(r.b)(function(e){return{service:e.videoOverlay.service||"",videoId:e.videoOverlay.videoId||"",videoInfo:e.videoOverlay.videoInfo,videoUrl:e.videoOverlay.videoUrl||"",checkIfVideoExplicit:Object(o.i)(e)}},void 0,void 0,{pure:!0})(i.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r='\n    <svg width="60%" height="60%" viewBox="0 0 36 36">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g fill="#FFFFFF">\n                <path d="M16.4456672,18.0003762 L10.3219784,24.1243529 C9.89267388,24.5536776 9.89267388,25.249654 10.3219784,25.6787588 C10.5365207,25.8933112 10.8178877,26.0008073 11.0990349,26.0008073 C11.3804019,26.0008073 11.6617688,25.8933112 11.8763112,25.6787588 L18,19.5547821 L24.1236888,25.6787588 C24.3382312,25.8933112 24.6195981,26.0008073 24.9009651,26.0008073 C25.1821123,26.0008073 25.4634793,25.8933112 25.6780216,25.6787588 C26.1073261,25.249654 26.1073261,24.5536776 25.6780216,24.1243529 L19.5543328,18.0003762 L25.6780216,11.8763994 C26.1073261,11.4472946 26.1073261,10.7510983 25.6780216,10.3219935 C25.2487172,9.89266883 24.5529933,9.89266883 24.1236888,10.3219935 L18,16.4459703 L11.8763112,10.3219935 C11.4470067,9.89266883 10.7512828,9.89266883 10.3219784,10.3219935 C9.89267388,10.7510983 9.89267388,11.4472946 10.3219784,11.8763994 L16.4456672,18.0003762 Z"></path>\n            </g>\n        </g>\n    </svg>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return l});var r=n(6),i="@reader3/adsense/ADSENSE_ACCOUNT_LOADED",o="@reader3/adsense/ADSENSE_ACCOUNT_NOT_FOUND",a={account:null};function s(e){return{type:i,data:e}}function u(){return{type:o}}var c=Object(r.a)(function(e){return e.adsense},function(e){return e.account&&e.account.externalAccountId||null});function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case i:return{account:t.data};case o:return{account:null};default:return e}}},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a});var r="SET_CANVAS_API";function i(e){return{type:r,api:e}}function o(){return i({getVisibleComponents:function(){return[]},getRenderedViews:function(e){return[]},getReadMode:function(){},getPageComponent:function(e){},goToPage:function(e){},goToSpread:function(e){},jumpToPage:function(e){},jumpToSpread:function(e){},setSnapping:function(e){},jumpToPositionByPercent:function(e){},zoomCurrentView:function(e){},getPosition:function(){},setPosition:function(e){}})}function a(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case r:return Object.assign({},e,t.api);default:return e}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return d});var r=n(6),i=n(47),o=n(5),a=n(34),s=Object(r.a)(o.t,o.p,function(e,t){return!(!e||!e.allowOnSmallReaders&&t)});function u(e,t){var n=[];return e.forEach(function(e){e.links.forEach(function(r){if(Object(i.b)(r)){var o=r;o.videoService===t&&n.push({link:o,pageWidth:e.width,pageHeight:e.height})}})}),n}var c=function(e){return e.links.loaded},l=Object(r.a)(a.b,function(e){return u(e,"youtube")}),d=Object(r.a)(a.b,function(e){return u(e,"vimeo")})},,,function(e,t,n){"use strict";function r(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}function i(){var e=r();return!!e&&!!document[e]}function o(){return!!r()}function a(e){var t=r();if(t){var n=t.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(n,e)}}n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return a})},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return u});var r=n(38),i="loading-status@LOADING",o="loading-status@FAILED",a="loading-status@SUCCESS",s={INITIALIZED:"loading-status@INITIALIZED",LOADING:i,FAILED:o,SUCCESS:a};function u(){var e={status:s.INITIALIZED};return function(){return function(e,t){switch(t.type){case r.a:return{status:i,loadStartTime:t.timeStamp};case r.c:if(e.status!==i)throw new Error("Can not return SUCCESS without LOADING");return{status:a,loadStartTime:e.loadStartTime,loadSuccessTime:t.timeStamp};case r.b:if(e.status!==i)throw new Error("Can not return FAILED without LOADING");return{status:o,loadStartTime:e.loadStartTime,loadFailureTime:t.timeStamp,error:t.error};default:return e}}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,arguments[1])}}},function(e,t,n){"use strict";var r=n(307);n.d(t,"a",function(){return r.a});var i=n(308);n.d(t,"b",function(){return i.a});var o=n(226);n.d(t,"c",function(){return o.a}),n.d(t,"d",function(){return o.b})},,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){function t(n,r,i){babelHelpers.classCallCheck(this,t);var o=babelHelpers.possibleConstructorReturn(this,e.call(this,n,r,i));return o._singleTapConfirmedTimeoutId=null,o._doubleTapConfirmedTimeoutId=null,o}return babelHelpers.inherits(t,e),t.prototype.destroy=function(){this.unregisterTapHandlers()},t.prototype.reset=function(){e.prototype.reset.call(this),this.unregisterTapHandlers()},t.prototype.registerTapHandlers=function(){var e=this,t=this._getFirstPointerId(),n=this.pointers[t].last.position;null!==this._doubleTapConfirmedTimeoutId&&(window.clearTimeout(this._doubleTapConfirmedTimeoutId),this._doubleTapConfirmedTimeoutId=null),null!==this._singleTapConfirmedTimeoutId&&window.clearTimeout(this._singleTapConfirmedTimeoutId),null!==this._singleTapConfirmedTimeoutId&&1===this.getPointerCount()&&(this._doubleTapConfirmedTimeoutId=window.setTimeout(function(){e._doubleTapConfirmedTimeoutId=null,0===e.getPointerCount()&&e._fireDoubleTapConfirmed(n.x,n.y)},200)),this._singleTapConfirmedTimeoutId=null,null===this._doubleTapConfirmedTimeoutId&&1===this.getPointerCount()&&(this._singleTapConfirmedTimeoutId=window.setTimeout(function(){e._singleTapConfirmedTimeoutId=null,0===e.getPointerCount()&&e._fireSingleTapConfirmed(n.x,n.y)},200))},t.prototype.unregisterTapHandlers=function(){null!==this._singleTapConfirmedTimeoutId&&(window.clearTimeout(this._singleTapConfirmedTimeoutId),this._singleTapConfirmedTimeoutId=null),null!==this._doubleTapConfirmedTimeoutId&&(window.clearTimeout(this._doubleTapConfirmedTimeoutId),this._doubleTapConfirmedTimeoutId=null)},t.prototype.validateTapHandlers=function(){var e=this._getFirstPointerId(),t=this.pointers[e].last.position;this._isPointerCloseToInitialPosition(e,t.x,t.y)||this.unregisterTapHandlers()},t.prototype.executeTapHandlers=function(){var e=this._getFirstPointerId(),t=this.pointers[e].last.position;null!==this._singleTapConfirmedTimeoutId&&this._fireSingleTap(t.x,t.y),null!==this._doubleTapConfirmedTimeoutId&&(this._fireSingleTap(t.x,t.y),this._fireDoubleTap(t.x,t.y))},t.prototype._fireSingleTap=function(e,t){var n=this.getScalingFactor(),r=this.callbacks.onSingleTap;r&&r(e*n,t*n)},t.prototype._fireSingleTapConfirmed=function(e,t){var n=this.getScalingFactor(),r=this.callbacks.onSingleTapConfirmed;r&&r(e*n,t*n)},t.prototype._fireDoubleTap=function(e,t){var n=this.getScalingFactor(),r=this.callbacks.onDoubleTap;r&&r(e*n,t*n)},t.prototype._fireDoubleTapConfirmed=function(e,t){var n=this.getScalingFactor(),r=this.callbacks.onDoubleTapConfirmed;r&&r(e*n,t*n)},t.prototype._getFirstPointerId=function(){for(var e in this.pointers)if(this.pointers.hasOwnProperty(e)&&!isNaN(e))return e;throw new Error("No pointer for tap")},t.prototype._isPointerCloseToInitialPosition=function(e,t,n){var r=this.pointers[e];return Math.abs(r.initial.position.x-t)<5&&Math.abs(r.initial.position.y-n)<5},t}(n(139).a)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(359),i=n(360),o=n(26),a=function(){function e(t,n,r){babelHelpers.classCallCheck(this,e),this.initialGesture=o.f,this.pointers={},this._lastGestureMoveTimestamp=0,this._initialPinchDistance=NaN,this._targetElementOffset=null,this.targetElement=t,this.callbacks=n,this.options=r}return e.prototype.destroy=function(){},e.prototype.reset=function(){this.pointers={},this._lastGestureMoveTimestamp=0,this._initialPinchDistance=NaN,this.initialGesture=o.f,this._targetElementOffset=null},e.prototype.isDeactivated=function(){return this.options.activeHandler&&this.options.activeHandler!==this},e.prototype._isAnyButtonPressed=function(e){return!(!e.buttons&&!this.getPointerCount())},e.prototype._isGeneratedByMouseDevice=function(e){return!e.pointerType||"mouse"===e.pointerType},e.prototype.getScalingFactor=function(){return this.callbacks.getScalingFactor?this.callbacks.getScalingFactor():1},e.prototype.fireGestureStart=function(){var e=this.callbacks.onGestureStart;e&&e(this._getTouches(),this._getLastEventTimestamp())},e.prototype.fireGestureChange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,t=this._getLastEventTimestamp();if(t-this._lastGestureMoveTimestamp>10){var n=isNaN(e)?this._getCurrentPinchDistance()/this._initialPinchDistance:e;if(!isNaN(n)){var r=this.callbacks.onGestureChange;r&&r(this._getTouches(),t,n,this.initialGesture),this._lastGestureMoveTimestamp=t}}},e.prototype.fireGestureEnd=function(){var e=this.callbacks.onGestureEnd;e&&e(this._getLastEventTimestamp())},e.prototype.fireMouseMove=function(e){if(this._isGeneratedByMouseDevice(e)&&!this._isAnyButtonPressed(e)){var t=e.pageX,n=e.pageY,r=this._getOffsetPosition(t,n),i=this.getScalingFactor(),o=this.callbacks.onMouseMove;o&&o(r.x*i,r.y*i,e.timeStamp)}},e.prototype.fireMouseEnter=function(e){if(this._isGeneratedByMouseDevice(e)){var t=this.callbacks.onMouseEnter;t&&t(e.timeStamp)}},e.prototype.fireMouseLeave=function(e){if(this._isGeneratedByMouseDevice(e)){var t=this.callbacks.onMouseLeave;t&&t(e.timeStamp)}},e.prototype.saveTargetElementOffset=function(){this._targetElementOffset=Object(r.a)(this.targetElement)},e.prototype.saveInitialPinchDistance=function(){this._initialPinchDistance=this._getCurrentPinchDistance()},e.prototype.saveInitialGestureIfUndefined=function(){if(this.initialGesture===o.f){var e=Object.keys(this.pointers);if(e.length>=2){var t=this._getCurrentPinchDistance();t-this._initialPinchDistance>5?this.initialGesture=o.g:this._initialPinchDistance-t>10&&(this.initialGesture=o.h)}else{var n=this.pointers[e[0]],r=n.last.position.x-n.initial.position.x,i=n.last.position.y-n.initial.position.y,a=n.last.timestamp-n.initial.timestamp;if(Math.max(Math.abs(r),Math.abs(i))<10||a<10)return;var s=Math.atan2(-i,r)*(180/Math.PI);this.initialGesture=s>=-25&&s<=25?o.d:s>=60&&s<=120?o.e:s>=155||s<=-155?o.b:s>=-120&&s<=-60?o.a:o.c}}},e.prototype.isValidPointer=function(e){return!!this.pointers[e]},e.prototype.savePointer=function(e,t,n,r){var o=this._getOffsetPosition(t,n),a=Object(i.a)(r);this.pointers[e]=this.pointers[e]||{initial:{position:o,timestamp:a}},this.pointers[e].last={position:o,timestamp:a}},e.prototype.deletePointer=function(e){delete this.pointers[e],0===this.getPointerCount()&&(this.initialGesture=o.f,this._initialPinchDistance=NaN)},e.prototype.isPointerMoved=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=this._getOffsetPosition(t,n),o=this.pointers[e].last.position;return Math.abs(o.x-i.x)>Math.abs(r)||Math.abs(o.y-i.y)>Math.abs(r)},e.prototype._getOffsetPosition=function(e,t){this._targetElementOffset||this.saveTargetElementOffset();var n=this._targetElementOffset||{},r=n.left,i=void 0===r?0:r,o=n.top,a=void 0===o?0:o;return{x:Math.round(e-i),y:Math.round(t-a)}},e.prototype._getLastEventTimestamp=function(){var e=0;for(var t in this.pointers)this.pointers.hasOwnProperty(t)&&(e=Math.max(e,this.pointers[t].last.timestamp));return e},e.prototype._getCurrentPinchDistance=function(){var e=Object.keys(this.pointers);if(e.length<=1)return 1;var t=this.pointers[e[0]],n=this.pointers[e[1]];return Math.sqrt(Math.pow(t.last.position.x-n.last.position.x,2)+Math.pow(t.last.position.y-n.last.position.y,2))},e.prototype.getPointerCount=function(){var e=0;for(var t in this.pointers)this.pointers.hasOwnProperty(t)&&e++;return e},e.prototype._getTouches=function(){var e=this.getScalingFactor(),t=[];for(var n in this.pointers)this.pointers.hasOwnProperty(n)&&t.push({x:this.pointers[n].last.position.x*e,y:this.pointers[n].last.position.y*e});return t},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="SHARE"},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(182),i=n(26),o=n(50),a=n(4),s=n(237),u=n(65),c=n(8),l=n(10),d=n(54),p=n(25),h=n(7),f=function(e){function t(){var n,r,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),r._arrivedAtTick=0,r.spreadSnapFunction=function(e,t,n){var i=void 0;if(n>1){var o=r.width/n,a=r.height/n,s=void 0;s=r.borders.right-r.borders.left<o?r.borders.left-(o-(r.borders.right-r.borders.left))/2:Math.max(Math.min(t,r.borders.right-o),r.borders.left);i={top:r.borders.bottom-r.borders.top<a?r.borders.top-(a-(r.borders.bottom-r.borders.top))/2:Math.max(Math.min(e,r.borders.bottom-a),r.borders.top),left:s,zoom:n}}else i={top:0,left:0,zoom:1};return i},i=n,babelHelpers.possibleConstructorReturn(r,i)}return babelHelpers.inherits(t,e),t.prototype.componentWillUpdate=function(e){(!this.props.isCurrentSpread&&e.isCurrentSpread||this.props.isCurrentSpread&&0===this._arrivedAtTick)&&(this._arrivedAtTick=this.isAllPagesLoaded()&&e.isSnapped?a.b.lastTick:0),e.isCurrentSpread||(this._arrivedAtTick=0)},t.prototype.componentDidMount=function(){this.props.isCurrentSpread&&(t.scroller.resize(t.scroller.top,t.scroller.left,t.scroller.zoom,this.width,this.height,this.width,this.height),t.scroller.setSnap(!0,this.spreadSnapFunction,!1))},t.prototype.componentDidUpdate=function(e){if(this.props.width!==e.width||this.props.height!==e.height){var n=this.getCenter(),r=t.scroller.zoom,i=n.x*this.width,o=n.y*this.height,a=i-this.width/t.scroller.zoom/2,s=o-this.height/t.scroller.zoom/2;t.scroller.resize(s,a,r,this.width,this.height,this.width,this.height)}this.props.isCurrentSpread&&!e.isCurrentSpread&&t.scroller.setSnap(!0,this.spreadSnapFunction,!1)},t.prototype.onGestureStart=function(e,n,r,i){return t.scroller.touchStart(e,n,i),t._zoomBeforeStart=t.scroller.zoom,t.scroller.zoom>1},t.prototype.onGestureChange=function(e,n,r,o,a,s){return(1===t.scroller.zoom&&s===i.g||t.scroller.zoom>1)&&(t.scroller.touchMove(e,n,o,a),this.requestRedraw(),!0)},t.prototype.onGestureEnd=function(e){return t.scroller.touchEnd(e,a.b.lastTick),t.scroller.isMoving&&this.requestRedraw(),t.scroller.zoom!==t._zoomBeforeStart&&this.props.featureTracker.usage(h.a.GESTURE_PINCH_ZOOM),t.scroller.zoom>1},t.prototype.onDoubleTap=function(e,n){var r=this;this.props.dispatch(l.e());var i=a.b.lastTick;if(t.scroller.zoom>1)t.scroller.scrollTo(0,0,1,i).then(function(){r.props.dispatch(l.d())});else{this.props.featureTracker.usage(h.a.DOUBLE_TAP_ZOOM);var o=this.getViewportCTM().inverse().transformPoint(e,n),s=o[1]-t.scroller.height/4,u=o[0]-t.scroller.width/4;t.scroller.scrollTo(s,u,2,i).then(function(){r.props.dispatch(l.d())})}return this.requestRedraw(),!0},t.prototype.setZoom=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.scroller.top+t.scroller.height/t.scroller.zoom/2,i=t.scroller.left+t.scroller.width/t.scroller.zoom/2,o=r-t.scroller.height/e/2,s=i-t.scroller.width/e/2;n?t.scroller.scrollTo(o,s,e,a.b.lastTick):t.scroller.jumpTo(o,s,e),this.requestRedraw()},t.prototype.getZoom=function(){return t.scroller.zoom},t.prototype.getCenter=function(){var e=t.scroller.left+t.scroller.width/t.scroller.zoom/2,n=t.scroller.top+t.scroller.height/t.scroller.zoom/2;return{x:e/t.scroller.width,y:n/t.scroller.height}},t.prototype.setCenter=function(e){var n=e.y-this.height/t.scroller.zoom/2,r=e.x-this.width/t.scroller.zoom/2,i=t.scroller.zoom,o=t.scroller.snapFunction(n,r,i);t.scroller.top=o.top,t.scroller.left=o.left},t.prototype.isAllPagesLoaded=function(){var e=this.props.pageModels,t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}var i=r;if(!this.props.renderManager.isPageReady(i.pageNumber))return!1}return!0},t.prototype.getChildTree=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this.props.pageModels,t=this.props.width,n=this.props.height,r=e.map(function(e){return e.width}).reduce(function(e,t){return e+t},0),i=Math.max.apply(Math,e.map(function(e){return e.height})),c=Object(d.c)(1===e.length&&this.props.readMode===p.DOUBLE_PAGE_SPREAD?e[0].width:r,i,t,n),l=n/c,h=(t/c-r)/2,f=(l-i)/2;this.borders={top:f*c,right:t-h*c,bottom:n-f*c,left:h*c};var m=h,g=(l-e[0].height)/2,v=(new o.a).mScale(c).mTranslate(m,g),_=a.b.createElement(s.a,{arrivedAtSpreadTick:this._arrivedAtTick,dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,hideLinkToolTip:this.props.hideLinkToolTip,isLinksToggledOn:this.props.isLinksToggledOn,isPaywalled:this.props.paywalledPageStatus[0],mayRenderLinks:this.props.mayRenderLinks,model:e[0],pageType:u.a,showLinkToolTip:this.props.showLinkToolTip,transform:v,renderManager:this.props.renderManager});if(2===e.length){m=h+e[0].width,g=(l-e[1].height)/2;var b=(new o.a).mScale(c).mTranslate(m,g);return[_,a.b.createElement(s.a,{arrivedAtSpreadTick:this._arrivedAtTick,dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,hideLinkToolTip:this.props.hideLinkToolTip,isLinksToggledOn:this.props.isLinksToggledOn,isPaywalled:this.props.paywalledPageStatus[1],mayRenderLinks:this.props.mayRenderLinks,model:e[1],pageType:u.b,showLinkToolTip:this.props.showLinkToolTip,transform:b,renderManager:this.props.renderManager})]}return _},t.prototype.afterDraw=function(e){var n=t.scroller.isAnimating||t.scroller.isDragging||t.scroller.isMoving;t.scroller.update(a.b.lastTick),(t.scroller.isAnimating||t.scroller.isDragging||t.scroller.isMoving||n)&&this.requestRedraw(),this.props.isCurrentSpread&&!this._arrivedAtTick&&this.isAllPagesLoaded()&&this.forceUpdate(),t._lastZoom!==t.scroller.zoom&&(t._lastZoom=t.scroller.zoom,this.props.dispatch(c.j(t.scroller.zoom,t.scroller.isDragging)))},babelHelpers.createClass(t,[{key:"zOrder",get:function(){return this.props.isCurrentSpread?1:0}},{key:"displayName",get:function(){return"Spread"}},{key:"transform",get:function(){return t._transform.mSetMatrix(this.props.transform.matrix).mScale(t.scroller.zoom).mTranslate(-t.scroller.left,-t.scroller.top),t._transform}},{key:"inAnimation",get:function(){return!!t.scroller.isMoving||this.parent.inAnimation}},{key:"unzoomedBBox",get:function(){return this.props.transform.transformRect(a.b.RectPool.get(0,0,this.width,this.height))}}]),t}(a.b);f._transform=new o.a,f.scroller=new r.a(0,0,1,1,1,1,1),f._lastZoom=1,f._zoomBeforeStart=1},function(e,t,n){"use strict";var r=n(312);n.d(t,"b",function(){return r.a});var i=n(313);n.d(t,"a",function(){return i.a});var o=n(314);n.d(t,"c",function(){return o.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){return function(n){return function(r){return function(i){var o=n.getState(),a=r(i),s=n.getState();try{e.hasOwnProperty(i.type)&&e[i.type](o,s,i)}catch(e){t(e)}return a}}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(t,n,r){babelHelpers.classCallCheck(this,e),this.start=t,this.duration=n,this.options=Object.assign(r||{},{easing:e.LINEAR,clipStart:!0,clipEnd:!0,reverse:!1})}return e.LINEAR=function(e,t,n,r){return n*e/r+t},e.EASE_IN_CUBIC=function(e,t,n,r){return n*(e/=r)*e*e+t},e.EASE_OUT_CUBIC=function(e,t,n,r){return e/=r,n*(--e*e*e+1)+t},e.EASE_IN_OUT_CUBIC=function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},e.calc=function(t,n,r){return(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.LINEAR)(t-n,0,1,r)},e.prototype.reset=function(e){return this.start=e,this},e.prototype.isRunning=function(e){return e>=this.start&&e<=this.start+this.duration},e.prototype.isWaitingToRun=function(e){return e<this.start},e.prototype.value=function(t){var n=e.calc(t,this.start,this.duration,this.options.easing);return this.options.clipStart&&n<0?n=0:this.options.clipEnd&&n>1&&(n=1),this.options.reverse&&(n=1-n),n},e}()},function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"a",function(){return b});var r=n(61),i=n(385),o=n.n(i),a=n(386),s=n.n(a),u=n(387),c=n.n(u),l=n(388),d=n.n(l),p=n(9),h=new Float32Array([1,1,0,.5]),f=new Float32Array([0,0,0,.3]);function m(e){return{min:{x:Math.min(e.p1.x,e.p2.x,e.p3.x,e.p4.x),y:Math.min(e.p1.y,e.p2.y,e.p3.y,e.p4.y)},max:{x:Math.max(e.p1.x,e.p2.x,e.p3.x,e.p4.x),y:Math.max(e.p1.y,e.p2.y,e.p3.y,e.p4.y)}}}function g(e){var t=new Float32Array(6*e.length*2);return e.forEach(function(e,n){t[12*n+0]=e.p1.x,t[12*n+1]=e.p1.y,t[12*n+2]=e.p3.x,t[12*n+3]=e.p3.y,t[12*n+4]=e.p2.x,t[12*n+5]=e.p2.y,t[12*n+6]=e.p2.x,t[12*n+7]=e.p2.y,t[12*n+8]=e.p3.x,t[12*n+9]=e.p3.y,t[12*n+10]=e.p4.x,t[12*n+11]=e.p4.y}),t}var v=function(){var e=p.b.create();return function(t,n){var r=2/t,i=2/n;return p.b.set(e,r,0,0,0,-i,0,-1,1,1)}}(),_=function(){var e=p.c.create(),t=p.b.create();return function(n,r,i){return p.b.translate(t,n,p.c.set(e,i.x,i.y)),p.b.scale(t,t,p.c.set(e,r,r)),p.b.translate(t,t,p.c.set(e,-i.x,-i.y)),t}}(),b=function(){function e(t){babelHelpers.classCallCheck(this,e),this.gl=t,this.shader=Object(r.a)(t,s.a,o.a),this.selectedShader=Object(r.a)(t,d.a,c.a),this.verticeBuffer=t.createBuffer(),this.texCoordBuffer=t.createBuffer(),this.emptyTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.emptyTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array([255,255,255,255])),t.bindTexture(t.TEXTURE_2D,null)}return e.prototype.draw=function(e,t){var n=this.gl,r=this.shader,i=this.verticeBuffer;n.disable(n.DEPTH_TEST),n.disable(n.CULL_FACE),n.enable(n.STENCIL_TEST),r.bind(),n.bindBuffer(n.ARRAY_BUFFER,i),n.vertexAttribPointer(r.a_vertex,2,n.FLOAT,!1,0,0),n.uniformMatrix3fv(r.u_displayMatrix,!1,v(n.drawingBufferWidth,n.drawingBufferHeight)),t.length&&(n.stencilFunc(n.NEVER,1,1),n.stencilOp(n.REPLACE,n.KEEP,n.KEEP),n.bufferData(n.ARRAY_BUFFER,g(t),n.DYNAMIC_DRAW),n.drawArrays(n.TRIANGLES,0,6*t.length)),n.enable(n.BLEND),n.uniform4fv(r.u_color,f),n.stencilFunc(n.NOTEQUAL,1,1),n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE),n.blendEquation(n.FUNC_ADD);var o={p1:{x:e.x,y:e.y},p2:{x:e.x+e.width,y:e.y},p3:{x:e.x,y:e.y+e.height},p4:{x:e.x+e.width,y:e.y+e.height}};n.bufferData(n.ARRAY_BUFFER,g([o]),n.DYNAMIC_DRAW),n.drawArrays(n.TRIANGLES,0,6),n.disable(n.BLEND),n.disable(n.STENCIL_TEST),n.enable(n.CULL_FACE),n.enable(n.DEPTH_TEST)},e.prototype.drawSelected=function(e,t,n,r){var i=this.gl,o=this.shader,a=this.selectedShader,s=this.verticeBuffer,u=this.texCoordBuffer;if(i.disable(i.DEPTH_TEST),i.disable(i.CULL_FACE),i.bindBuffer(i.ARRAY_BUFFER,s),i.bufferData(i.ARRAY_BUFFER,g(e),i.DYNAMIC_DRAW),i.bindBuffer(i.ARRAY_BUFFER,null),r>1){a.bind();var c=_(v(i.drawingBufferWidth,i.drawingBufferHeight),r,n);i.uniformMatrix3fv(a.u_displayMatrix,!1,c),i.bindBuffer(i.ARRAY_BUFFER,s),i.vertexAttribPointer(a.a_vertex,2,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,u),i.bufferData(i.ARRAY_BUFFER,function(e){var t=new Float32Array(6*e.length*2);return e.forEach(function(e,n){var r=m(e),i=function(e){return(e-r.min.x)/(r.max.x-r.min.x)},o=function(e){return(r.max.y-e)/(r.max.y-r.min.y)};t[12*n+0]=i(e.p1.x),t[12*n+1]=o(e.p1.y),t[12*n+2]=i(e.p3.x),t[12*n+3]=o(e.p3.y),t[12*n+4]=i(e.p2.x),t[12*n+5]=o(e.p2.y),t[12*n+6]=i(e.p2.x),t[12*n+7]=o(e.p2.y),t[12*n+8]=i(e.p3.x),t[12*n+9]=o(e.p3.y),t[12*n+10]=i(e.p4.x),t[12*n+11]=o(e.p4.y)}),t}(e),i.DYNAMIC_DRAW),i.vertexAttribPointer(a.a_texCoord,2,i.FLOAT,!1,0,0),i.activeTexture(i.TEXTURE0),i.uniform1i(a.u_texture,0),i.uniform4fv(a.u_color,h);for(var l=0;l<e.length;l++)i.bindTexture(i.TEXTURE_2D,t[l]&&t[l].texture?t[l].texture:this.emptyTexture),i.drawArrays(i.TRIANGLES,6*l,6)}else i.enable(i.BLEND),o.bind(),i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ZERO,i.ONE),i.blendEquation(i.FUNC_ADD),i.bindBuffer(i.ARRAY_BUFFER,s),i.vertexAttribPointer(o.a_vertex,2,i.FLOAT,!1,0,0),i.uniform4fv(o.u_color,h),i.drawArrays(i.TRIANGLES,0,6*e.length),i.disable(i.BLEND);i.enable(i.CULL_FACE),i.enable(i.DEPTH_TEST)},e.prototype.destroy=function(){var e=this.gl;e.deleteBuffer(this.verticeBuffer),e.deleteBuffer(this.texCoordBuffer),e.deleteTexture(this.emptyTexture),this.shader.destroy(),this.selectedShader.destroy()},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return u});var r=n(6),i=n(5),o=n(100),a=Object(r.a)(i.v,i.a,i.e,i.E,o.d,function(e){return e.reader.zoomLevel},function(e,t,n,r,i,o){return!!e&&((!i||!n)&&(t||r||1===o))}),s=Object(r.a)(a,i.c,i.m,function(e,t,n){return e&&!t&&n>-1}),u=Object(r.a)(a,i.d,i.m,function(e,t,n){return e&&!t&&n>-1})},,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r='\n    <svg width="36" height="31" viewBox="0 0 36 31" xmlns="http://www.w3.org/2000/svg">\n        <title>Group</title>\n        <g fill="#9AA8A9" fill-rule="evenodd" opacity=".3">\n            <path d="M32.333 30.77H3.267c-1.1 0-2.1-.564-2.667-1.53-.533-.964-.533-2.095.033-3.06L15.5 1.464C16.067.532 17.033 0 18.133 0 19.2 0 20.2.566 20.767 1.464l14.5 24.118c.633 1.064.666 2.362.033 3.46-.6 1.097-1.7 1.73-2.967 1.73zm-14.2-28.475c-.133 0-.433.034-.633.333L2.667 27.378c-.2.333-.067.6 0 .732.066.133.233.366.633.366h29.033c.567 0 .867-.4.967-.566.1-.166.3-.6 0-1.098L18.767 2.663c-.2-.333-.5-.367-.634-.367z"/><path d="M18.133 20.825c-.633 0-1.166-.533-1.166-1.165v-8.15c0-.632.533-1.164 1.166-1.164.634 0 1.167.532 1.167 1.164v8.15c0 .666-.5 1.165-1.167 1.165zM18.133 25.05c-.633 0-1.166-.533-1.166-1.165v-.665c0-.632.533-1.165 1.166-1.165.634 0 1.167.533 1.167 1.165v.665c0 .665-.5 1.164-1.167 1.164z"/>\n        </g>\n    </svg>\n'},function(e,t,n){"use strict";function r(e,t,n){var r={width:t,height:n,left:(screen.width-t)/2,top:(screen.height-n)/2},i=Object.keys(r).map(function(e){return e+"="+r[e]}).join(",");window.open(e,"_blank",i)}function i(e,t){return function(n){var r="mailto:?subject="+encodeURIComponent("I found this great publication on issuu.com")+"&body="+encodeURIComponent("Hi,\n\nI found this publication on issuu.com which seems totally made for you.\n\n"+e+":\n"+t+"\n\nCheck it out and let me know what you think.\n\n- Me");window.open(r,"_top")}}function o(e){return function(t){r("https://www.facebook.com/sharer.php?u="+encodeURIComponent(e),575,300)}}function a(e,t){return function(n){var i={url:encodeURIComponent(t),text:encodeURIComponent(e),via:"issuu"};r("https://twitter.com/intent/tweet?"+Object.keys(i).map(function(e){return e+"="+i[e]}).join("&"),550,420)}}function s(e,t,n){return function(i){var o={url:encodeURIComponent(e),media:encodeURIComponent(t),description:encodeURIComponent(n)};r("https://pinterest.com/pin/create/button/?"+Object.keys(o).map(function(e){return e+"="+o[e]}).join("&"),750,500)}}n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return s})},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),i=n.n(r),o=n(236),a=n(152),s=n(98),u=n(78),c=n(17),l=function(e){function t(){var n,r,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),r.onRetry=function(e){e.preventDefault(),r.props.reloadDocument&&r.props.reloadDocument()},i=n,babelHelpers.possibleConstructorReturn(r,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.error;t.name===c.f&&t.code===u.g&&window.setTimeout(function(){e.props.reloadDocument&&e.props.reloadDocument()},1e4)},t.prototype.getConfig=function(){return this.props.error.name===c.f?this.getConfigForInactiveDocument():this.getConfigForEmbedError()},t.prototype.getConfigForEmbedError=function(){var e=this.props.embedId?this.props.embedId:"undefined";return{message:this.props.error.message+" ("+e+")",icon:i.a.createElement("div",{className:"failed__icon",dangerouslySetInnerHTML:{__html:o.a}}),retry:{display:"none"},errorId:{}}},t.prototype.getConfigForInactiveDocument=function(){var e={message:"Something went wrong",icon:i.a.createElement("div",{className:"failed__icon",dangerouslySetInnerHTML:{__html:o.a}}),retry:{},errorId:{}};switch(this.props.error.code){case u.a:e.message="Conversion failed",e.icon=i.a.createElement("div",{className:"failed__icon",dangerouslySetInnerHTML:{__html:a.a}}),e.retry.display="none",e.errorId.display="none";break;case u.g:e.message="Document is getting ready, hang on",e.icon=i.a.createElement("div",{className:"failed__icon"},i.a.createElement(s.a,null)),e.retry.display="none",e.errorId.display="none";break;case u.h:e.message="This publication is no longer available\ndue to a copyright claim by a third party.",e.icon=i.a.createElement("div",{className:"failed__icon",dangerouslySetInnerHTML:{__html:a.a}}),e.retry.display="none",e.errorId.display="none";break;case u.b:case u.c:case u.d:case u.e:case u.f:case u.i:case u.j:e.message="Sorry, this publication is not available",e.retry.display="none",e.errorId.display="none"}return e},t.prototype.render=function(){var e=this.getConfig();return i.a.createElement("div",{className:"failed"},e.icon,i.a.createElement("h1",{className:"failed__message"},e.message),i.a.createElement("div",{className:"failed__retry-link-container",style:e.retry},i.a.createElement("a",{className:"failed__retry-link",href:"#",onClick:this.onRetry},"Try again")),i.a.createElement("div",{className:"failed__help"},i.a.createElement("div",{className:"failed__error-token",style:e.errorId},"Error ID: ",this.props.sessionId),i.a.createElement("div",{className:"failed__spacer",style:e.errorId}),i.a.createElement("div",{className:"failed__support-link-container"},i.a.createElement("a",{className:"failed__support-link",href:"http://help.issuu.com",target:"_blank"},"help.issuu.com"))))},t}(r.Component);l.displayName="Failed"},function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return l});var r=n(6),i=n(34),o=n(15),a=n(21),s=n(5),u=Object(r.a)(function(e){return e.features.controls},function(e){for(var t=0;t<e.length;t++)if(e[t].type===a.DOWNLOAD_PROTECTED_TYPE)return e[t]}),c=Object(r.a)(function(e){return e.features.controls},function(e){for(var t=0;t<e.length;t++)if(e[t].type===a.DOWNLOAD_TYPE)return e[t]}),l=Object(r.a)(c,function(e){return e.metadata.downloadable},s.E,i.a,u,o.k,function(e,t,n,r,i,o){return t&&!r&&(o&&!(!e||n)||i)})},,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r='\n    <svg width="100%" height="100%" viewBox="0 0 24 24">\n        <g class="spinner__icon" fill-rule="evenodd">\n            <g transform="translate(7.000000, 7.000000)">\n                    <path d="M6.77787915,6.84548427 C5.79003176,7.83333166 4.18814246,7.83322341 3.2001563,6.84523725 C2.21223953,5.85732047 2.21223953,4.25567819 3.2001563,3.26776142 C4.18822365,2.27969408 5.7896189,2.27974819 6.77763213,3.26776142 C7.76571475,4.25584404 7.76587711,5.8574863 6.77787915,6.84548427 L8.24993998,8.31754509 C10.0510015,6.51648357 10.0507055,3.59671316 8.24969296,1.79570059 C6.44870526,-0.00528710987 3.52918184,-0.00538576575 1.72809548,1.79570059 C-0.0728180424,3.59661411 -0.0728180424,6.51638456 1.72809548,8.31729807 C3.52903385,10.1182364 6.4490513,10.1184338 8.24993998,8.31754509 L6.77787915,6.84548427 L6.77787915,6.84548427 Z"></path>\n            </g>\n            <path d="M12,23 C18.0751322,23 23,18.0751322 23,12 C23,5.92486775 18.0751322,1 12,1 C5.92486775,1 1,5.92486775 1,12 C1,18.0751322 5.92486775,23 12,23 Z M12,20.0250244 C16.4320986,20.0250244 20.0250244,16.4320986 20.0250244,12 C20.0250244,7.5679014 16.4320986,3.97497559 12,3.97497559 C7.5679014,3.97497559 3.97497559,7.5679014 3.97497559,12 C3.97497559,16.4320986 7.5679014,20.0250244 12,20.0250244 Z" fill-opacity="0.5"></path>\n            <path d="M3.97746854,12.2020107 C3.88040309,13.3666506 2.94475898,13.6536116 2.48144531,13.6567993 C1.99243164,13.6601639 0.999999997,13.1174211 1,12 C1.00000002,5.92486775 5.92486775,1 12,1 C18.0751322,1 23,5.92486775 23,12 C23,13.1278573 22.0378909,13.5112302 21.5430908,13.5112305 C21.0482908,13.5112307 20.0457764,13.2033275 20.0457764,12 C20.0457764,11.9485283 20.0382948,11.8986091 20.0236545,11.8502139 C19.9437915,7.48723335 16.3820616,3.97497559 12,3.97497559 C7.5679014,3.97497559 3.97497559,7.5679014 3.97497559,12 C3.97497559,12.067535 3.97580982,12.1348751 3.97746854,12.2020107 Z"></path>\n        </g>\n    </svg>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(25),i=n(57),o=n(22);function a(e,t,n,a){var s=function(){try{return window.matchMedia("(orientation: portrait)").matches}catch(e){return window.innerHeight>window.innerWidth}}(),u=i.a.isMobile()||i.a.isTablet(),c=i.a.isMobile()&&s,l=u&&s;switch(a.responsiveModeWhen){case r.RESPONSIVE.HANDHELD_IN_PORTRAIT_FULLSCREEN:if(l&&n)return r.SINGLE_PAGE_SPREAD;break;case r.RESPONSIVE.HANDHELD_IN_PORTRAIT:if(l)return r.SINGLE_PAGE_SPREAD;break;case r.RESPONSIVE.PHONE_ISH_IN_PORTRAIT:var d=480*Object(o.a)();if(c||e<=d&&e<t)return r.SINGLE_PAGE_SPREAD}return a.defaultMode}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(21);function i(e,t){return!(!e||e.kind!==r.FULLSCREEN_KIND.FALLBACK)||t}},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var r=function(e){return e.config.origins};function i(e,t,n,r){var i=Object.assign({},e,{sessionId:t,embedTrackingQuery:n,embedId:r});return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;arguments[1];return e}}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return u});var r=n(129),i="ON_VISIBILITY_CHANGE",o={ON_VISIBILITY_CHANGE:i};function a(){return{type:i}}var s={isHidden:r.a(),supported:r.b()};function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;switch(arguments[1].type){case o.ON_VISIBILITY_CHANGE:return Object.assign({},e,{isHidden:r.a()});default:return e}}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r='d="M27.7068284,10.2884629 C27.5277733,10.1097429 27.2813055,10 27.009222,10 L22.990778,10 C22.4509752,10 22,10.4477153 22,11 C22,11.5561352 22.4435864,12 22.990778,12 L26,12 L26,15.009222 C26,15.5490248 26.4477153,16 27,16 C27.5561352,16 28,15.5564136 28,15.009222 L28,10.990778 C28,10.7223751 27.8893106,10.4759332 27.7101145,10.2959709 Z" fill="#F5F5F5" transform="translate(25.000000, 13.000000) rotate(-180.000000) translate(-25.000000, -13.000000)"',i='d="M13.7068284,10.2884629 C13.5277733,10.1097429 13.2813055,10 13.009222,10 L8.99077797,10 C8.45097518,10 8,10.4477153 8,11 C8,11.5561352 8.44358641,12 8.99077797,12 L12,12 L12,15.009222 C12,15.5490248 12.4477153,16 13,16 C13.5561352,16 14,15.5564136 14,15.009222 L14,10.990778 C14,10.7223751 13.8893106,10.4759332 13.7101145,10.2959709 Z" fill="#F5F5F5" transform="translate(11.000000, 13.000000) scale(-1, 1) rotate(-180.000000) translate(-11.000000, -13.000000)"',o='d="M27.7068284,20.2884629 C27.5277733,20.1097429 27.2813055,20 27.009222,20 L22.990778,20 C22.4509752,20 22,20.4477153 22,21 C22,21.5561352 22.4435864,22 22.990778,22 L26,22 L26,25.009222 C26,25.5490248 26.4477153,26 27,26 C27.5561352,26 28,25.5564136 28,25.009222 L28,20.990778 C28,20.7223751 27.8893106,20.4759332 27.7101145,20.2959709 Z" fill="#F5F5F5" transform="translate(25.000000, 23.000000) rotate(-90.000000) translate(-25.000000, -23.000000)"',a='d="M13.7068284,20.2884629 C13.5277733,20.1097429 13.2813055,20 13.009222,20 L8.99077797,20 C8.45097518,20 8,20.4477153 8,21 C8,21.5561352 8.44358641,22 8.99077797,22 L12,22 L12,25.009222 C12,25.5490248 12.4477153,26 13,26 C13.5561352,26 14,25.5564136 14,25.009222 L14,20.990778 C14,20.7223751 13.8893106,20.4759332 13.7101145,20.2959709 Z" fill="#F5F5F5" transform="translate(11.000000, 23.000000) scale(-1, 1) rotate(-90.000000) translate(-11.000000, -23.000000)"',s='\n    <svg width="100%" height="100%" viewBox="0 0 36 36">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <path '+r+"></path>\n                <path "+i+"></path>\n                <path "+o+"></path>\n                <path "+a+'></path>\n            </g>\n        </g>\n        <path class="shadow" '+r+'></path>\n        <path class="shadow" '+i+'></path>\n        <path class="shadow" '+o+'></path>\n        <path class="shadow" '+a+'></path>\n        <path class="icon" '+r+'></path>\n        <path class="icon" '+i+'></path>\n        <path class="icon" '+o+'></path>\n        <path class="icon" '+a+"></path>\n    </svg>\n"},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r='d="M27.7068284,10.2884629 C27.5277733,10.1097429 27.2813055,10 27.009222,10 L22.990778,10 C22.4509752,10 22,10.4477153 22,11 C22,11.5561352 22.4435864,12 22.990778,12 L26,12 L26,15.009222 C26,15.5490248 26.4477153,16 27,16 C27.5561352,16 28,15.5564136 28,15.009222 L28,10.990778 C28,10.7223751 27.8893106,10.4759332 27.7101145,10.2959709 Z"',i='d="M13.7068284,10.2884629 C13.5277733,10.1097429 13.2813055,10 13.009222,10 L8.99077797,10 C8.45097518,10 8,10.4477153 8,11 C8,11.5561352 8.44358641,12 8.99077797,12 L12,12 L12,15.009222 C12,15.5490248 12.4477153,16 13,16 C13.5561352,16 14,15.5564136 14,15.009222 L14,10.990778 C14,10.7223751 13.8893106,10.4759332 13.7101145,10.2959709 Z" transform="translate(11.000000, 13.000000) scale(-1, 1) translate(-11.000000, -13.000000)"',o='d="M27.7068284,20.2884629 C27.5277733,20.1097429 27.2813055,20 27.009222,20 L22.990778,20 C22.4509752,20 22,20.4477153 22,21 C22,21.5561352 22.4435864,22 22.990778,22 L26,22 L26,25.009222 C26,25.5490248 26.4477153,26 27,26 C27.5561352,26 28,25.5564136 28,25.009222 L28,20.990778 C28,20.7223751 27.8893106,20.4759332 27.7101145,20.2959709 Z" transform="translate(25.000000, 23.000000) rotate(-270.000000) translate(-25.000000, -23.000000)"',a='d="M13.7068284,20.2884629 C13.5277733,20.1097429 13.2813055,20 13.009222,20 L8.99077797,20 C8.45097518,20 8,20.4477153 8,21 C8,21.5561352 8.44358641,22 8.99077797,22 L12,22 L12,25.009222 C12,25.5490248 12.4477153,26 13,26 C13.5561352,26 14,25.5564136 14,25.009222 L14,20.990778 C14,20.7223751 13.8893106,20.4759332 13.7101145,20.2959709 Z" transform="translate(11.000000, 23.000000) scale(-1, 1) rotate(-270.000000) translate(-11.000000, -23.000000)"',s='\n    <svg width="100%" height="100%" viewBox="0 0 36 36">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <path '+r+"></path>\n                <path "+i+"></path>\n                <path "+o+"></path>\n                <path "+a+'></path>\n            </g>\n        </g>\n        <path class="shadow" '+r+'></path>\n        <path class="shadow" '+i+'></path>\n        <path class="shadow" '+o+'></path>\n        <path class="shadow" '+a+'></path>\n        <path class="icon" '+r+'></path>\n        <path class="icon" '+i+'></path>\n        <path class="icon" '+o+'></path>\n        <path class="icon" '+a+"></path>\n    </svg>\n"},function(e,t,n){"use strict";var r=n(302);n.d(t,"b",function(){return r.a});n(305);var i=n(306);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r="TOGGLE_DROPDOWN";function i(e){return{type:r,dropdown:e}}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(24),i=1e3/60,o=1/i,a=.1/i,s=6/i,u=Math.ceil(250/i)*i;function c(e,t,n,i,o,a,s){return{top:Math.max(Math.min(e,s-o/n),0),left:Math.max(Math.min(t,a-i/n),0),zoom:Math.max(Math.min(n,r.b),r.c)}}var l=function(){function e(t,n,r,i,o,a,s){babelHelpers.classCallCheck(this,e),this.top=t,this.left=n,this.zoom=r,this.width=i,this.height=o,this.contentWidth=a,this.contentHeight=s,this.snap=!1,this.snapFunction=function(e,t,n){return{top:e,left:t,zoom:n}},this.scrollingX=!0,this.scrollingY=!0,this._lastUpdate={left:n,top:t,zoom:r},this._isMoving=!1,this._lastTouchPosition={x:0,y:0},this._initialZoomLevel=1,this._lastTouchTime=0,this._velocity={x:0,y:0},this._animate=!1,this._isDragging=!1,this._lastMoveTs=0}return e.prototype.touchStart=function(e,t,n){this._lastTouchPosition.x=e,this._lastTouchPosition.y=t,this._initialZoomLevel=this.zoom,this._lastTouchTime=n,this._velocity={x:0,y:0},this._animate=!1,this._animation&&this._animation.deferred&&this._animation.deferred.resolve()},e.prototype.touchMove=function(e,t,n,i){var o=this._lastTouchPosition,a=n-this._lastTouchTime,s=this.top,u=this.left,c=this.zoom;if(i){var l=this.zoom;(c=Math.max(Math.min(i*this._initialZoomLevel,r.b),r.c))!==l&&(u+=e/l-e/c,s+=t/l-t/c)}var d={x:(e-o.x)/c,y:(t-o.y)/c};this.scrollingX||1!==c||(d.x=0),this.scrollingY||1!==c||(d.y=0),((u-=1*d.x)>this.contentWidth-this.width/c||u<0)&&(u+=.8*d.x*1),((s-=1*d.y)>this.contentHeight-this.height/c||s<0)&&(s+=.8*d.y*1);var p=function(e,t,n){var r=Math.max(1,n);return{x:-t.x/r*.6+.4*e.x,y:-t.y/r*.6+.4*e.y}}(this._velocity,d,a);this._isDragging=!0,this._isMoving=!0,this.left=u,this.top=s,this.zoom=c,this._velocity=p,this._lastTouchPosition.x=e,this._lastTouchPosition.y=t,this._lastTouchTime=n},e.prototype.touchEnd=function(e,t){var n=this._velocity,r=(this.snap?s:o)/this.zoom;if(this._isDragging=!1,function(e){return Math.sqrt(e.x*e.x+e.y*e.y)}(n)>r){var l=this.zoom,d=function(e,t,n){for(var r=0,o=e.x,a=e.y,s=0,u=0;Math.sqrt(o*o+a*a)>t;)r+=i,s+=(o*=n)*i,u+=(a*=n)*i;return{duration:r,distanceX:s,distanceY:u}}(n,(this.snap?s:a)/l,1-.11/l),p=d.duration,h=d.distanceX,f=d.distanceY,m=this.left+h,g=this.top+f,v=this.snap?this.snapFunction(g,m,l):c(g,m,l,this.width,this.height,this.contentWidth,this.contentHeight),_=Math.sqrt(Math.pow(h,2)+Math.pow(f,2)),b=p*(Math.sqrt(Math.pow(g-v.top,2)+Math.pow(m-v.left,2))+_)/_;this.animateToPosition(v.top,v.left,v.zoom,t,b,"EASING_OUT_EXPO")}else this.animateToPosition(this.top,this.left,this.zoom,t,u)},e.prototype.scrollTo=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:u;return this.animateToPosition(e,t,n||this.zoom,r,i)},e.prototype.jumpTo=function(e,t,n){var r=c(e,t,n||this.zoom,this.width,this.height,this.contentWidth,this.contentHeight);if(this.snap){var i=this.snapFunction(r.top,r.left,r.zoom);this.top=i.top,this.left=i.left,this.zoom=i.zoom}else this.top=r.top,this.left=r.left,this.zoom=r.zoom},e.prototype.setSnap=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(t&&(this.snapFunction=t),e&&!this.snap){if(!this.snapFunction)throw new Error("Cannot snap without snap function!");if(this.snap=e,n)r&&this.animateToPosition(this.top,this.left,this.zoom,r,u);else{var i=this.snapFunction(this.top,this.left,this.zoom);this.top=i.top,this.left=i.left,this.zoom=i.zoom}}else this.snap=e},e.prototype.setScrolling=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.scrollingX=e,this.scrollingY=t},e.prototype.resize=function(e,t,n,r,i,o,a){if(this.top=e,this.left=t,this.zoom=n,this.width=r,this.height=i,this.contentWidth=o,this.contentHeight=a,this.snap){var s=this.snapFunction(e,t,n);this.top=s.top,this.left=s.left,this.zoom=s.zoom}},e.prototype.isSnapped=function(){if(!this.snapFunction)return!0;var e=this.snapFunction(this.top,this.left,this.zoom),t=Math.abs(e.left-this.left)<1&&Math.abs(e.top-this.top)<1&&Math.abs(e.zoom-this.zoom)<.2;return t},e.prototype.update=function(e){var t=this._animate;if(this._animate&&this._animation){var n=this._animation,r=n.start,i=n.end,o=n.startTime,a=n.duration,s=n.easing,u=n.deferred,c=i.left-r.left,l=i.top-r.top,d=Math.min(e-o,a),p=Math.max(d/a,0);p<1&&p>0&&("EASING_OUT"===s?p=function(e){return Math.pow(e-1,3)+1}(p):"EASING_IN_OUT"===s?p=function(e){var t=2*e;return t<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}(p):"EASING_OUT_EXPO"===s&&(p=function(e){return 1-Math.pow(2,-10*e)}(p)));var h=r.left+c*p,f=r.top+l*p,m=this.width/i.zoom-this.width/r.zoom,g=this.width/r.zoom+m*p,v=this.width/g;this.left=h,this.top=f,this.zoom=v,this._animate=d<a,this._animate||u.resolve()}this._lastUpdate.left===this.left&&this._lastUpdate.top===this.top&&this._lastUpdate.zoom===this.zoom||(this._lastMoveTs=e),this._isMoving=t||this._isDragging&&e-this._lastMoveTs<100,this._lastUpdate.left=this.left,this._lastUpdate.top=this.top,this._lastUpdate.zoom=this.zoom},e.prototype.getHorizontalPositionInPercent=function(){var e=Math.max(Math.min(100*this.left/(this.contentWidth-this.width),100),0);return Number.isFinite(e)?e:0},e.prototype.animateToPosition=function(e,t,n,r,i,o){var a=c(e,t,n,this.width,this.height,this.contentWidth,this.contentHeight),s=a.top,u=a.left,l=a.zoom;if(this.snap){var d=this.snapFunction(s,u,l);s=d.top,u=d.left,l=d.zoom}if(u===this.left&&s===this.top&&l===this.zoom)return this._animate=!1,Promise.resolve();var p={resolve:null,promise:null};return p.promise=new Promise(function(e){p.resolve=e}),this._animation={startTime:r,easing:o||(this._animate?"EASING_OUT":"EASING_IN_OUT"),duration:i,start:{top:this.top,left:this.left,zoom:this.zoom},end:{top:s,left:u,zoom:l},deferred:p},this._animate=!0,p.promise},babelHelpers.createClass(e,[{key:"isDragging",get:function(){return this._isDragging}},{key:"isAnimating",get:function(){return this._animate}},{key:"isMoving",get:function(){return this._isMoving||this._animate}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(191),i={draw:function(e,t,n,i){var o=1.8*i;e.save(),e.beginPath(),e.arc(t,n,i,0,2*Math.PI),e.fill(),e.translate(t-o/2,n-o/2),e.scale(o/r.a.w,o/r.a.h),r.a.d[0](e,{stack:0}),e.restore()}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(192),i={draw:function(e,t,n,i){var o=1.8*i;e.save(),e.beginPath(),e.arc(t,n,i,0,2*Math.PI),e.fill(),e.translate(t-o/2,n-o/2),e.scale(o/r.a.w,o/r.a.h),r.a.d[0](e,{stack:0}),e.restore()}}},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s});var r=n(66),i={YOUTUBE_ERROR_INVALID_PARAMETER:2,YOUTUBE_ERROR_HTML5_PLAYER:5,YOUTUBE_ERROR_NOT_FOUND:100,YOUTUBE_ERROR_FORBIDDEN:101,YOUTUBE_ERROR_FORBIDDEN_IN_DISGUISE:150};function o(){return new Promise(function(e){var t=document.createElement("script");t.id="yt-api",t.src="https://www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];n.parentNode&&(n.parentNode.insertBefore(t,n),window.onYouTubeIframeAPIReady=e)})}var a=function(){function e(t,n){var i=this;babelHelpers.classCallCheck(this,e),this._isFullscreen=!1,this._maxReloadRetries=3,this._onFullscreenChange=function(){var e=document.getElementById(i.id);i._isFullscreen=!!e&&e.contains(Object(r.d)()),i.fullscreenCallback&&i.fullscreenCallback()},this._onStateChange=function(){i.playStatusCallback&&i.playStatusCallback()},this._player=n,this.id=t,Object(r.a)(this._onFullscreenChange)}return e.prototype.play=function(){return this._player.playVideo(),Promise.resolve()},e.prototype.pause=function(){this._player.pauseVideo()},e.prototype.destroy=function(){Object(r.f)(this._onFullscreenChange),this.fullscreenCallback=void 0,this.playStatusCallback=void 0,this._player.destroy()},e.prototype.isPlaying=function(){return this._player.getPlayerState()===window.YT.PlayerState.PLAYING},e.prototype.isFullscreen=function(){return this._isFullscreen},e.prototype.isReady=function(){return this._player.getDuration()>0},e}();function s(e,t,n,r){return new Promise(function(o,s){var u=new a(t,new window.YT.Player(t,{videoId:e,playerVars:{showinfo:0,autoplay:0,rel:0},events:{onReady:function(){n&&u._player.mute(),o(u)},onError:function(t){t.data===i.YOUTUBE_ERROR_HTML5_PLAYER&&u._maxReloadRetries>0?(u._maxReloadRetries--,u._player.loadVideoById(e)):r()},onStateChange:function(){return u._onStateChange()}}}))})}},,,,function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return u});var r=n(2),i=n(55),o=n(84);function a(e,t){return{clipping:{},licenses:null,description:"",userDisplayName:e,title:t,contentRating:{},access:"public",downloadable:!1,adsenseAccount:null}}function s(e,t,n,s,u){var c=e+"/call/reader/api/dynamic/"+t+"/"+n,l=Date.now(),d=function(){return Math.round(Date.now()-l)};return Object(o.a)(c,{timeout:5e3,readerSessionHeader:s}).then(function(e){return u&&u.monitor("reader3-dynamicapi-stats",{success:1,success_time:d()}),e}).catch(function(e){if(u&&u.monitor("reader3-dynamicapi-stats",{failure:1,failure_time:d()}),e.name===i.d&&404===e.code)throw new i.a(r.e,-1);return{metadata:{},licenses:null,adsenseAccount:null}}).then(function(e){var r=e.metadata,i=void 0===r?{}:r,o=e.licenses,s=e.adsenseAccount;return babelHelpers.extends({},a(t,n),{licenses:o},i,{adsenseAccount:s})})}function u(e,t,n){return new Promise(function(i,a){var s=e+"/call/reader/api/links/"+t+"/"+n;Object(o.a)(s).then(function(e){i(e)},function(){a(new Error(r.c))})})}},function(e,t,n){"use strict";t.a={w:24,h:24,d:[function(e,t){e.save(),t.stack++,e.strokeStyle="rgba(0,0,0,0)",e.fillStyle="#9AA8A9",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.translate(0,0),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(0,0),e.save(),t.stack++,e.save(),t.stack++,e.translate(7,7),e.save(),t.stack++,e.beginPath(),e.moveTo(6.777879,6.845484),e.bezierCurveTo(5.790032,7.833332,4.188142,7.833223,3.200156,6.845237),e.bezierCurveTo(2.21224,5.85732,2.21224,4.255678,3.200156,3.267761),e.bezierCurveTo(4.188224,2.279694,5.789619,2.279748,6.777632,3.267761),e.bezierCurveTo(7.765715,4.255844,7.765877,5.857486,6.777879,6.845484),e.lineTo(8.24994,8.317545),e.bezierCurveTo(10.051001,6.516484,10.050705,3.596713,8.249693,1.795701),e.bezierCurveTo(6.448705,-.005287,3.529182,-.005386,1.728095,1.795701),e.bezierCurveTo(-.072818,3.596614,-.072818,6.516385,1.728095,8.317298),e.bezierCurveTo(3.529034,10.118236,6.449051,10.118434,8.24994,8.317545),e.lineTo(6.777879,6.845484),e.lineTo(6.777879,6.845484),e.closePath(),e.fill(),e.stroke(),e.restore(),t.stack--,e.restore(),t.stack--,e.save(),t.stack++,e.fillStyle="rgba(154, 168, 169, 0.5)",e.beginPath(),e.moveTo(12,23),e.bezierCurveTo(18.075132,23,23,18.075132,23,12),e.bezierCurveTo(23,5.924868,18.075132,1,12,1),e.bezierCurveTo(5.924868,1,1,5.924868,1,12),e.bezierCurveTo(1,18.075132,5.924868,23,12,23),e.closePath(),e.moveTo(12,20.025024),e.bezierCurveTo(16.432099,20.025024,20.025024,16.432099,20.025024,12),e.bezierCurveTo(20.025024,7.567901,16.432099,3.974976,12,3.974976),e.bezierCurveTo(7.567901,3.974976,3.974976,7.567901,3.974976,12),e.bezierCurveTo(3.974976,16.432099,7.567901,20.025024,12,20.025024),e.closePath(),e.fill("evenodd"),e.stroke(),e.restore(),t.stack--,e.save(),t.stack++,e.fillStyle="#9AA8A9",e.beginPath(),e.moveTo(3.977469,12.202011),e.bezierCurveTo(3.880403,13.366651,2.944759,13.653612,2.481445,13.656799),e.bezierCurveTo(1.992432,13.660164,1,13.117421,1,12),e.bezierCurveTo(1,5.924868,5.924868,1,12,1),e.bezierCurveTo(18.075132,1,23,5.924868,23,12),e.bezierCurveTo(23,13.127857,22.037891,13.51123,21.543091,13.51123),e.bezierCurveTo(21.048291,13.511231,20.045776,13.203328,20.045776,12),e.bezierCurveTo(20.045776,11.948528,20.038295,11.898609,20.023654,11.850214),e.bezierCurveTo(19.943791,7.487233,16.382062,3.974976,12,3.974976),e.bezierCurveTo(7.567901,3.974976,3.974976,7.567901,3.974976,12),e.bezierCurveTo(3.974976,12.067535,3.97581,12.134875,3.977469,12.202011),e.closePath(),e.fill(),e.stroke(),e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--}],i:{}}},function(e,t,n){"use strict";t.a={w:36,h:36,d:[function(e,t){e.save(),t.stack++,e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.translate(0,0),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(0,0),e.save(),t.stack++,e.fillStyle="rgba(0,0,0,0)",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.translate(8,10),e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.beginPath(),e.moveTo(16.683499,11.621507),e.bezierCurveTo(15.72267,11.621507,14.892862,12.262398,14.630817,13.116921),e.lineTo(7.861335,13.116921),e.bezierCurveTo(7.59929,12.347851,6.987853,11.792411,6.158046,11.664233),e.lineTo(6.027023,10.766984),e.lineTo(17.513307,9.228843),e.bezierCurveTo(17.819025,9.186117,18.08107,8.929761,18.08107,8.587952),e.lineTo(18.08107,2.520841),e.bezierCurveTo(18.08107,2.179032,17.775351,1.87995,17.425959,1.87995),e.lineTo(4.760475,1.87995),e.lineTo(4.585779,.55544),e.bezierCurveTo(4.542105,.256357,4.28006,0,3.930667,0),e.lineTo(.655111,0),e.bezierCurveTo(.305719,0,0,.299083,0,.640892),e.bezierCurveTo(0,.982701,.305719,1.281784,.655111,1.281784),e.lineTo(3.31923,1.281784),e.lineTo(4.891497,11.792411),e.bezierCurveTo(4.149038,12.13422,3.624949,12.860564,3.624949,13.715087),e.bezierCurveTo(3.624949,14.911418,4.585779,15.851393,5.808653,15.851393),e.bezierCurveTo(6.769483,15.851393,7.59929,15.210501,7.861335,14.355979),e.lineTo(14.587143,14.355979),e.bezierCurveTo(14.849188,15.210501,15.678995,15.851393,16.639825,15.851393),e.bezierCurveTo(17.8627,15.851393,18.823529,14.911418,18.823529,13.715087),e.bezierCurveTo(18.823529,12.518755,17.8627,11.621507,16.683499,11.621507),e.lineTo(16.683499,11.621507),e.closePath(),e.moveTo(16.770848,3.161733),e.lineTo(16.770848,8.032512),e.lineTo(5.896001,9.442474),e.lineTo(4.978845,3.119007),e.lineTo(16.770848,3.161733),e.lineTo(16.770848,3.161733),e.closePath(),e.moveTo(5.808653,14.612336),e.bezierCurveTo(5.328238,14.612336,4.935171,14.2278,4.935171,13.757813),e.bezierCurveTo(4.935171,13.287826,5.328238,12.90329,5.808653,12.90329),e.bezierCurveTo(6.289068,12.90329,6.682135,13.287826,6.682135,13.757813),e.bezierCurveTo(6.682135,14.2278,6.289068,14.612336,5.808653,14.612336),e.lineTo(5.808653,14.612336),e.closePath(),e.moveTo(16.683499,14.612336),e.bezierCurveTo(16.203084,14.612336,15.810018,14.2278,15.810018,13.757813),e.bezierCurveTo(15.810018,13.287826,16.203084,12.90329,16.683499,12.90329),e.bezierCurveTo(17.163914,12.90329,17.556981,13.287826,17.556981,13.757813),e.bezierCurveTo(17.556981,14.2278,17.163914,14.612336,16.683499,14.612336),e.lineTo(16.683499,14.612336),e.closePath(),e.fill(),e.stroke(),e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--}],i:{}}},function(e,t,n){"use strict";t.a={w:36,h:36,d:[function(e,t){e.save(),t.stack++,e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.translate(0,0),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(0,0),e.save(),t.stack++,e.fillStyle="rgba(0,0,0,0)",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="#F2F2F2",e.lineWidth=2,e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="#F2F2F2",e.lineWidth=2,e.beginPath(),e.moveTo(12.340871,10.014123),e.bezierCurveTo(12.438705,9.987436,12.545844,9.99788,12.638453,10.051348),e.lineTo(25.723194,17.605827),e.bezierCurveTo(25.744171,17.617938,25.76355,17.631794,25.781276,17.647113),e.bezierCurveTo(25.850585,17.681197,25.910658,17.735014,25.951029,17.804939),e.bezierCurveTo(26.061419,17.99614,25.995389,18.240929,25.808595,18.348775),e.lineTo(12.645177,25.948678),e.bezierCurveTo(12.576466,25.988348,12.500235,26.004075,12.425883,25.999113),e.bezierCurveTo(12.41723,25.999695,12.408519,25.99999,12.399759,25.99999),e.bezierCurveTo(12.178978,25.99999,12,25.820411,12,25.604721),e.lineTo(12,10.404915),e.bezierCurveTo(12,10.206904,12.152566,10.0429,12.340871,10.014123),e.lineTo(12.340871,10.014123),e.closePath(),e.fill(),e.stroke(),e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--}],i:{}}},,function(e,t,n){"use strict";var r=n(328);n.d(t,"a",function(){return r.a});var i=n(91);n.d(t,"b",function(){return i.c}),n.d(t,"c",function(){return i.d})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s});var r=n(348),i=n(189);function o(e){return function(e){var t=e.origins,n=e.username,o=e.documentName,a=e.metrics,s=e.sessionId,u=e.isRobot,c=void 0!==u&&u,l=void 0,d=void 0;function p(){l=Object(r.a)(t.reader3,n,o),d=c?Promise.resolve(Object(i.a)(n,o)):Object(i.b)(t.api,n,o,s,a)}return p(),{reset:function(){p()},whenDocumentBaseFetched:function(){return l.then(function(e){return{pageCount:e.pages.length,pages:e.pages.map(function(e,t){return{pageNumber:t+1,height:e.height,width:e.width,layersInfo:e.layersInfo,imageUri:e.imageUri,isPagePaywalled:e.isPagePaywalled}}),isPaywalled:e.isPaywallPreview}})},whenDocumentExtraFetched:function(){return Promise.all([l,d]).then(function(e){var t=e[0],r=e[1];return{publicationId:t.publicationId,revisionId:t.revisionId,username:n,documentName:o,access:r.access,description:r.description,downloadable:r.downloadable,title:r.title,userDisplayName:r.userDisplayName,contentRating:r.contentRating}})},whenDocumentTextFetched:function(){return l.then(function(e){var t=e.textInfo;return{textInfoPath:t.uri,textInfoSize:t.size,textInfoVersion:t.version}})},whenDocumentLinksFetched:function(){return c?Promise.resolve({}):Object(i.c)(t.api,n,o)},whenLicensesFetched:function(){return d.then(function(e){var t=e.licenses;if(!t)throw new Error("Licenses failed loading");return Object.keys(t)})},whenAdsenseAccountFetched:function(){return d.then(function(e){var t=e.adsenseAccount;return t||Promise.reject()})}}}}var a=o(),s=o()},function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return c});var r=n(0),i=n.n(r),o=n(99),a=function(){try{return"true"===localStorage.getItem("fe-microservice-cookie-consent/dismissed")}catch(e){return!1}},s=function(){try{return/^(.*;)?\s*site.model.token\s*=\s*[^;]+(.*)?$/.test(document.cookie)}catch(e){return!1}};function u(){return!(a()||s())}var c=function(e){function t(n){babelHelpers.classCallCheck(this,t);var r=babelHelpers.possibleConstructorReturn(this,e.call(this,n));return r.state={isDismissed:!u()},r}return babelHelpers.inherits(t,e),t.prototype.onSubmit=function(){!function(){try{localStorage.setItem("fe-microservice-cookie-consent/dismissed","true")}catch(e){}}(),this.setState({isDismissed:!0})},t.prototype.render=function(){var e=this;return this.state.isDismissed?null:i.a.createElement(o.b,{className:"msgbox-CookieConsent",onSubmit:function(){return e.onSubmit()},text:"Our website uses cookies to store your settings, recommend content, target ads and gather statistics. This information is shared with 3rd parties. By using our site, you agree to our use of cookies.",buttonText:"I understand",linkText:"Learn More",linkUrl:"/legal/cookies",boxType:o.a.INFO})},t}(r.Component)},function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return d});var r=n(6),i=n(34),o=n(5),a=n(12),s=n(32),u=n(25);function c(e,t,n){return{proportion:e,done:t,available:n}}var l=Object(r.a)(function(e){return Object(o.H)(e)},function(e){return e>0&&e<100?[{proportion:Math.round(e),done:!0,available:!0},{proportion:100-Math.round(e),done:!1,available:!0}]:[{proportion:100,done:100===e,available:!0}]}),d=Object(r.a)(function(e){return Object(o.m)(e)},function(e){return Object(o.s)(e)},function(e){return Object(a.d)(e)},function(e){return Object(i.c)(e)},function(e){return Object(i.a)(e)},function(e){return Object(o.A)(e)},function(e,t,n,r,i,o){n.pageCount;for(var a=t+1,l=[c(2,e>0,!0)],d=i?r.map(function(e){return Object(s.a)(o,e)}):[],p=1;p<a;p++){var h=l[l.length-1],f=!d.includes(p),m=p<=e,g=2;o===u.DOUBLE_PAGE_SPREAD&&p<t&&(g=4),p===e&&p<t?(l.push(c(o===u.DOUBLE_PAGE_SPREAD?2:1,!0,f)),l.push(c(o===u.DOUBLE_PAGE_SPREAD?2:1,!1,f))):m===h.done&&f===h.available?h.proportion+=g:l.push(c(g,m,f))}return l})},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l});var r=n(6),i=n(140),o=n(5),a=n(15),s=n(12),u=n(13),c=Object(r.a)(s.d,a.n,o.E,u.d,o.D,function(e,t,n,r,i){var o=e.username,a=e.documentName;return!(!i||i.customizedToNotShow&&t||n||i.hideWhenNotInFullscreen&&!r||!o||!a)}),l=function(e){return e.headerControls.visibleDropdown===i.a}},,function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r=n(51),i=function(){return{status:r.d.NOTLOADED,isNotAvailable:!1,isPaid:!1,publicationPriceAmount:0,publicationPriceCurrency:"USD",readPurchasedPath:null}};function o(e,t,n){var o=i();return Object.assign({},o,{status:r.d.LOADED,isPaid:e,publicationPriceAmount:t,publicationPriceCurrency:n})}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i(),t=arguments[1];switch(t.type){case r.b:return Object.assign({},e,{status:r.d.LOADING});case r.c:return Object.assign({},e,{status:r.d.ERROR});case r.a:return{status:r.d.LOADED,isNotAvailable:!!t.isNotAvailable,isPaid:!!t.currentUserPurchased,publicationPriceAmount:t.priceAmount,publicationPriceCurrency:t.priceCurrency,readPurchasedPath:t.readPurchasedPath};default:return e}}},,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n(32);function i(e,t){var n=t.length;if(e>=n-1)return-1;if(!Object(r.c)(t[e]))return e+1;for(var i=e+1;i<n;i++)if(!Object(r.c)(t[i]))return i;return-1}function o(e,t){if(e<1)return-1;if(!Object(r.c)(t[e]))return e-1;for(var n=e-1;n>=0;n--)if(!Object(r.c)(t[n]))return n;return-1}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r='\n    <svg width="43" height="36" viewBox="0 0 43 36" xmlns="http://www.w3.org/2000/svg">\n        <title>Rectangle 425 + Rectangle 425 Copy 2 + Rectangle 429</title>\n        <g fill="#9AA8A9" fill-rule="evenodd" opacity=".3">\n            <path d="M42.934 18.503c.032-.338-.107-.682-.396-.9L30.273 8.36c-.435-.327-1.08-.243-1.418.206-.34.45-.25 1.084.194 1.42l11.303 8.517L29.05 27.02c-.446.336-.535.97-.195 1.42.338.45.983.533 1.418.205l12.265-9.242c.29-.218.428-.562.396-.9zM.466 18.503c-.032-.338.107-.682.397-.9L13.127 8.36c.435-.327 1.08-.243 1.418.206.34.45.25 1.084-.194 1.42L3.05 18.502 14.35 27.02c.446.336.536.97.195 1.42-.338.45-.983.533-1.418.205L.863 19.403c-.29-.218-.43-.562-.397-.9z"/><rect transform="rotate(14 22.02 17.898)" x="21.039" y="-.102" width="1.964" height="36" rx=".982"/>\n        </g>\n    </svg>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(383),i=n(238),o=n(384),a=n(4),s=n(65),u=n(47),c=n(58),l=function(e){function t(){var n,r,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),r.position={x:0,y:0,width:0,height:0},r.unzoomedWidthInHWPx=0,r.unzoomedHeightInHWPx=0,i=n,babelHelpers.possibleConstructorReturn(r,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){this.updateUnzoomedSizes()},t.prototype.componentDidUpdate=function(e){this.props.transform.isEqualWith(e.transform)||this.updateUnzoomedSizes()},t.prototype.updateUnzoomedSizes=function(){var e=this.transform.transformRect(a.b.RectPool.get(0,0,this.width,this.height));this.unzoomedWidthInHWPx=Math.floor(e.width),this.unzoomedHeightInHWPx=Math.floor(e.height),a.b.RectPool.release(e)},t.prototype.shouldRenderVideoThumb=function(){return this.model.links.some(function(e){return Object(u.b)(e)})},t.prototype.getChildrenToTraverse=function(){return this.props.mayRenderLinks?e.prototype.getChildrenToTraverse.call(this):e.prototype.getChildrenToTraverse.call(this).filter(function(e){return!(e instanceof i.a)})},t.prototype.getChildTree=function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return[a.b.createElement(o.a,{model:this.props.isPaywalled?null:this.model.textInfoPage,results:this.props.isPaywalled?[]:this.model.findResults,selectedResult:this.props.isPaywalled?null:this.model.selectedFindResult,renderManager:this.props.renderManager,pageType:this.pageType})].concat(this.model.links.map(function(t){return a.b.createElement(i.a,{arrivedAtSpreadTick:e.props.arrivedAtSpreadTick,dispatch:e.props.dispatch,featureTracker:e.props.featureTracker,hideLinkToolTip:e.props.hideLinkToolTip,isToggledOn:e.props.isLinksToggledOn,model:t,showLinkToolTip:e.props.showLinkToolTip})}))},t.prototype.getOperations=function(e,t,n){var r=Object(s.c)(e,this.pageType),i=Object(s.d)(r,t,n);if(this.updatePagePosition(r),0===i.width||0===i.height)return{done:!0,ops:[]};var o=[r.width/this.props.model.width,0,0,r.height/this.props.model.height,Math.min(0,r.x),Math.min(0,r.y)];try{var u=this.props.renderManager.generateSurfaces(o,r,i,this.unzoomedWidthInHWPx,this.unzoomedHeightInHWPx,this.pageNumber,this.inAnimation,a.b.lastTick);if(this.shouldRenderVideoThumb()){var c,l=this.props.renderManager.generateVideoThumbSurfaces(this.pageNumber,r,a.b.lastTick);if(0!==u.ops.length)(c=u.ops).push.apply(c,l.ops),u.done=u.done&&l.done}return u}catch(e){var d={matrix:o,cappedWidth:i.width,cappedHeight:i.height,unzoomedWidthInHWPx:this.unzoomedWidthInHWPx,unzoomedHeightInHWPx:this.unzoomedHeightInHWPx,pageNumber:this.pageNumber,inAnimation:this.inAnimation};throw e.sentry_extra=babelHelpers.extends({},e.sentry_extra,{renderOps:d}),e}},t.prototype.draw=function(e,t){var n=Object(s.c)(t,this.pageType),i=this.getOperations(t,e.canvas.width,e.canvas.height),o=i.ops,u=i.done;o.forEach(function(t){if(t.type===c.a)return e.fillStyle="black",void e.fillRect(t.dest_px.x+n.x,t.dest_px.y+n.y,t.dest_px.width,t.dest_px.height);if(!(t.src_px.width<=0||t.src_px.height<=0))try{e.drawImage(t.surface,t.src_px.x,t.src_px.y,t.src_px.width,t.src_px.height,t.dest_px.x+n.x,t.dest_px.y+n.y,t.dest_px.width,t.dest_px.height)}catch(e){var r={src_px:t.src_px,dest_px:t.dest_px,width:t.surface.width,height:t.surface.height};throw e.sentry_extra=babelHelpers.extends({},e.sentry_extra,{renderImage:r}),e}}),u||0!==o.length||(e.fillStyle="#f2f2f2",e.fillRect(t.x,t.y,t.width,t.height),r.a.draw(e,t.x+t.width/2,t.y+t.height/2,a.b.lastTick)),u||this.requestRedraw()},t.prototype.updatePagePosition=function(e){this.position.x=e.x,this.position.y=e.y,this.position.width=e.width,this.position.height=e.height},babelHelpers.createClass(t,[{key:"displayName",get:function(){return"Page"}},{key:"width",get:function(){return this.props.model.width}},{key:"height",get:function(){return this.props.model.height}},{key:"model",get:function(){return this.props.model}},{key:"pageType",get:function(){return this.props.pageType}},{key:"pageNumber",get:function(){return this.props.model.pageNumber}},{key:"transform",get:function(){return this.props.transform}}]),t}(a.b)},function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(4),i=n(50),o=n(144),a=n(183),s=n(184),u=n(7),c=n(46),l=n(22),d=n(47),p=100,h=100,f=800,m=function(e){function t(){var n,r,i;babelHelpers.classCallCheck(this,t);for(var a=arguments.length,s=Array(a),u=0;u<a;u++)s[u]=arguments[u];return n=r=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(s))),r._isHovered=!1,r._hoverAnimation=new o.a(Number.MAX_VALUE,p),r._initialFlashAnimation=new o.a(Number.MAX_VALUE,f),r._toggleAnimation=new o.a(Number.MAX_VALUE,h),r._initialFlashTimeoutId=null,i=n,babelHelpers.possibleConstructorReturn(r,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidUpdate=function(e){var t=this;this.props.arrivedAtSpreadTick&&!e.arrivedAtSpreadTick?this._initialFlashTimeoutId=window.setTimeout(function(){t._initialFlashTimeoutId=null,t._initialFlashAnimation.reset(r.b.lastTick),t.requestRedraw()},1e3):!this.props.arrivedAtSpreadTick&&e.arrivedAtSpreadTick&&(window.clearTimeout(this._initialFlashTimeoutId),this._initialFlashTimeoutId=null),this.props.isToggledOn&&!e.isToggledOn&&(this._toggleAnimation.options.reverse=!1,this._toggleAnimation.reset(r.b.lastTick)),!this.props.isToggledOn&&e.isToggledOn&&(this._toggleAnimation.options.reverse=!0,this._toggleAnimation.reset(r.b.lastTick)),this.props.isToggledOn&&!e.isToggledOn&&this.props.arrivedAtSpreadTick&&this._trackOpportunity()},t.prototype.onMouseEnter=function(e){this._hoverAnimation.reset(r.b.lastTick),this._hoverAnimation.options.reverse=!1,this._isHovered=!0,this.props.showLinkToolTip(this),this.requestRedraw(),this.props.isToggledOn||this._trackOpportunity()},t.prototype.onMouseLeave=function(e){var t=r.b.lastTick,n=this._hoverAnimation.value(t);this._hoverAnimation.reset(t-(1-n)*p),this._hoverAnimation.options.reverse=!0,this._isHovered=!1,this.props.hideLinkToolTip(),this.requestRedraw()},t.prototype.onSingleTap=function(e,t){return this._trackUsage(),this.props.dispatch(Object(c.d)(this.model)),!0},t.prototype.isAnimating=function(){var e=r.b.lastTick;return this._initialFlashAnimation.isRunning(e)||this._toggleAnimation.isRunning(e)||this._hoverAnimation.isRunning(e)},t.prototype.hoverOpacity=function(){var e=r.b.lastTick;return this._hoverAnimation.isRunning(e)?this._hoverAnimation.value(e):this._isHovered?1:0},t.prototype.initialFlashOpacity=function(){if(this.parent&&this.parent.parent.getZoom()>1)return 0;var e=r.b.lastTick;if(this._initialFlashAnimation.isRunning(e)){var t=this._initialFlashAnimation.value(e);return t<.2?t/.2:t<.5?1:1-2*(t-.5)}return 0},t.prototype.linkToggleOpacity=function(){var e=r.b.lastTick;return this._toggleAnimation.isRunning(e)?this._toggleAnimation.value(e):this.props.isToggledOn?1:0},t.prototype.calculateOpacityForDrawing=function(){return this.shouldRenderVideoThumb()?0:Math.max(this.initialFlashOpacity(),this.linkToggleOpacity(),this.hoverOpacity())},t.prototype.shouldRenderVideoThumb=function(){return Object(d.b)(this.model)},t.prototype.getCustomCursor=function(){return!!this._isHovered&&"pointer"},t.prototype._trackOpportunity=function(){this.props.featureTracker.opportunity(u.a.PUBLICATION_LINK),Object(d.d)(this.model)&&this.props.featureTracker.opportunity(u.a.PUBLICATION_VIDEO_LINK)},t.prototype._trackUsage=function(){this.props.featureTracker.usage(u.a.PUBLICATION_LINK),Object(d.d)(this.model)&&this.props.featureTracker.usage(u.a.PUBLICATION_VIDEO_LINK)},t.prototype.draw=function(e,t){e.save(),e.beginPath();var n=this.calculateOpacityForDrawing();e.rect(t.x+.5,t.y+.5,t.width-1,t.height-1),e.strokeStyle="rgba(118, 165, 204, "+n+")",e.fillStyle="rgba(118, 165, 204, "+.5*n+")",e.fill(),e.stroke();var r=20*Object(l.a)();t.width>50&&t.height>50&&(Object(d.c)(this.model)&&(e.globalAlpha=n,e.fillStyle="rgba(0, 0, 0, 0.7)",a.a.draw(e,t.x+t.width/2,t.y+t.height/2,r)),Object(d.d)(this.model)&&(e.globalAlpha=n,e.fillStyle="rgba(0, 0, 0, 0.7)",s.a.draw(e,t.x+t.width/2,t.y+t.height/2,r))),e.restore()},t.prototype.appendWebglOps=function(e,t,n){var i=this.calculateOpacityForDrawing();i>0&&e.push({type:r.g,args:[this.model,i,Object.assign({},t)]})},t.prototype.afterDraw=function(e){this.isAnimating()&&this.requestRedraw()},babelHelpers.createClass(t,[{key:"displayName",get:function(){return"Link"}},{key:"model",get:function(){return this.props.model}},{key:"width",get:function(){return this.model.width}},{key:"height",get:function(){return this.model.height}},{key:"transform",get:function(){return this._transform||(this._transform=new i.a,this._transform.mTranslate(this.model.x,this.model.y)),this._transform}},{key:"isVisible",get:function(){return!!this.props.arrivedAtSpreadTick&&(!!this.shouldRenderVideoThumb()||(!!this.props.isToggledOn||(!!this._isHovered||!!this.isAnimating())))}}]),t}(r.b)},,function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return u});var r=n(97),i=n(2),o={_pool:[],get:function(){return this._pool.length?this._pool.pop():document.createElement("canvas")},release:function(e){this._pool.push(e)}},a=/Chrom(e|ium)/.test(navigator.userAgent),s=function(){function e(t,n){babelHelpers.classCallCheck(this,e),this.hintMaxWidth=t,this.hintMaxHeight=n}return e.prototype._initState=function(e,t,n,r){var i=e?e.ctx:null;if(!i||i.canvas.width!==t||i.canvas.height!==n){var a=i?i.canvas:o.get();a.width=t,a.height=n,i=a.getContext("2d",{alpha:!r})}return{ctx:i}},e.prototype.draw=regeneratorRuntime.mark(function e(t,n,i,o,s,u){var c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=this._initState(t,o,s,u),e.delegateYield(Object(r.e)(c.ctx,i,n,a),"t0",2);case 2:return e.abrupt("return",c);case 3:case"end":return e.stop()}},e,this)}),e.prototype.drawImage=function(e,t,n,r){var i=this._initState(e,n,r,!0);return i.ctx.drawImage(t,0,0,n,r),i},e.prototype.release=function(e){var t=e.ctx.canvas,n=function(){t.width=0,t.height=0,o.release(t)};a?n():Object(i.r)().rIC(n)},e.prototype.getSurface=function(e){return e.ctx.canvas},e}(),u=function(){function e(t){babelHelpers.classCallCheck(this,e),this.gl=t,this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE)}return e.prototype.draw=function(e,t,n,r){var i=this.gl,o=t.width,a=t.height;if(o>this.maxTextureSize||a>this.maxTextureSize)throw new Error("Requested creation of too large texture of size "+o+"x"+a+". maxTextureSize: "+this.maxTextureSize);var s=e?e.texture:i.createTexture();return i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!0),i.bindTexture(i.TEXTURE_2D,s),e&&e.width===o&&e.height===a||i.texImage2D(i.TEXTURE_2D,0,i.RGBA,o,a,0,i.RGBA,i.UNSIGNED_BYTE,null),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.bindTexture(i.TEXTURE_2D,null),{texture:s,width:o,height:a,imgWidth:n,imgHeight:r}},e.prototype.release=function(e){var t=this.gl,n=e.texture;Object(i.r)().rIC(function(){t.deleteTexture(n)})},e.prototype.getSurface=function(e){return e},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(396),i=n(70);var o={x:0,y:0,z:0},a={x:0,y:0,z:0};function s(e,t,n,r){o.x=e.x,o.y=e.y,o.z=e.z,a.x=e.x,a.y=e.y,a.z=e.z;var i=o,s=a;r>0&&(i.y=1-i.y),function(e,t,n){var r=Math.sin(t),i=Math.cos(t),o=e.y-n,a=Math.sqrt(e.x*e.x+o*o),s=Math.asin(e.x/a)/r,u=a*r,c=Math.sin(s),l=Math.cos(s);e.x=u*c,e.y=a+n-u*(1-l)*r,e.z=u*(1-l)*i}(i,t,n),r>0&&(i.y=1-i.y),function(e,t,n){var r=Math.sqrt(1+(1-n)*(1-n))*Math.sin(t),i=e.x/r;e.x=r*Math.sin(i),e.z=r-r*Math.cos(i)}(s,t,n);var u=Math.abs(r);e.x=u*i.x+(1-u)*s.x,e.y=u*i.y+(1-u)*s.y,e.z=u*i.z+(1-u)*s.z}function u(e){return i.a(0,1,e)*Math.PI}function c(e){return i.c(.5,.082,e)*Math.PI}function l(e){var t=.98,n=-8.1;return(e=Math.max(Math.min(e,1),0))<t?-6.8*Math.pow(e/t,20)-1.3:-391.9*Math.pow((e-t)/(1-t),6)+n}var d=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(babelHelpers.classCallCheck(this,e),this._point={x:0,y:0,z:0},t<2)throw new Error("size must be at least 2");this.minDepth=n;for(var r=[],i=[],o=[],a=[],s=[],u=[],c=[],l=[],d=0;d<t;d++)for(var p=d/(t-1),h=0;h<t;h++){var f=h/(t-1),m=this._tweakDepth(0);r.push(f,p,m),i.push(0,0,1),a.push(this._getPerspectiveCorrection(m)),s.push(f,p),u.push(0,0,-1),l.push(1-f,p)}for(var g=0;g<t-1;g++)for(var v=(g+0)*t,_=(g+1)*t,b=0;b<t-1;b++){var y=v+b,E=_+b;o.push(E,y,E+1),o.push(y,y+1,E+1),c.push(E+1,y+1,E),c.push(y+1,y,E)}this.size=t,this.indices=new Uint16Array(o),this.vertices=new Float32Array(r),this.normals=new Float32Array(i),this.perspectiveCorrections=new Float32Array(a),this.textureCoords=new Float32Array(s),this.backFacingIndices=new Uint16Array(c),this.backFacingNormals=new Float32Array(u),this.backFacingTextureCoords=new Float32Array(l)}return e.prototype._tweakDepth=function(e){return.8*Math.max(e,this.minDepth)},e.prototype._getPerspectiveCorrection=function(e){return 1+e/.8*-.2},e.prototype._bendPoint=function(e,t,n,r,i,o){s(e,t,n,i),function(e,t){var n=Math.sin(t),r=Math.cos(t),i=e.x*r-e.z*n,o=e.x*n+e.z*r;e.x=i,e.z=o}(e,r),e.x*=o?-1:1,e.z=this._tweakDepth(e.z)},e.prototype.bend=function(e,t){for(var n=1/e<0,i=Math.abs(e),o=u(i),a=c(i),s=l(i),d=this._point,p=0;p<this.size;p++)for(var h=0;h<this.size;h++){d.x=h/(this.size-1),d.y=p/(this.size-1),d.z=0,this._bendPoint(d,a,s,o,t,n);var f=p*this.size*3+3*h;this.vertices[f+0]=d.x,this.vertices[f+1]=d.y,this.vertices[f+2]=d.z,this.perspectiveCorrections[p*this.size+h]=this._getPerspectiveCorrection(d.z)}Object(r.a)(this.size,this.vertices,this.normals,this.backFacingNormals)},e.prototype.calculateProgress=function(e,t,n,r,i){var o=e<t;if(o){if(n<=e)return-0;if(n>=t)return-1}else{if(n>=e)return 0;if(n<=t)return 1}for(var a=this._point,s=o?-.5:.5,d=0;d<16;d++){var p=Math.abs(s),h=u(p),f=c(p),m=l(p);a.x=1,a.y=(i+1)/2,a.z=0,this._bendPoint(a,f,m,h,i,o);var g=a.x/this._getPerspectiveCorrection(a.z),v=r.x+r.width*g;if(Math.abs(v-n)<1)break;s+=Math.sign(v-n)/Math.pow(2,d+2)}return Math.max(Math.min(s,1),-1)},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r='\n    <svg width="100%" height="100%" viewBox="-4 -4 30 52">\n        <defs>\n        </defs>\n        <g fill="none" class="navigation-arrow__shadow" stroke="#000" stroke-width="4" transform="translate(9 22)">\n            <path d="M2.65002234,43.5538147 C1.78774217,42.6020596 1.78774217,41.0560678 2.65002234,40.1030925 L17.6687127,23.4986273 L2.64671013,6.89660245 C1.78442996,5.94362719 1.78442996,4.39885551 2.64671013,3.44588025 C3.5089903,2.49290499 4.90674535,2.49290499 5.76902553,3.44588025 L22.3532899,21.7732662 C23.21557,22.7250212 23.21557,24.2697929 22.3532899,25.2239884 L5.77233774,43.5538147 C5.34174969,44.0309124 4.77646487,44.2688512 4.21118004,44.2688512 C3.64589522,44.2688512 3.08171447,44.0309124 2.65002234,43.5538147 Z" transform="translate(-10.5, -23.5)"/>\n        </g>\n        <g fill="white" class="navigation-arrow__path" transform="translate(9 22)">\n            <path d="M2.65002234,43.5538147 C1.78774217,42.6020596 1.78774217,41.0560678 2.65002234,40.1030925 L17.6687127,23.4986273 L2.64671013,6.89660245 C1.78442996,5.94362719 1.78442996,4.39885551 2.64671013,3.44588025 C3.5089903,2.49290499 4.90674535,2.49290499 5.76902553,3.44588025 L22.3532899,21.7732662 C23.21557,22.7250212 23.21557,24.2697929 22.3532899,25.2239884 L5.77233774,43.5538147 C5.34174969,44.0309124 4.77646487,44.2688512 4.21118004,44.2688512 C3.64589522,44.2688512 3.08171447,44.0309124 2.65002234,43.5538147 Z" transform="translate(-10.5, -23.5)"/>\n        </g>\n    </svg>\n'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(34),i=n(5),o=n(12),a=n(176),s=n(8),u=n(44),c={selectMetadata:o.d,selectIsPaywallPreview:r.a,selectCurrentSpreadHasPaywalledPage:i.l,selectNextSpreadIndex:i.x,selectCanUseCredentials:i.h,selectHostOrigins:a.b,goToNextPage:s.e,DOCUMENTLOADED:o.a,READER_POSITION_CHANGED:u.a}},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r=n(83),i=n.n(r);function o(e,t,n,r){if(r)return"";var o="embed_context="+e;if(t){var a=new i.a(t).host();o+="&embed_domain="+encodeURIComponent(a)}return n&&(o+="&embed_id="+encodeURIComponent(n)),o}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"?";return e&&t?n+"embed_cta="+encodeURIComponent(e)+"&"+t:""}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=/^(?:Mediapartners-Google|Yahoo|MSNPTC|Baiduspider|Yandex|proximic|Ezooms)|bot\/|Yahoo! Slurp|Ask Jeeves\/Teoma|spider|crawl|ia_archiver|heritrix\//i;function i(e){return r.test(e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r="object"===("undefined"==typeof performance?"undefined":babelHelpers.typeof(performance))&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function i(){if("function"==typeof window.requestIdleCallback&&"function"==typeof window.cancelIdleCallback)return{rIC:function(){var e;return(e=window).requestIdleCallback.apply(e,arguments)},cIC:function(){var e;return(e=window).cancelIdleCallback.apply(e,arguments)}};var e=null,t=!1,n=-1,i=!1,o=0,a=33,s=33,u={didTimeout:!1,timeRemaining:function(){var e=o-r();return e>0?e:0}},c="__rIC$"+Math.random().toString(36).slice(2),l=function(e){i=!1;var n=e-o+s;n<s&&a<s?(n<8&&(n=8),s=n<a?a:n):a=n,o=e+s,t||(t=!0,window.postMessage(c,"*"))};window.addEventListener("message",function a(s){if(s.source===window&&s.data===c){t=!1;var d=r();if(o-d<=0){if(!(-1!==n&&n<=d))return void(i||(i=!0,requestAnimationFrame(l)));u.didTimeout=!0}else u.didTimeout=!1;n=-1;var p=e;e=null,window.removeEventListener("message",a,!1),null!==p&&p(u)}},!1);return{rIC:function(t,o){return e=t,o&&"number"==typeof o.timeout&&(n=r()+o.timeout),i||(i=!0,requestAnimationFrame(l)),0},cIC:function(r){e=null,t=!1,n=-1}}}},function(e,t,n){"use strict";function r(e){return e.replace(/^(https?:\/\/[^/?#]*).*$/,"$1")}function i(e){var t=r(e);return/^https?:\/\/(.*\.)?t?issuu\.com(:\d+)?$/.test(t)}function o(){if(!function(){if(window.top!==window.self)return!0;try{if(window.frameElement)return!0}catch(e){return!0}return!1}())throw new Error("This reader MUST be loaded inside an iframe");var e=window.document.referrer.toString(),t=!e;if(!(i(e)||function(e){var t=r(e);return!!(/^https?:\/\/translate\.googleusercontent\.com$/.test(t)||/^https?:\/\/www\.google(\.com?)?\.[^\.]{2,3}$/.test(t)||/^https?:\/\/goo\.gl$/.test(t)||/^https?:\/\/m\.facebook\.com$/.test(t))}(e)||t))throw new Error("This reader is not loaded inside an iframe, which is hosted on *.issuu.com")}function a(){o(),function(){try{document.domain&&(document.domain=document.domain.split(".").slice(-2).join("."))}catch(e){}}()}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a})},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),window._qevents=window._qevents||[];var r=function(){function e(t){var n=t.quantcastId;babelHelpers.classCallCheck(this,e),this._quantcastId=n}return e.prototype.destroy=function(){},e.prototype.track=function(){window.__qc&&(window.__qc.qpixelsent=[]);try{window._qevents.push({qacct:this._quantcastId})}catch(e){}},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=[{test:function(e){return"/issuu/docs/issuu_digitaltoolkit"===e},prefix:function(e){return e},account:"UA-93458571-5"},{test:function(e){return e.startsWith("/refractionmedia/")},prefix:function(e){return"/issuu.com"+e},account:"UA-98221222-1"},{test:function(e){return e.startsWith("/sister_magazine/")},prefix:function(e){return"/issuu.com"+e},account:"UA-61842196-1"},{test:function(e){return e.startsWith("/[username]/")},prefix:function(e){return"/issuu.com"+e},account:"UA-xxxxxxxx-y"},{test:function(e){return"/[username]/docs/[docname]"===e},prefix:function(e){return e},account:"UA-xxxxxxxx-y"}],i=function(){function e(t){var n=t.gaId;babelHelpers.classCallCheck(this,e),n&&window.ga("create",n,"auto")}return e.prototype.destroy=function(){},e.prototype._validate=function(e){if(!e.startsWith("/"))throw new Error("GA: The path portion of a URL must start with a slash (/) character.")},e.prototype.sendInitialPageview=function(e){this._validate(e),window.ga("send","pageview",e)},e.prototype.sendVirtualPageview=function(e){this._validate(e),window.ga("send","pageview",e)},e.prototype.handleDocumentLoadByPublisherAccount=function(e){r.forEach(function(t){if(t.test(e)){window.ga("create",t.account,"auto","publisherTracker"),window.ga("publisherTracker.send","pageview",""+t.prefix(e))}})},e}()},function(e,t,n){"use strict";n.d(t,"e",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"f",function(){return c});var r=n(37);function i(){return""+r.l+r.i}function o(){return""+r.l+r.g}function a(){return""+r.l+r.a}function s(){return""+r.l+r.c}function u(){return""+r.l+r.b}function c(){return{api:""+r.l+r.a,main:""+r.l+r.g,image:""+r.l+r.e,photo:""+r.l+r.h,reader3:""+r.l+r.k}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r=n(83),i=n.n(r),o={SINGLE_PAGE:"SINGLE_PAGE",DOUBLE_PAGE:"DOUBLE_PAGE"},a=function e(t){var n=this;babelHelpers.classCallCheck(this,e),this.getQueryParamValue=function(e){return n._uri.getQueryParamValue(e)},this.getUsername=function(){return n.getQueryParamValue("u")},this.getDocumentName=function(){return n.getQueryParamValue("d")},this.getInitialPageNumber=function(){var e=parseInt(n.getQueryParamValue("p"),10);if(e)return e;var t=parseInt(n.getQueryParamValue("pageNumber"),10);return t||1},this.getDocumentId=function(){return n.getQueryParamValue("documentId")},this.getBackgroundColor=function(){var e=n.getQueryParamValue("backgroundColor")||null;return e&&((e=decodeURIComponent(e)).startsWith("#")||(e="#"+e)),e},this.getLegacyViewMode=function(){return/^presentation|singlePage$/i.test(n.getQueryParamValue("viewMode"))?o.SINGLE_PAGE:o.DOUBLE_PAGE},this.getAdpageId=function(){return n.getQueryParamValue("adId")},this.getIdentifier=function(){return n.getQueryParamValue("identifier")},this.getEmbedType=function(){return"script"===n.getQueryParamValue("embedType")?"script":"iframe"},this.getHostUrl=function(){return window.document.referrer.toString()},this.getHostReferrer=function(){return n.getQueryParamValue("r")||null},this.getLatestHostUrl=function(){try{return window.parent.document.location.toString()}catch(e){return null}},this.getDelayTracking=function(){return n._uri.query().includes("delayTracking")},this.getStreamOrigin=function(){try{return n.getQueryParamValue("streamOrigin").split(";")}catch(e){return null}},this.getStreamRanking=function(){return parseInt(n.getQueryParamValue("streamRanking"),10)||0},this.getEmbedId=function(){var e=n._uri.anchor(),t=/^([0-9]+)(?:\/|%2F)([0-9]+).*$/;return t.test(e)?e.replace(t,"$1/$2"):null};var r=new i.a(t);if(r.host().endsWith("issuu.com")?this._uri=r:r.host().endsWith("googleusercontent.com")&&r.queryPairs.forEach(function(e){var t=e[1],r=new i.a(t);r.host().endsWith("issuu.com")&&(n._uri=r)}),!this._uri)throw new Error("Unexpected query parameters")}},function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"g",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"f",function(){return h});var r=n(94),i=n.n(r),o=n(37),a=[],s="The document could not be loaded.",u="The Clippings could not be loaded.",c="documentId is not found!",l="XHR could not load JSON";function d(e){i.a.setExtraContext(e)}var p=function(){function e(){babelHelpers.classCallCheck(this,e)}return e.install=function(e){var t=e.sessionId,n=e.extraContext,r=void 0===n?{}:n,p=e.tagsContext,h=void 0===p?{}:p;i.a.config("https://4ff726251e854b6187703bf21547f686@sentry.issuu.com/18",{ignoreErrors:["top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage","Sharaf","onSnapchatPage","cordova","cookiesdirective","window.mraid","Javascript error: ReferenceError: Can't find variable: dataKeys on line 0","Javascript error: ReferenceError: Can't find variable: dataKeys on line 1","Javascript error: ReferenceError: Can't find variable: dataKeys on line 13","Javascript error: Script error. on line 0","Javascript error: Script error on line 0","Modernizr is not defined","$ is not a function","$ is not defined","__gCrWeb",/^resource:\/\//i,/\(--client-only--\)/i,/requestAnimationFrame/,"shopex",s,u,c,l],collectWindowErrors:!0,maxMessageLength:1e3,maxBreadcrumbs:30,autoBreadcrumbs:{xhr:!0,console:!1,dom:!1,location:!1},environment:o.f,release:"1.0.1681",shouldSendCallback:function(e){var t=Date.now();return a.push(t),!(a.length>5)||t-a.shift()>6e4},dataCallback:function(e){if(e.exception&&e.exception.values){var t=e.exception.values[0];t&&"TypeError"===t.type&&t.value.includes("Symbol(Symbol.toStringTag)")&&(e.fingerprint=["TypeError: Symbol(Symbol.toStringTag)"])}return e}}),i.a.setUserContext({id:t}),d({hostUrl:window.document.location.toString(),hostReferrer:window.document.referrer.toString()}),r&&Object.keys(r).length&&d(r),h&&Object.keys(h).length&&i.a.setTagsContext(h),i.a.install()},e}();function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.extra=Object.assign({},t.extra,e.sentry_extra),i.a.captureException(e,t)}},,function(e,t,n){"use strict";function r(e){return Math.floor(e*Math.random())}function i(){for(var e="abcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<12;n++)t+=e.charAt(r(e.length));return t}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=!1,i=function(e,t){!function(){if(!r){var e=window.document.createElement("script");e.async=!0,e.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",window.document.head.appendChild(e),r=!0}}();var n='<ins class="adsbygoogle" style="display:block;" data-ad-host="ca-pub-3342678132655986" data-ad-client="ca-'+t+'" data-ad-format="auto"></ins>';e.innerHTML=n,(window.adsbygoogle=window.adsbygoogle||[]).push({})}},,,function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(345),i=n(55);function o(e,t,n){var o=void 0;function a(){o=function(){return Object(r.a)(e.api,t.originalFileId,n).catch(function(e){if(e.name===i.d&&202===e.code)return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(t){window.setTimeout(function(){t()},e)})}(2e3).then(function(){return o()});throw e})}}return a(),{reset:function(){a()},whenDocumentBaseFetched:function(){return o().then(function(e){var n=e.pageCount,r=e.pages,i=e.blurredPages;return{pageCount:n,pages:(t.currentUserPurchased?r:r.map(function(e,n){var r=n+1;return t.previewPageNumbers.includes(r)?e:i[n]})).map(function(e,t){return{pageNumber:t+1,height:e.height,width:e.width,imageUri:e.imageUri,layersInfo:e.layersInfo,isPagePaywalled:e.isPagePaywalled}}),isPaywalled:!t.currentUserPurchased}})},whenDocumentExtraFetched:function(){return Promise.resolve({publicationId:"",revisionId:"",username:t.username,documentName:"",access:"public",description:"",downloadable:!1,title:t.title,userDisplayName:t.userDisplayName,contentRating:{}})},whenDocumentTextFetched:function(){return new Promise(function(){})},whenDocumentLinksFetched:function(){return new Promise(function(){})},whenLicensesFetched:function(){return Promise.reject("Disable license check in paywallPreview mode")},whenAdsenseAccountFetched:function(){return Promise.reject("Do not fetch AdSense account in paywall preview mode")}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(346),i=n(55);function o(e,t){var n=void 0;function o(){n=function(){return Object(r.a)(e.api,t).catch(function(e){if(e.name===i.d&&202===e.code)return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(t){window.setTimeout(function(){t()},e)})}(2e3).then(function(){return n()});throw e})}}return o(),{reset:function(){o()},whenDocumentBaseFetched:function(){return n().then(function(e){return{pageCount:e.pageCount,pages:e.pages.map(function(e,t){return{pageNumber:t+1,height:e.height,width:e.width,imageUri:e.imageUri,layersInfo:e.layersInfo,isPagePaywalled:e.isPagePaywalled}}),isPaywalled:!1}})},whenDocumentExtraFetched:function(){return Promise.resolve({publicationId:"",revisionId:"",username:"",documentName:"",access:"public",description:"",downloadable:!1,title:"",userDisplayName:"",contentRating:{}})},whenDocumentTextFetched:function(){return new Promise(function(){})},whenDocumentLinksFetched:function(){return new Promise(function(){})},whenLicensesFetched:function(){return Promise.reject("Disable license check in Publisher Preview mode")},whenAdsenseAccountFetched:function(){return Promise.reject("Do not fetch AdSense account in publisher preview mode")}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(347);function i(e,t,n,i){var o=n.replace("/docs/","/").split("/").filter(function(e){return!!e}),a=o[0],s=void 0===a?"":a,u=o[1],c=void 0===u?"":u,l=Object(r.a)(e.api,i);return{reset:function(){},whenDocumentBaseFetched:function(){return Promise.resolve({pageCount:t.pages.length,pages:t.pages.map(function(e,t){return{height:e.height,width:e.width,imageUri:e.imageUri,layersInfo:e.layersInfo,pageNumber:t+1,isPagePaywalled:!1}}),isPaywalled:!1})},whenDocumentExtraFetched:function(){return Promise.resolve({publicationId:t.publicationId,revisionId:t.revisionId,username:s,documentName:c,access:"public",description:t.description,downloadable:t.downloadable,title:t.title,userDisplayName:t.userDisplayName,contentRating:{},protectedContentUrlId:i})},whenDocumentTextFetched:function(){return Promise.resolve({textInfoPath:t.textInfo.uri,textInfoSize:t.textInfo.size,textInfoVersion:t.textInfo.version})},whenDocumentLinksFetched:function(){return l},whenLicensesFetched:function(){return Promise.reject("Disable license check in purchased mode")},whenAdsenseAccountFetched:function(){return Promise.reject("Do not fetch AdSense account in purchased mode")}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=n.n(r),o=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t.prototype.render=function(){var e=this.props,t=e.username,n=e.documentName,r=e.mainOrigin,o=e.initialPageNumber,a=e.embedId,s=r+"/"+t+"/docs/"+n;return o>1&&(s=s+"/"+o),a?s=s+"?e="+encodeURIComponent(a):s+="?e=0",i.a.createElement("div",{className:"bot-reader"},i.a.createElement("a",{href:s,target:"_blank"},"Read on issuu"))},t}(r.Component);o.displayName="BotReader"},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),i=n.n(r),o=n(349),a=n(2),s="reader3-features.LINK_BELOW_EMBED_OPEN",u="reader3-features.LINK_BELOW_EMBED_YCPT",c=function(e){function t(){var n,r,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];return n=r=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),r.onPoweredByIssuu=function(e){r.trackUsage(s)},r.onPublishForFree=function(e){r.trackUsage(u)},r.trackOpportunity=function(e){r.props.metrics&&r.props.metrics.monitor(e,{opportunity:1})},r.trackUsage=function(e){r.props.metrics&&(r.props.metrics.monitor(e,{usageRepeat:1,usageFirst:r._firstUsage[e]?0:1}),r._firstUsage[e]=!0)},r._firstUsage={},i=n,babelHelpers.possibleConstructorReturn(r,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){this.trackOpportunity(s),this.trackOpportunity(u)},t.prototype.renderEmoji=function(){var e=""+this.props.creatorHubOrigin+Object(a.x)("created_by",this.props.embedTrackingQuery);return i.a.createElement("div",{className:"issuu-branding-emoji"},i.a.createElement("a",{href:e,onClick:this.onPoweredByIssuu,className:"issuu-branding-emoji__link",target:"_blank"},i.a.createElement("span",{className:"issuu-branding-emoji__text"},"Created with"),i.a.createElement("span",{className:"issuu-branding-emoji__emoji"},"🧡"),i.a.createElement("span",{className:"issuu-branding-emoji__text"},"on Issuu")))},t.prototype.renderOriginal=function(){var e=""+this.props.creatorHubOrigin+Object(a.x)("powered_by",this.props.embedTrackingQuery),t=this.props.mainOrigin+"/pricing"+Object(a.x)("publish_for_free",this.props.embedTrackingQuery);return i.a.createElement("div",{className:"issuu-branding"},i.a.createElement("div",{className:"powered-by"},i.a.createElement("span",{className:"powered-by-text"},"Powered by"),i.a.createElement("span",{className:"powered-by-link"},i.a.createElement("a",{href:e,onClick:this.onPoweredByIssuu,target:"_blank",dangerouslySetInnerHTML:{__html:o.a}}))),i.a.createElement("span",{className:"publish-for-free"},i.a.createElement("a",{className:"publish-for-free-link",href:t,onClick:this.onPublishForFree,target:"_blank"},"Publish for Free")))},t.prototype.render=function(){return this.props.useEmojiBranding?this.renderEmoji():this.renderOriginal()},t}(r.Component);c.displayName="IssuuBranding"},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),i=n.n(r),o=n(99),a=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t.prototype.render=function(){return i.a.createElement(o.b,{onClose:this.props.onClose,onSubmit:this.props.onSubmit,header:"We were unable to open this video.",text:"This video is hosted on "+this.props.service+". You can try and view it there",buttonText:"Open in "+this.props.service,boxType:o.a.ERROR})},t}(r.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),i=n.n(r),o=n(99),a=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t.prototype.render=function(){return i.a.createElement(o.b,{onClose:this.props.onClose,onSubmit:this.props.onSubmit,header:"Video marked as explicit.",text:"You can still view this video on "+this.props.service+".",buttonText:"Open in "+this.props.service,boxType:o.a.WARNING})},t}(r.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),i=n.n(r),o=n(14),a=n.n(o),s=n(39),u=n.n(s),c=n(35),l=n(75);function d(e,t){return Math.min(Math.max(e/t*100,0),100)}var p=function(e){function t(){var n,r,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),r._hover=!1,i=n,babelHelpers.possibleConstructorReturn(r,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){var e=this;this.container=a.a.findDOMNode(this.refs.container),this.inputHandler=new l.a(this.container,{onGestureStart:function(t,n){e.props.locked||(e._containerWidth=e.container.clientWidth,e.props.onChangeStart(),e.props.onChange(d(t[0].x,e._containerWidth)))},onGestureChange:function(t,n,r,i){e.props.locked||(e.inputHandler.requestToIntercept(),e.props.onChange(d(t[0].x,e._containerWidth)))},onGestureEnd:function(t){e.props.locked||e.props.onChangeEnd(e.props.value)},onMouseEnter:function(t){e._hover=!0,e.container.classList.toggle("slider--hover",e._hover)},onMouseLeave:function(t){e._hover=!1,e.container.classList.toggle("slider--hover",e._hover)}})},t.prototype.shouldComponentUpdate=function(e){return!u()(this.props,e)},t.prototype.render=function(){var e=["slider"];this._hover&&e.push("slider--hover"),this.props.type===t.SLIDER_TYPE_ALTERNATE&&e.push("slider--alternate"),this.props.locked&&e.push("slider--locked");var n=!1;return i.a.createElement("div",{className:e.join(" "),ref:"container"},i.a.createElement("div",{className:"slider__track-container-container"},i.a.createElement("div",{className:"slider__track-container"},this.props.segments.map(function(e,t){var r=["slider__track"];e.available||r.push("slider__track--unavailable"),e.done&&r.push("slider__track--done");var o={flex:e.proportion},a=!n&&!e.done;return a&&(n=!0),i.a.createElement("div",{key:t,className:r.join(" "),style:o},a&&i.a.createElement("div",{className:"slider__thumb"}))}),!n&&i.a.createElement("div",{className:"slider__thumb slider__thumb--end"}),this.props.markers&&!!this.props.markers.length&&i.a.createElement(c.b.SliderMarkers,{markers:this.props.markers,value:this.props.value}))),i.a.createElement("span",{style:{position:"absolute",visibility:"hidden"}},this.props.value))},t}(r.Component);p.displayName="Slider",p.SLIDER_TYPE_DEFAULT="SLIDER_TYPE_DEFAULT",p.SLIDER_TYPE_ALTERNATE="SLIDER_TYPE_ALTERNATE"},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(8),i=n(44),o=n(13),a=n(63),s=n(181),u=n(45);function c(e){return Object.assign({},e,{visibleDropdown:null,readMoreDropdownVisible:!1})}function l(e,t){switch(t.type){case s.a:return function(e,t){return Object.assign(c(e),{visibleDropdown:t!==e.visibleDropdown?t:null})}(e,t.dropdown);case u.d:return function(e){return Object.assign(c(e),{readMoreDropdownVisible:!0})}(e);case u.a:case r.c:case r.b:case o.a:case o.b:return c(e);case i.a:return t.isDragging?c(e):e;case r.a:return t.isPinching?c(e):e;case a.c:case a.b:case a.d:case a.a:return c(e);default:return e}}function d(){var e={visibleDropdown:null,readMoreDropdownVisible:!1};return function(){return l(arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,arguments[1])}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(49);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:r.c},t=arguments[1];switch(t.type){case r.c:case r.b:case r.d:case r.a:return{status:t.type};default:return e}}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(373),i=n(31),o=n(62),a=n(49),s=Object(i.b)(function(e){return{downloadButtonStatus:e.download.status}},function(e){return{onDownloadButtonClick:Object(o.b)(a.e,e)}},void 0,{pure:!0})(r.a)},function(e,t,n){"use strict"},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(31),i=n(375),o=n(5),a=n(34),s=n(100),u=n(12),c=n(63),l=n(131),d=Object(r.b)(function(e){return{coverImageUrl:Object(u.d)(e).coverUri,documentTitle:Object(u.d)(e).title,documentUrl:o.n(e),featureTracker:e.featureTracker,navigationLinkFeature:o.w(e),readMorePlugin:e.readMorePlugin,shouldRenderDownloadButton:Object(c.g)(e),shouldRenderReadMoreButton:s.c(e),shouldRenderShareButton:l.d(e),readMoreButtonCentered:!Object(a.a)(e)&&window.innerWidth<window.innerHeight,readMoreButtonUnreadCount:s.a(e),isVisible:o.a(e)&&(s.c(e)||l.d(e)||Object(c.g)(e)||!!o.w(e)),readMoreDropdownVisible:o.e(e),shareDropdownVisible:l.c(e)}},void 0,void 0,{pure:!0})(i.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),i=n.n(r),o=n(10),a=n(7),s=n(140),u=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t.prototype.onClick=function(){this.props.toggleShareDropdown(s.a),this.props.featureTracker.usage(a.a.BUTTON_SHARE),this.props.dispatch(Object(o.a)())},t.prototype.render=function(){var e=this;return i.a.createElement("div",{className:"header-controls__share-toggle",onClick:function(){return e.onClick()}},"Share")},t}(r.Component);u.displayName="ShareButton"},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(0),i=n.n(r),o=n(153),a=n(140),s=n(10),u=n(7),c=n(376),l=n(377),d=n(378),p=n(379),h=function(e){function t(){var n,r,i;babelHelpers.classCallCheck(this,t);for(var c=arguments.length,l=Array(c),d=0;d<c;d++)l[d]=arguments[d];return n=r=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(l))),r.onShareOnEmail=function(){r.props.featureTracker.usage(u.a.SHARE_EMAIL),r.props.dispatch(o.a(r.props.documentTitle,r.props.documentUrl)),r.props.dispatch(Object(s.a)())},r.onShareOnFacebook=function(){r.props.featureTracker.usage(u.a.SHARE_FACEBOOK),r.props.dispatch(o.b(r.props.documentUrl)),r.props.dispatch(Object(s.a)())},r.onShareOnTwitter=function(){r.props.featureTracker.usage(u.a.SHARE_TWITTER),r.props.dispatch(o.d(r.props.documentTitle,r.props.documentUrl)),r.props.dispatch(Object(s.a)())},r.onShareOnPinterest=function(){r.props.featureTracker.usage(u.a.SHARE_PINTEREST),r.props.dispatch(o.c(r.props.documentUrl,r.props.coverImageUrl,r.props.documentTitle)),r.props.dispatch(Object(s.a)())},r.onDimmerClick=function(){r.props.toggleShareDropdown(a.a)},i=n,babelHelpers.possibleConstructorReturn(r,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidUpdate=function(){var e=this.refs.shareDropdownInput;this.props.visible&&(e.setSelectionRange(0,e.value.length),this.props.featureTracker.opportunity(u.a.SHARE_EMAIL),this.props.featureTracker.opportunity(u.a.SHARE_FACEBOOK),this.props.featureTracker.opportunity(u.a.SHARE_TWITTER),this.props.featureTracker.opportunity(u.a.SHARE_PINTEREST))},t.prototype.render=function(){var e=this.props.documentUrl;return i.a.createElement("div",{className:"share-dropdown"},i.a.createElement("div",{className:"share-dropdown__dimmer",onClick:this.onDimmerClick}),i.a.createElement("div",{className:"share-dropdown__inner"},i.a.createElement("div",{className:"share-dropdown__social-buttons"},i.a.createElement("a",{className:"share-dropdown__social-button share-dropdown__social-button--facebook",onClick:this.onShareOnFacebook,dangerouslySetInnerHTML:{__html:c.a},href:"javascript:void(0)","data-tooltip":"Facebook"}),i.a.createElement("a",{className:"share-dropdown__social-button share-dropdown__social-button--twitter",onClick:this.onShareOnTwitter,dangerouslySetInnerHTML:{__html:l.a},href:"javascript:void(0)","data-tooltip":"Twitter"}),i.a.createElement("a",{className:"share-dropdown__social-button share-dropdown__social-button--pinterest",onClick:this.onShareOnPinterest,dangerouslySetInnerHTML:{__html:d.a},href:"javascript:void(0)","data-tooltip":"Pinterest"}),i.a.createElement("a",{className:"share-dropdown__social-button share-dropdown__social-button--mailto",onClick:this.onShareOnEmail,dangerouslySetInnerHTML:{__html:p.a},href:"javascript:void(0)","data-tooltip":"E-mail"})),i.a.createElement("div",{className:"share-dropdown__direct-link"},i.a.createElement("input",{className:"share-dropdown__input",readOnly:!0,type:"text",value:e,ref:"shareDropdownInput"}))))},t}(r.Component);h.displayName="ShareDropdown"},,,,function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(110);function i(){var e={youtubeApiReady:!1,vimeoApiReady:!0,activeVideoLink:null};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments[1];switch(n.type){case r.b:return Object.assign({},t,{youtubeApiReady:!0});case r.a:return Object.assign({},t,{activeVideoLink:n.videoLink});default:return t}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),i=n.n(r),o=n(31),a=n(127),s=n.n(a),u=n(185),c=n(390),l=n(110),d=n(126),p=n(5),h=function(e){function t(){var n,r,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),r._youtubeCheck=!1,r._interactionCallback=function(e,t,n){if(n||t)r.props.dispatch(Object(l.d)(e.link));else{var i=r.props.activeVideoLink,o=e.link.id;i&&i.id===o&&!t&&r.props.dispatch(Object(l.d)(null))}},i=n,babelHelpers.possibleConstructorReturn(r,i)}return babelHelpers.inherits(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.props.activeVideoLink;if(t){var n=t.page.pageNumber;e.pageViewportBBoxes.hasOwnProperty(n)||this.props.dispatch(Object(l.d)(null))}},t.prototype.shouldComponentUpdate=function(e){return!s()(this.props,e)},t.prototype.componentDidUpdate=function(){var e=this,t=this.props,n=t.inlineYoutubeVideos,r=t.youtubeApiReady;this._youtubeCheck||0===n.length||r||(this._youtubeCheck=!0,Object(u.b)().then(function(){return e.props.dispatch(Object(l.c)())}))},t.prototype._getVideoPlayers=function(e,t){var n=this,r=Math.min.apply(Math,t)-2,o=Math.max.apply(Math,t)+2,a=this.props.activeVideoLink,s=!1;return e.map(function(e){var u=e.link,l=u.id,d=u.inlineData,p=u.page.pageNumber,h=n.props.pageViewportBBoxes[p],f=!!d&&d.isExplicit,m=!!a&&a.id!==l,g=!s&&t.includes(p)&&!m&&!!d&&d.autoplay;return g&&(s=!0),i.a.createElement(c.a,{featureTracker:n.props.featureTracker,hidden:n.props.hidden,inlineVideo:e,interactionCallback:n._interactionCallback,key:""+l,pageViewportBBox:h,shouldAutoplay:g,shouldBeLoaded:r<=p&&p<=o,shouldBePaused:m,isExplicit:n.props.checkIfVideoExplicit&&f,metrics:n.props.metrics})})},t.prototype.render=function(){var e=this.props.pageViewportBBoxes,t=Object.keys(e).map(function(e){return parseInt(e,10)}),n=[];return this.props.youtubeApiReady&&n.push.apply(n,this.props.inlineYoutubeVideos),this.props.vimeoApiReady&&n.push.apply(n,this.props.inlineVimeoVideos),this._getVideoPlayers(n,t)},t}(r.Component),f=Object(o.b)(function(e){return{activeVideoLink:e.inlineVideo.activeVideoLink,inlineYoutubeVideos:Object(d.c)(e),inlineVimeoVideos:Object(d.b)(e),checkIfVideoExplicit:Object(p.i)(e),youtubeApiReady:e.inlineVideo.youtubeApiReady,vimeoApiReady:e.inlineVideo.vimeoApiReady,featureTracker:e.featureTracker}},null,null,{pure:!1})(h)},function(e,t,n){"use strict";function r(e){return new Promise(function(t,n){var r=new Image;r.crossOrigin="Anonymous",r.onload=function(){"function"==typeof createImageBitmap?createImageBitmap(r).then(function(e){return t(e)}):t(r)},r.onerror=function(){return n(new TypeError("Could not load image"))},r.src=e})}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(51),i=n(421),o=n(1),a=o.e.READER_POSITION_CHANGED,s=o.e.DOCUMENTLOADED,u=o.e.selectIsPaywallPreview,c=o.e.selectCurrentSpreadHasPaywalledPage,l=function(e){var t=!1,n=!1;return function(o){return function(l){return function(d){var p=l(d);if(d.type===s&&u(o.getState())&&(t=!0,o.dispatch(Object(i.a)())),!t)return p;if(d.type===r.a)e.monitor("paywall.reader3.show-document");else if(!n&&d.type===a){var h=o.getState();c(h)&&(e.monitor("paywall.reader3.show-overlay"),n=!0)}return p}}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(31),i=n(62),o=n(1),a=n(422),s=n(51),u=o.e.selectMetadata,c=o.e.selectIsPaywallPreview,l=o.e.selectCurrentSpreadHasPaywalledPage,d=o.e.selectNextSpreadIndex,p=o.e.selectHostOrigins,h=o.e.goToNextPage,f=[s.d.LOADED,s.d.ERROR],m=Object(r.b)(function(e){var t=c(e),n=e.paywall,r=u(e);return{isNotAvailable:n.isNotAvailable?"disabled":"",isOverlayVisible:l(e),isPreview:t&&!n.isPaid,isPurchased:t&&n.isPaid,hostName:p(e).main.replace(/^(?:https?:)?\/\/(.*)/,"$1"),paywallDataLoaded:f.includes(n.status),priceAmount:n.publicationPriceAmount,priceCurrency:n.publicationPriceCurrency,publicationCoverUrl:r.coverUri,publicationName:r.documentName,publicationTitle:r.title,publisherDisplayName:r.userDisplayName,publisherName:r.username,publisherProfileImageUrl:r.userProfileImageUri,publisherProfileUrl:r.userProfileUri,readPurchasedPath:n.readPurchasedPath,showKeepReading:d(e)>0}},function(e){return{onKeepReading:Object(i.b)(h,e)}})(a.a)},,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(426),i=n(31),o=n(12),a=n(124),s=n(91),u=Object(i.b)(function(e){var t=Object(o.d)(e),n=t.username,r=t.publicationId,i=Object(a.d)(e);return{adRefreshTimeout:Object(s.b)(),publicationId:r,publisherUsername:n,adsensePublisherId:i}},void 0,void 0,{pure:!0})(r.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(31),i=n(338),o=n(342),a=n(344),s=n(97),u=n(29);function c(e){var t=e.Spinner,n=e.isMobile,c=e.jumpToPageNumber,l=e.pageNumberToSpreadIndex,d=e.resetZoom,p=e.selectCurrentPageNumber,h=(e.selectPageCount,e.selectReadMode),f=e.selectSpreadCount,m=Object(u.d)(s.a),g=function(e,t){return function(n,r){return n(m(e,t)).then(function(){var e=r(),t=Object(u.h)(e);t&&c(e,t.pageNo)})}},v=function(){return function(e,t){return e(Object(u.g)()).then(function(){var n=t(),r=Object(u.m)(n),i=p(n);return e(g(r,i))}),d(t()),Promise.resolve()}},_=Object(r.b)(function(e){return{isVisible:Object(u.f)(e),findAvailable:Object(u.k)(e)}},{closeFindDialog:u.a,openFindDialog:v},function(e,t,n){return Object.assign({},n,e,{onClick:e.isVisible?t.closeFindDialog:t.openFindDialog,findAvailable:e.findAvailable})})(o.a),b={onCloseButtonClick:u.a,onSearch:g,setCurrentResultIdx:function(e){return function(t,n){return t(Object(u.t)(e)).then(function(){var e=n(),t=Object(u.h)(e);t&&c(e,t.pageNo)})}},triggerLoadTextInfo:function(){return function(e,t){var n=t(),r=Object(u.m)(n),i=p(n);e(g(r,i))}},inputFieldChanged:u.e},y=Object(r.b)(function(e){return{isMobile:n,isVisible:Object(u.f)(e),currentResult:Object(u.i)(e),numberOfResults:Object(u.p)(e),currentPage:p(e),nextResultIdx:Object(u.o)(e),previousResultIdx:Object(u.q)(e),inputFieldValue:Object(u.j)(e),isLoading:Object(u.n)(e),isNewQuery:Object(u.l)(e),Spinner:t}},b,function(e,t,n){return Object.assign({},n,e,t,{onNextButtonClick:function(){return t.setCurrentResultIdx(e.nextResultIdx)},onPreviousButtonClick:function(){return t.setCurrentResultIdx(e.previousResultIdx)},onRetryClick:t.triggerLoadTextInfo})})(i.a);return{actions:{setTextInfoUrl:u.u,openFindDialog:v,closeFindDialog:u.a},components:{FindOverlay:y,FindButton:_,SliderMarkers:a.a},createReducer:u.b,selectors:{isVisible:u.f,selectResults:u.r,selectCurrentResult:u.h,selectTextInfoPageModels:u.s,selectIsAvailable:u.k,selectResultMarkers:Object(u.c)(u.f,f,h,l)}}}},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),i=n.n(r),o=n(23),a=n.n(o),s=n(339),u=n(340),c=n(341),l=function(e){function t(n){babelHelpers.classCallCheck(this,t);var r=babelHelpers.possibleConstructorReturn(this,e.call(this,n));return r.state={timerId:null},r.handleKeyDown=r.handleKeyDown.bind(r),r.next=r.next.bind(r),r.previous=r.previous.bind(r),r.close=r.close.bind(r),r.handleInputChange=r.handleInputChange.bind(r),r.handleInputBlur=r.handleInputBlur.bind(r),r}return babelHelpers.inherits(t,e),t.prototype.handleVisibilityChanged=function(e,t){!e&&t?(this.refs.input.focus(),this.props.featureTracker.opportunity("FIND_QUERY"),this.props.featureTracker.opportunity("FIND_NEXT"),this.props.featureTracker.opportunity("FIND_PREV"),this.props.featureTracker.opportunity("FIND_CLOSE"),this.props.featureTracker.opportunity("FIND_CLOSE_BLUR")):!t&&e&&this.refs.input.blur()},t.prototype.componentDidMount=function(){this.handleVisibilityChanged(!1,this.props.isVisible)},t.prototype.componentDidUpdate=function(e,t){this.handleVisibilityChanged(e.isVisible,this.props.isVisible)},t.prototype.handleKeyDown=function(e){var t="MacIntel"===window.navigator.platform;if(71===e.keyCode&&t&&e.metaKey||!t&&e.ctrlKey)e.preventDefault(),e.shiftKey?this.previous():this.next();else if("Enter"===e.key){if(e.preventDefault(),this.props.isNewQuery?(this.state.timerId&&clearTimeout(this.state.timerId),this.search(this.props.inputFieldValue)):e.shiftKey?this.previous():this.next(),this.props.isMobile)e.target.blur()}},t.prototype.handleInputChange=function(e){var t=this;this.state.timerId&&clearTimeout(this.state.timerId),this.props.inputFieldChanged(e);var n=null;this.props.enableIncrementalSearch&&(n=setTimeout(function(){t.search(t.props.inputFieldValue)},500)),this.setState({timerId:n})},t.prototype.handleInputBlur=function(e){this.props.inputFieldValue||(this.props.featureTracker.usage("FIND_CLOSE_BLUR"),this.props.onCloseButtonClick())},t.prototype.next=function(){this.props.featureTracker.usage("FIND_NEXT"),this.props.onNextButtonClick()},t.prototype.previous=function(){this.props.featureTracker.usage("FIND_PREV"),this.props.onPreviousButtonClick()},t.prototype.search=function(e){this.props.featureTracker.usage("FIND_QUERY"),this.props.onSearch(e,this.props.currentPage)},t.prototype.close=function(){this.props.featureTracker.usage("FIND_CLOSE"),this.props.onCloseButtonClick()},t.prototype.render=function(){var e=this.props,t=e.isVisible,n=e.currentResult,r=e.numberOfResults,o=e.isMobile,l=e.Spinner,d=e.inputFieldValue,p=e.isLoading,h=e.onRetryClick;return i.a.createElement("div",{className:a()("find-widget",{"find-widget--hidden":!t})},i.a.createElement("button",{className:"find-widget__button find-widget__close-button",type:"button",dangerouslySetInnerHTML:{__html:s.a},onClick:this.close}),i.a.createElement("form",{className:"find-widget__input-wrapper",action:"javascript:void(0)"},i.a.createElement("input",{className:a()("find-widget__input",{"find-widget__input--large-font":o}),ref:"input",type:"search",onKeyDown:this.handleKeyDown,placeholder:"Find in publication...",value:d,onChange:this.handleInputChange,onBlur:this.handleInputBlur}),i.a.createElement("div",{className:"find-widget__results-wrapper"},"READY"===p&&"number"==typeof r&&i.a.createElement("span",{className:"find-widget__results"},n," of ",r),"FAILED"===p&&i.a.createElement("button",{type:"button",onClick:h,className:"find-widget__retry-button"},"retry"),"LOADING"===p&&i.a.createElement(l,{size:l.SPINNER_SIZE_TINY}))),i.a.createElement("button",{className:a()("find-widget__button","find-widget__previous-button",{"find-widget__button--disabled":!r}),dangerouslySetInnerHTML:{__html:c.a},type:"button",onKeyDown:this.handleKeyDown,onClick:this.previous,disabled:!r}),i.a.createElement("button",{className:a()("find-widget__button","find-widget__next-button",{"find-widget__button--disabled":!r}),dangerouslySetInnerHTML:{__html:u.a},type:"button",onKeyDown:this.handleKeyDown,onClick:this.next,disabled:!r}),"FAILED"===p&&i.a.createElement("span",{className:"find-widget__error-message"},"Oops, something went wrong"))},t}(i.a.Component)},function(e,t,n){"use strict";t.a='<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M6.446 8L.322 14.124c-.43.43-.43 1.126 0 1.555.215.213.496.32.777.32.28 0 .562-.107.776-.32L8 9.554l6.124 6.124c.214.213.496.32.777.32.282 0 .563-.107.778-.32.43-.43.43-1.126 0-1.556L9.554 8l6.124-6.124c.43-.43.43-1.125 0-1.554-.43-.43-1.125-.43-1.554 0L8 6.446 1.876.322c-.43-.43-1.125-.43-1.554 0-.43.43-.43 1.125 0 1.554L6.446 8z" fill="#FFFFFF" fill-rule="evenodd"/>\n</svg>\n'},function(e,t,n){"use strict";t.a='<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M4.948 16c-.243 0-.484-.092-.67-.275-.37-.367-.37-.963 0-1.33L10.716 8 4.277 1.604c-.37-.368-.37-.963 0-1.33.37-.367.97-.367 1.338 0l7.108 7.06c.37.366.37.962 0 1.33l-7.106 7.06c-.185.183-.427.275-.67.275" fill="#FFFFFF" fill-rule="evenodd"/>\n</svg>\n'},function(e,t,n){"use strict";t.a='<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M12.052 16c.243 0 .484-.092.67-.275.37-.367.37-.963 0-1.33L6.284 8l6.438-6.395c.37-.368.37-.963 0-1.33-.37-.367-.97-.367-1.338 0l-7.108 7.06c-.37.366-.37.962 0 1.33l7.106 7.06c.185.183.427.275.67.275" fill="#FFFFFF" fill-rule="evenodd"/>\n</svg>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),i=n.n(r),o=n(23),a=n.n(o),s=n(343),u=function(e){function t(n){babelHelpers.classCallCheck(this,t);var r=babelHelpers.possibleConstructorReturn(this,e.call(this,n));return r.onClick=r.onClick.bind(r),r}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){this.props.featureTracker.opportunity("BUTTON_OPEN_FIND")},t.prototype.onClick=function(){this.props.featureTracker.usage("BUTTON_OPEN_FIND"),this.props.onClick()},t.prototype.render=function(){var e=this.props.findAvailable,t=e?"Find":"Find is not available";return i.a.createElement("div",{className:a()("controls__find-button",{"controls__find-button--disabled":!e}),"data-tooltip":t},i.a.createElement("button",{type:"button",className:a()("find-button svg-btn",{"svg-btn--disabled":!e}),onClick:this.onClick,dangerouslySetInnerHTML:{__html:s.a},disabled:!e}))},t}(r.Component)},function(e,t,n){"use strict";t.a='<svg width="100%" height="100%" viewBox="-9 -9 34 34" xmlns="http://www.w3.org/2000/svg">\n  <path d="M6.29 12.58c3.474 0 6.29-2.816 6.29-6.29S9.765 0 6.29 0 0 2.816 0 6.29s2.816 6.29 6.29 6.29zm0-1.677c2.548 0 4.613-2.065 4.613-4.613 0-2.548-2.065-4.613-4.613-4.613-2.548 0-4.613 2.065-4.613 4.613 0 2.548 2.065 4.613 4.613 4.613zm4.665 1.83c-.492-.49-.496-1.284 0-1.78.49-.49 1.287-.49 1.78.002l2.895 2.895c.49.492.495 1.286 0 1.78-.49.492-1.288.49-1.78 0l-2.895-2.896zm-3.18-3.507L7.34 7.8H5.157l-.436 1.426H3.355l2.113-6.012H7.02l2.122 6.012H7.775zm-.738-2.49c-.403-1.29-.627-2.022-.678-2.19-.05-.17-.088-.304-.11-.403-.09.35-.348 1.214-.774 2.592h1.56z" class="shadow" fill-rule="evenodd" />\n  <path d="M6.29 12.58c3.474 0 6.29-2.816 6.29-6.29S9.765 0 6.29 0 0 2.816 0 6.29s2.816 6.29 6.29 6.29zm0-1.677c2.548 0 4.613-2.065 4.613-4.613 0-2.548-2.065-4.613-4.613-4.613-2.548 0-4.613 2.065-4.613 4.613 0 2.548 2.065 4.613 4.613 4.613zm4.665 1.83c-.492-.49-.496-1.284 0-1.78.49-.49 1.287-.49 1.78.002l2.895 2.895c.49.492.495 1.286 0 1.78-.49.492-1.288.49-1.78 0l-2.895-2.896zm-3.18-3.507L7.34 7.8H5.157l-.436 1.426H3.355l2.113-6.012H7.02l2.122 6.012H7.775zm-.738-2.49c-.403-1.29-.627-2.022-.678-2.19-.05-.17-.088-.304-.11-.403-.09.35-.348 1.214-.774 2.592h1.56z" class="icon" fill-rule="evenodd"/>\n</svg>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),i=n.n(r),o=n(39),a=n.n(o),s=function(e){function t(n){babelHelpers.classCallCheck(this,t);var r=babelHelpers.possibleConstructorReturn(this,e.call(this,n));return r.redraw=r.redraw.bind(r),r.resize=r.resize.bind(r),r}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.resize),requestAnimationFrame(this.redraw)},t.prototype.shouldComponentUpdate=function(e){return!a()(this.props,e)},t.prototype.componentDidUpdate=function(e){requestAnimationFrame(this.redraw)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.resize)},t.prototype.resize=function(){requestAnimationFrame(this.redraw)},t.prototype.redraw=function(){var e=this.props.markers,t=this.refs.canvas;if(t){var n=t.getContext("2d");if(n){var r=t.width=t.clientWidth;n.clearRect(0,0,r,1),n.fillStyle="yellow",e.forEach(function(e){n.fillRect(Math.round(e*(r-3)),0,3,1)})}}},t.prototype.render=function(){return i.a.createElement("canvas",{ref:"canvas",className:"slider-markers",height:1})},t}(r.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(84);function i(e,t,n){var i=e+"/call/reader/api/paywall-preview/"+t;return Object(r.a)(i,{withCredentials:!0,readerSessionHeader:n}).then(function(e){var n=e.status,r=e.document;if("ok"!==n||!r)throw new Error("The paywall preview could not be loaded. status: "+n+", fileId: "+t);return r})}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(84);function i(e,t){var n=e+"/call/reader/api/publish-preview/"+t;return Object(r.a)(n,{withCredentials:!0}).then(function(e){var n=e.status,r=e.document;if("ok"!==n||!r)throw new Error("The publish preview could not be loaded. status: "+n+", fileId: "+t);return r})}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(84);function i(e,t){return Object(r.a)(e+"/call/reader/api/links-purchased/"+t,{withCredentials:!0}).catch(function(e){return new Error("Links for Protected Document could not be loaded.")})}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(2),i=n(55),o=n(84);function a(e,t,n){var a=e+"/"+t+"/"+n+"/reader3_4.json";return Object(o.a)(a).then(function(e){var o=e.status,a=e.document;if(0!==o||!a)throw new i.a(r.e,o);return babelHelpers.extends({username:t,documentName:n},a)})}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r='\n    <svg width="100%" height="100%" viewBox="-2 0 60 14" style="fill: #fff">\n        <g>\n            <path d="M6.83590808,3.64127016 C5.02752664,3.6236996 3.54764132,5.11190524 3.53049341,6.96464718 C3.5133455,8.81760081 4.96575284,10.3339617 6.77413428,10.3515323 C8.58251571,10.3688911 10.0626076,8.88089718 10.0795489,7.02815524 C10.0966969,5.17520161 8.64428951,3.65862903 6.83590808,3.64127016 L6.83590808,3.64127016 Z M6.78942278,8.69524194 C5.87376569,8.68635081 5.13826495,7.91853831 5.14694221,6.9803125 C5.15561947,6.04208669 5.90496249,5.28845766 6.82061958,5.29734879 C7.73627667,5.30623992 8.4717774,6.07405242 8.46310015,7.01248992 C8.45442289,7.95050403 7.70507987,8.70413306 6.78942278,8.69524194 L6.78942278,8.69524194 Z"></path>\n            <path d="M6.75843258,0.424375 C6.74830911,0.424375 6.73818565,0.424798387 6.72785558,0.424798387 L6.72785558,0.424163306 L0.856245804,0.424163306 C0.562045511,0.424163306 0.321148361,0.67078629 0.321148361,0.972449597 L0.321148361,7.02053427 C0.321148361,10.6633569 3.2032369,13.6164819 6.75843258,13.6164819 C10.3138349,13.6164819 13.1957168,10.6633569 13.1957168,7.02053427 C13.1957168,3.3775 10.3138349,0.424375 6.75843258,0.424375 L6.75843258,0.424375 Z M2.33592452,6.92929435 C2.35927047,4.40019153 4.37921167,2.36920363 6.84747775,2.39291331 C9.31574383,2.41683468 11.2980836,4.48677419 11.274531,7.01566532 C11.2513917,9.54455645 9.23124389,11.5755444 6.76318441,11.551623 C4.29491833,11.5277016 2.31257857,9.45797379 2.33592452,6.92929435 L2.33592452,6.92929435 Z"></path>\n            <path d="M6.83590808,3.64127016 C5.02752664,3.6236996 3.54764132,5.11190524 3.53049341,6.96464718 C3.5133455,8.81760081 4.96575284,10.3339617 6.77413428,10.3515323 C8.58251571,10.3688911 10.0626076,8.88089718 10.0795489,7.02815524 C10.0966969,5.17520161 8.64428951,3.65862903 6.83590808,3.64127016 L6.83590808,3.64127016 Z M6.78942278,8.69524194 C5.87376569,8.68635081 5.13826495,7.91853831 5.14694221,6.9803125 C5.15561947,6.04208669 5.90496249,5.28845766 6.82061958,5.29734879 C7.73627667,5.30623992 8.4717774,6.07405242 8.46310015,7.01248992 C8.45442289,7.95050403 7.70507987,8.70413306 6.78942278,8.69524194 L6.78942278,8.69524194 Z"></path>\n            <path d="M6.75843258,0.424375 C6.74830911,0.424375 6.73818565,0.424798387 6.72785558,0.424798387 L6.72785558,0.424163306 L0.856245804,0.424163306 C0.562045511,0.424163306 0.321148361,0.67078629 0.321148361,0.972449597 L0.321148361,7.02053427 C0.321148361,10.6633569 3.2032369,13.6164819 6.75843258,13.6164819 C10.3138349,13.6164819 13.1957168,10.6633569 13.1957168,7.02053427 C13.1957168,3.3775 10.3138349,0.424375 6.75843258,0.424375 L6.75843258,0.424375 Z M2.33592452,6.92929435 C2.35927047,4.40019153 4.37921167,2.36920363 6.84747775,2.39291331 C9.31574383,2.41683468 11.2980836,4.48677419 11.274531,7.01566532 C11.2513917,9.54455645 9.23124389,11.5755444 6.76318441,11.551623 C4.29491833,11.5277016 2.31257857,9.45797379 2.33592452,6.92929435 L2.33592452,6.92929435 Z"></path>\n        </g>\n        <g transform="translate(17.000000, 0.000000)">\n            <path d="M1.18803132,0.461209677 C1.75267275,0.461209677 2.22289738,0.943235887 2.22289738,1.52137097 C2.22289738,2.09950605 1.75267275,2.58110887 1.18803132,2.58110887 C0.624009688,2.58110887 0.153578461,2.09950605 0.153578461,1.52137097 C0.153578461,0.943235887 0.624009688,0.461209677 1.18803132,0.461209677 L1.18803132,0.461209677 Z M1.18803132,12.5656351 C0.661197927,12.5656351 0.30419083,12.160877 0.30419083,11.6597984 L0.30419083,4.79775202 C0.30419083,4.29709677 0.680411851,3.89212702 1.18803132,3.89212702 C1.69627059,3.89212702 2.07228501,4.29709677 2.07228501,4.79775202 L2.07228501,11.6597984 C2.07228501,12.160877 1.71486471,12.5656351 1.18803132,12.5656351 L1.18803132,12.5656351 Z"></path>\n            <path d="M7.56498795,12.6429032 C6.37971612,12.6429032 5.32646254,12.2574093 4.5742271,11.6597984 C4.31101701,11.4478931 4.19779948,11.1587198 4.19779948,10.9080746 C4.19779948,10.522369 4.49902422,10.2715121 4.87524524,10.2715121 C5.17585017,10.2715121 5.36427059,10.3877319 5.57107852,10.5420565 C6.07890458,10.9273387 6.79353858,11.2931452 7.69679959,11.2931452 C8.71265833,11.2931452 9.25808584,10.9080746 9.25808584,10.3104637 C9.25808584,9.65548387 8.73125245,9.40462702 7.41437558,9.03797379 C5.10085389,8.40268145 4.25440825,7.59231855 4.25440825,6.20509073 C4.25440825,4.75943548 5.5522778,3.81485887 7.58399527,3.81485887 C8.35503143,3.81485887 9.2200712,4.00771169 9.91631767,4.35446573 C10.4241437,4.60511089 10.781564,4.91333669 10.781564,5.29904234 C10.781564,5.64579637 10.5935568,5.97392137 10.1045315,5.97392137 C9.85991551,5.97392137 9.61529954,5.858125 9.33328872,5.70337702 C8.80624873,5.41462702 8.22321978,5.26114919 7.54639383,5.26114919 C6.60573797,5.26114919 5.96610026,5.51137097 5.96610026,6.18561492 C5.96610026,6.84144153 6.53053509,7.05292339 7.8848068,7.45789315 C9.91631767,8.05529234 10.9697779,8.61416331 10.9697779,10.1754032 C10.9697779,11.602006 9.80351335,12.6429032 7.56498795,12.6429032"></path>\n            <path d="M16.0804749,12.6429032 C14.8952031,12.6429032 13.8415363,12.2574093 13.0893009,11.6597984 C12.8258842,11.4478931 12.7130799,11.1587198 12.7130799,10.9080746 C12.7130799,10.522369 13.014098,10.2715121 13.390319,10.2715121 C13.6913372,10.2715121 13.8791378,10.3877319 14.0863589,10.5420565 C14.5939784,10.9273387 15.3086124,11.2931452 16.2114602,11.2931452 C17.2275255,11.2931452 17.772953,10.9080746 17.772953,10.3104637 C17.772953,9.65548387 17.2465328,9.40462702 15.9298626,9.03797379 C13.6159277,8.40268145 12.7696886,7.59231855 12.7696886,6.20509073 C12.7696886,4.75943548 14.0677648,3.81485887 16.0990691,3.81485887 C16.8703118,3.81485887 17.7357648,4.00771169 18.4318047,4.35446573 C18.9392175,4.60511089 19.297051,4.91333669 19.297051,5.29904234 C19.297051,5.64579637 19.1088372,5.97392137 18.6193987,5.97392137 C18.3749893,5.97392137 18.1303733,5.858125 17.8485691,5.70337702 C17.3219423,5.41462702 16.7385002,5.26114919 16.0614676,5.26114919 C15.1208118,5.26114919 14.4813806,5.51137097 14.4813806,6.18561492 C14.4813806,6.84144153 15.0454023,7.05292339 16.4000872,7.45789315 C18.4318047,8.05529234 19.4850582,8.61416331 19.4850582,10.1754032 C19.4850582,11.602006 18.3185871,12.6429032 16.0804749,12.6429032"></path>\n            <path d="M21.1926182,8.61416331 L21.1926182,4.79775202 C21.1926182,4.29709677 21.5878466,3.89212702 22.0768719,3.89212702 C22.5658973,3.89212702 22.9611256,4.29709677 22.9611256,4.79775202 L22.9611256,8.82606855 C22.9611256,10.0409778 23.8823609,10.9849194 25.1246547,10.9849194 C26.3659155,10.9849194 27.3063648,10.0409778 27.3063648,8.82606855 L27.3063648,4.79775202 C27.3063648,4.29709677 27.7015931,3.89212702 28.1902052,3.89212702 C28.679024,3.89212702 29.0740457,4.29709677 29.0740457,4.79775202 L29.0740457,8.61416331 C29.0740457,10.8697581 27.4001618,12.6429032 25.1246547,12.6429032 C22.8481147,12.6429032 21.1926182,10.8697581 21.1926182,8.61416331"></path>\n            <path d="M31.0324197,8.61416331 L31.0324197,4.79775202 C31.0324197,4.29709677 31.4272349,3.89212702 31.9164668,3.89212702 C32.405079,3.89212702 32.8003073,4.29709677 32.8003073,4.79775202 L32.8003073,8.82606855 C32.8003073,10.0409778 33.7225756,10.9849194 34.9636298,10.9849194 C36.2048906,10.9849194 37.1455465,10.0409778 37.1455465,8.82606855 L37.1455465,4.79775202 C37.1455465,4.29709677 37.5407748,3.89212702 38.0298002,3.89212702 C38.5192387,3.89212702 38.9136406,4.29709677 38.9136406,4.79775202 L38.9136406,8.61416331 C38.9136406,10.8697581 37.2401699,12.6429032 34.9636298,12.6429032 C32.6872964,12.6429032 31.0324197,10.8697581 31.0324197,8.61416331"></path>\n            <path d="M1.18803132,0.461209677 C1.75267275,0.461209677 2.22289738,0.943235887 2.22289738,1.52137097 C2.22289738,2.09950605 1.75267275,2.58110887 1.18803132,2.58110887 C0.624009688,2.58110887 0.153578461,2.09950605 0.153578461,1.52137097 C0.153578461,0.943235887 0.624009688,0.461209677 1.18803132,0.461209677 L1.18803132,0.461209677 Z M1.18803132,12.5656351 C0.661197927,12.5656351 0.30419083,12.160877 0.30419083,11.6597984 L0.30419083,4.79775202 C0.30419083,4.29709677 0.680411851,3.89212702 1.18803132,3.89212702 C1.69627059,3.89212702 2.07228501,4.29709677 2.07228501,4.79775202 L2.07228501,11.6597984 C2.07228501,12.160877 1.71486471,12.5656351 1.18803132,12.5656351 L1.18803132,12.5656351 Z"></path>\n            <path d="M7.56498795,12.6429032 C6.37971612,12.6429032 5.32646254,12.2574093 4.5742271,11.6597984 C4.31101701,11.4478931 4.19779948,11.1587198 4.19779948,10.9080746 C4.19779948,10.522369 4.49902422,10.2715121 4.87524524,10.2715121 C5.17585017,10.2715121 5.36427059,10.3877319 5.57107852,10.5420565 C6.07890458,10.9273387 6.79353858,11.2931452 7.69679959,11.2931452 C8.71265833,11.2931452 9.25808584,10.9080746 9.25808584,10.3104637 C9.25808584,9.65548387 8.73125245,9.40462702 7.41437558,9.03797379 C5.10085389,8.40268145 4.25440825,7.59231855 4.25440825,6.20509073 C4.25440825,4.75943548 5.5522778,3.81485887 7.58399527,3.81485887 C8.35503143,3.81485887 9.2200712,4.00771169 9.91631767,4.35446573 C10.4241437,4.60511089 10.781564,4.91333669 10.781564,5.29904234 C10.781564,5.64579637 10.5935568,5.97392137 10.1045315,5.97392137 C9.85991551,5.97392137 9.61529954,5.858125 9.33328872,5.70337702 C8.80624873,5.41462702 8.22321978,5.26114919 7.54639383,5.26114919 C6.60573797,5.26114919 5.96610026,5.51137097 5.96610026,6.18561492 C5.96610026,6.84144153 6.53053509,7.05292339 7.8848068,7.45789315 C9.91631767,8.05529234 10.9697779,8.61416331 10.9697779,10.1754032 C10.9697779,11.602006 9.80351335,12.6429032 7.56498795,12.6429032"></path>\n            <path d="M16.0804749,12.6429032 C14.8952031,12.6429032 13.8415363,12.2574093 13.0893009,11.6597984 C12.8258842,11.4478931 12.7130799,11.1587198 12.7130799,10.9080746 C12.7130799,10.522369 13.014098,10.2715121 13.390319,10.2715121 C13.6913372,10.2715121 13.8791378,10.3877319 14.0863589,10.5420565 C14.5939784,10.9273387 15.3086124,11.2931452 16.2114602,11.2931452 C17.2275255,11.2931452 17.772953,10.9080746 17.772953,10.3104637 C17.772953,9.65548387 17.2465328,9.40462702 15.9298626,9.03797379 C13.6159277,8.40268145 12.7696886,7.59231855 12.7696886,6.20509073 C12.7696886,4.75943548 14.0677648,3.81485887 16.0990691,3.81485887 C16.8703118,3.81485887 17.7357648,4.00771169 18.4318047,4.35446573 C18.9392175,4.60511089 19.297051,4.91333669 19.297051,5.29904234 C19.297051,5.64579637 19.1088372,5.97392137 18.6193987,5.97392137 C18.3749893,5.97392137 18.1303733,5.858125 17.8485691,5.70337702 C17.3219423,5.41462702 16.7385002,5.26114919 16.0614676,5.26114919 C15.1208118,5.26114919 14.4813806,5.51137097 14.4813806,6.18561492 C14.4813806,6.84144153 15.0454023,7.05292339 16.4000872,7.45789315 C18.4318047,8.05529234 19.4850582,8.61416331 19.4850582,10.1754032 C19.4850582,11.602006 18.3185871,12.6429032 16.0804749,12.6429032"></path>\n            <path d="M21.1926182,8.61416331 L21.1926182,4.79775202 C21.1926182,4.29709677 21.5878466,3.89212702 22.0768719,3.89212702 C22.5658973,3.89212702 22.9611256,4.29709677 22.9611256,4.79775202 L22.9611256,8.82606855 C22.9611256,10.0409778 23.8823609,10.9849194 25.1246547,10.9849194 C26.3659155,10.9849194 27.3063648,10.0409778 27.3063648,8.82606855 L27.3063648,4.79775202 C27.3063648,4.29709677 27.7015931,3.89212702 28.1902052,3.89212702 C28.679024,3.89212702 29.0740457,4.29709677 29.0740457,4.79775202 L29.0740457,8.61416331 C29.0740457,10.8697581 27.4001618,12.6429032 25.1246547,12.6429032 C22.8481147,12.6429032 21.1926182,10.8697581 21.1926182,8.61416331"></path>\n            <path d="M31.0324197,8.61416331 L31.0324197,4.79775202 C31.0324197,4.29709677 31.4272349,3.89212702 31.9164668,3.89212702 C32.405079,3.89212702 32.8003073,4.29709677 32.8003073,4.79775202 L32.8003073,8.82606855 C32.8003073,10.0409778 33.7225756,10.9849194 34.9636298,10.9849194 C36.2048906,10.9849194 37.1455465,10.0409778 37.1455465,8.82606855 L37.1455465,4.79775202 C37.1455465,4.29709677 37.5407748,3.89212702 38.0298002,3.89212702 C38.5192387,3.89212702 38.9136406,4.29709677 38.9136406,4.79775202 L38.9136406,8.61416331 C38.9136406,10.8697581 37.2401699,12.6429032 34.9636298,12.6429032 C32.6872964,12.6429032 31.0324197,10.8697581 31.0324197,8.61416331"></path>\n        </g>\n    </svg>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return x});var r=n(38),i=n(0),o=n.n(i),a=n(14),s=n.n(a),u=n(31),c=n(62),l=n(13),d=n(177),p=n(21),h=n(130),f=n(129),m=n(5),g=n(170),v=n(354),_=n(355),b=n(194),y=n(429),E=n(22),T=n(91),w=n(93),C=function(e){function t(){var n,r,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),r.reloadDocument=function(){r.props.documentConnector.reset(),r.loadDocument()},r.loadDocument=function(){return r.props.loadReaderData(r.props.documentConnector,function(){var e=Object(E.a)();return[r.container.clientWidth*e,r.container.clientHeight*e]},r.props.readMorePlugin)},r.listenToVisibilityChangeEvent=function(){Object(f.b)()&&Object(f.c)(function(){r.props.onVisibilityChange()})},r.toggleFullscreen=function(){return r.props.toggleFullscreen(r.props.documentUrlWithPageNumber)},i=n,babelHelpers.possibleConstructorReturn(r,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){this.container=s.a.findDOMNode(this.refs.main),this.loadDocument(),this.listenToVisibilityChangeEvent()},t.prototype.shouldComponentUpdate=function(e){return this.props.loading.status!==e.loading.status||this.props.adSize.join(",")!==e.adSize.join(",")||this.props.backgroundColor!==e.backgroundColor||this.props.backgroundImage!==e.backgroundImage||this.props.adSmallLayout!==e.adSmallLayout},t.prototype.render=function(){var e=["reader-container"];document.documentMode&&10===document.documentMode&&e.push("ie10");var t=this.props.adSize,n=!0,r=Object(T.a)(t);r||(t[0]<t[1]?(n=!1,e.push("reader-container--ad-on-left")):e.push("reader-container--ad-on-bottom"));var i=null;switch(this.props.loading.status){case h.a.FAILED:i=o.a.createElement(g.a,{sessionId:this.props.sessionId,reloadDocument:this.reloadDocument,error:this.props.loading.error});break;case h.a.SUCCESS:i=o.a.createElement(y.a,{featureTracker:this.props.featureTracker,toggleFullscreen:this.toggleFullscreen},o.a.createElement(_.a,{config:this.props.config,toggleFullscreen:this.toggleFullscreen,metrics:this.props.metrics,loadStatsTracker:this.props.loadStatsTracker}));break;case h.a.INITIALIZED:case h.a.LOADING:default:i=o.a.createElement(v.a,null)}this.props.backgroundImage&&(this.props.backgroundImage.style===p.BACKGROUND_IMAGE_STYLE.TOP_LEFT?e.push("reader-container--background-image-top-left"):this.props.backgroundImage.style===p.BACKGROUND_IMAGE_STYLE.STRETCH&&e.push("reader-container--background-image-stretch"));var a={width:"100%",height:"100%",backgroundColor:this.props.backgroundColor,backgroundImage:this.props.backgroundImage?"url('"+this.props.backgroundImage.url+"')":"none"};return o.a.createElement("div",{ref:"main",id:"ird3-main",className:e.join(" "),style:a},this.props.enableCookieConsent&&o.a.createElement(w.a,null),i,!r&&o.a.createElement(b.a,{adSize:t,horizontalLayout:n,metrics:this.props.metrics,smallLayout:this.props.adSmallLayout}))},t}(i.Component);C.displayName="Main";var x=Object(u.b)(function(e){return{backgroundColor:m.f(e),backgroundImage:m.g(e),config:e.config,documentUrlWithPageNumber:m.o(e),enableCookieConsent:!!e.features.enableCookieConsent,loading:e.loading,readMorePlugin:e.readMorePlugin,sessionId:e.config.sessionId,adSize:Object(b.b)(e),adSmallLayout:Object(b.c)(e)}},function(e){return{toggleFullscreen:Object(c.b)(l.f,e),loadReaderData:Object(c.b)(r.d,e),onVisibilityChange:Object(c.b)(d.a,e)}},void 0,{pure:!1})(C)},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(83),i=n.n(r),o=n(0),a=n.n(o),s=n(10),u=n(48),c=n(123),l=n(98),d=n(76),p=n(93),h=function(e){function t(){var n,r,o;babelHelpers.classCallCheck(this,t);for(var h=arguments.length,f=Array(h),m=0;m<h;m++)f[m]=arguments[m];return n=r=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(f))),r.onOpenAnywayHandler=function(){window.open(r.props.videoUrl,"_blank"),r.props.dispatch(s.a())},r.onBackgroundClick=function(){r.props.dispatch(Object(d.b)())},r.onCloseButtonClick=function(){r.props.dispatch(Object(d.b)()),r.props.dispatch(s.a())},r.getVideoEmbedUrl=function(){switch(r.props.service){case"youtube":var e=new i.a(r.props.videoUrl),t=["autoplay=1"];return["rel","start","end","loop"].forEach(function(n){e.hasQueryParam(n)&&t.push(n+"="+e.getQueryParamValue(n))}),"https://www.youtube.com/embed/"+r.props.videoId+"?"+t.join("&");case"vimeo":return"https://player.vimeo.com/video/"+r.props.videoId+"?autoplay=1";default:return""}},r.renderContent=function(){var e=r.props,t=e.videoInfo,n=e.service;if(!e.checkIfVideoExplicit||t===d.a.SAFE)return a.a.createElement("div",{className:"video-overlay__content"},a.a.createElement("iframe",{className:"video-overlay__player",src:r.getVideoEmbedUrl(),frameBorder:"0",allowFullScreen:!0}),a.a.createElement(u.a,{className:"svg-btn video-overlay__close-button",content:c.a,onClick:r.onCloseButtonClick}));switch(t){case d.a.EXPLICIT:return a.a.createElement("div",{className:"video-overlay__error-content"},a.a.createElement(p.c,{onSubmit:function(){return r.onOpenAnywayHandler()},onClose:function(){return r.onCloseButtonClick()},service:n}));case d.a.UNKNOWN:return a.a.createElement("div",{className:"video-overlay__content"},a.a.createElement("div",{className:"video-overlay__loading"},a.a.createElement(l.a,null)),a.a.createElement(u.a,{className:"svg-btn video-overlay__close-button",content:c.a,onClick:r.onCloseButtonClick}));case d.a.ERROR:return a.a.createElement("div",{className:"video-overlay__error-content"},a.a.createElement(p.b,{onSubmit:function(){return r.onOpenAnywayHandler()},onClose:function(){return r.onCloseButtonClick()},service:n}));default:throw new Error("The video info is not a valid value: "+t)}},o=n,babelHelpers.possibleConstructorReturn(r,o)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.service,n=e.videoId,r=e.videoInfo;e.checkIfVideoExplicit&&r===d.a.UNKNOWN&&this.props.dispatch(Object(d.c)(t,n,this.props.metrics))},t.prototype.render=function(){return a.a.createElement("div",{className:"video-overlay"},a.a.createElement("div",{className:"video-overlay__background",onClick:this.onBackgroundClick}),this.renderContent())},t}(o.Component);h.displayName="VideoOverlay"},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=function(e){var t=e.color,n=e.size,r=babelHelpers.objectWithoutProperties(e,["color","size"]);return i.a.createElement("svg",babelHelpers.extends({xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))};o.defaultProps={color:"currentColor",size:"24"},t.a=o},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=function(e){var t=e.color,n=e.size,r=babelHelpers.objectWithoutProperties(e,["color","size"]);return i.a.createElement("svg",babelHelpers.extends({xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),i.a.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"16"}))};o.defaultProps={color:"currentColor",size:"24"},t.a=o},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),i=n.n(r),o=n(98),a=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t.prototype.render=function(){return i.a.createElement("div",{className:"loading"},i.a.createElement("div",{className:"loading__spinner"},i.a.createElement(o.a,{type:o.a.SPINNER_TYPE_ALTERNATE})))},t}(r.Component);a.displayName="Loading"},function(e,t,n){"use strict";n.d(t,"a",function(){return R});var r=n(0),i=n.n(r),o=n(31),a=n(356),s=n(180),u=n(380),c=n(418),l=n(419),d=n(420),p=n(13),h=n(105),f=n(35),m=n(122),g=n(8),v=n(10),_=n(5),b=n(146),y=n(100),E=n(34),T=n(57),w=n(7),C=n(425),x=n(75),O=function(e){function t(){var n,r,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),r.onNextSpreadButtonClick=function(e){e.preventDefault(),r.props.featureTracker.usage(w.a.BUTTON_ARROW_FORWARD),r.props.dispatch(v.a()),r.nextSpread()},r.onPreviousSpreadButtonClick=function(e){e.preventDefault(),r.props.featureTracker.usage(w.a.BUTTON_ARROW_BACKWARD),r.props.dispatch(v.a()),r.previousSpread()},r.trackOpportunities=function(){r.props.featureTracker.opportunity(w.a.FULLSCREEN_MORE),r.props.isLeftArrowVisible&&r.props.featureTracker.opportunity(w.a.BUTTON_ARROW_BACKWARD),r.props.isRightArrowVisible&&r.props.featureTracker.opportunity(w.a.BUTTON_ARROW_FORWARD)},r.nextSpread=function(){r.props.dispatch(g.e())},r.previousSpread=function(){r.props.dispatch(g.f())},i=n,babelHelpers.possibleConstructorReturn(r,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.refs.canvas.getWrappedInstance();window.ISSUU_READER_DOCUMENTCANVAS=t,this.interactionDetector=new C.a(this.refs.mainReader,function(){e.props.interactedWithReader||window.setTimeout(function(){e.props.dispatch(g.m())},500)}),this.inputHandler=new x.a(this.refs.mainReader,{onMouseMove:function(t,n,r){e.props.dispatch(v.j())},onMouseEnter:function(t){e.props.dispatch(v.h())},onMouseLeave:function(t){e.props.dispatch(v.i())}}),this.trackOpportunities()},t.prototype.componentDidUpdate=function(e){this.props.renderReadmore&&this.props.exitedFullscreen&&this.props.moreContentContainerIsVisible&&this.props.moreContentContainerIsVisible!==e.moreContentContainerIsVisible&&this.props.featureTracker.usage(w.a.FULLSCREEN_MORE),this.trackOpportunities()},t.prototype.componentWillUnmount=function(){this.interactionDetector&&this.interactionDetector.destroy()},t.prototype.render=function(){var e=void 0;e=this.props.showCTAOverlay?i.a.createElement(l.a,{dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,fullscreenEnabled:this.props.fullscreenEnabled,toggleFullscreen:this.props.toggleFullscreen,visible:this.props.isControlsVisible}):i.a.createElement(a.a,{toggleFullscreen:this.props.toggleFullscreen,visible:this.props.isControlsVisible});var t={backgroundImage:this.props.logo?"url('"+this.props.logo.url+"')":"none"};return i.a.createElement("div",{ref:"mainReader",tabIndex:"1",className:"reader",style:t},i.a.createElement("div",{className:"reader__layout"},i.a.createElement(s.a,null),this.props.enableFind&&!this.props.showCTAOverlay&&i.a.createElement(f.b.FindOverlay,{featureTracker:this.props.featureTracker,enableIncrementalSearch:!T.a.isIOS()}),i.a.createElement("div",{className:"reader__canvas-container"},i.a.createElement(u.a,{ref:"canvas",loadStatsTracker:this.props.loadStatsTracker,metrics:this.props.metrics,withStencilBuffer:this.props.enableFind}),i.a.createElement(c.a,{leftArrowVisible:this.props.isLeftArrowVisible,rightArrowVisible:this.props.isRightArrowVisible,onClickLeftArrow:this.onPreviousSpreadButtonClick,onClickRightArrow:this.onNextSpreadButtonClick})),e,this.props.renderReadmore&&i.a.createElement(d.a,{dispatch:this.props.dispatch,visible:this.props.moreContentContainerIsVisible,showAsOverlay:this.props.showReadmoreAsOverlay,readerSizeInPixels:this.props.readerSizeInPixels},this.props.readMorePlugin.render(this.props.config,this.props.debugMode,this.props.exitedFullscreen,this.props.moreContentContainerIsVisible,this.props.showReadmoreAsOverlay)),this.props.renderPaywallOverlay&&i.a.createElement(h.a,null),this.props.renderVideoOverlay&&i.a.createElement(m.a,{metrics:this.props.metrics})))},t}(r.Component);O.displayName="Reader";var R=Object(o.b)(function(e){return{debugMode:e.reader.debugMode,exitedFullscreen:e.readmore.exitedFullscreen,featureTracker:e.featureTracker,interactedWithReader:e.reader.interactedWithReader,readMorePlugin:e.readMorePlugin,enableFind:e.features.enableFind,showReadmoreAsOverlay:y.d(e),fullscreenEnabled:Object(p.d)(e),isControlsVisible:_.a(e),logo:_.u(e),isLeftArrowVisible:b.a(e),isRightArrowVisible:b.b(e),moreContentContainerIsVisible:_.e(e),readerSizeInPixels:_.C(e),renderReadmore:y.b(e),renderPaywallOverlay:Object(E.a)(e),showCTAOverlay:_.E(e),renderVideoOverlay:Object(m.c)(e)}},void 0,void 0,{pure:!0})(O)},function(e,t,n){"use strict";n.d(t,"a",function(){return P});var r=n(0),i=n.n(r),o=n(31),a=n(14),s=n.n(a),u=n(39),c=n.n(u),l=n(23),d=n.n(l),p=n(2),h=n(48),f=n(357),m=n(365),g=n(368),v=n(369),_=n(75),b=n(35),y=n(13),E=n(8),T=n(10),w=n(5),C=n(106),x=n(12),O=n(109),R=n(21),S=n(7),I=n(372),A=function(e){function t(){var n,r,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),r.onReadOnIssuuClick=function(){var e=r.props.issuuBrandingFeature&&r.props.issuuBrandingFeature.openInNewTab?"_blank":"_self";window.open("https://issuu.com"+Object(p.x)("logo",r.props.issuuLinkTrackingQuery),e),r.props.dispatch(T.a()),r.props.featureTracker.usage(S.a.BUTTON_LOGO)},r.onToggleFullscreenClick=function(){r.props.toggleFullscreen(),r.props.featureTracker.usage(S.a.BUTTON_FULLSCREEN),r.props.dispatch(T.a())},r.onSliderActivityStart=function(){r.props.dispatch(E.n(!0)),r.props.dispatch(T.f())},r.onSliderActivityChange=function(){r.props.dispatch(T.f())},r.onSliderActivityEnd=function(){r.props.dispatch(E.n(!1)),r.props.dispatch(T.f())},r.handlePageSliderOnChangeStart=function(){r.props.canvasApi&&r.props.canvasApi.setSnapping(!1),r.onSliderActivityStart(),r._percentBeforeSlider=r.props.currentPageSliderPosition},r.handlePageSliderOnChange=function(e){r.onSliderActivityChange(),r.props.canvasApi&&r.props.canvasApi.jumpToPositionByPercent(e)},r.handlePageSliderOnChangeEnd=function(e){r.props.canvasApi&&r.props.canvasApi.setSnapping(!0),r.onSliderActivityEnd(),r.props.currentPageSliderPosition!==r._percentBeforeSlider&&r.props.featureTracker.usage(S.a.SLIDER_PAGES)},r.handleZoomSliderOnChangeStart=function(){r.onSliderActivityStart()},r.handleZoomSliderOnChange=function(e){r.onSliderActivityChange(),r.props.canvasApi&&r.props.canvasApi.zoomCurrentView(e)},r.handleZoomSliderOnChangeEnd=function(){r.onSliderActivityEnd()},i=n,babelHelpers.possibleConstructorReturn(r,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){var e=this;this.inputHandler=new _.a(s.a.findDOMNode(this.refs.controlsContainer),{onMouseEnter:function(t){e.props.visible&&e.props.dispatch(E.l(!0))},onMouseLeave:function(t){e.props.dispatch(E.l(!1))}}),this.props.featureTracker.opportunity(S.a.SLIDER_PAGES)},t.prototype.shouldComponentUpdate=function(e,t){var n=this.props.visible!==e.visible;return e.visible&&(n=n||!(c()(this.props,e)&&c()(this.state,t))),n},t.prototype.componentWillUnmount=function(){this.inputHandler&&this.inputHandler.destroy()},t.prototype.render=function(){var e=this,t=void 0;this.props.showIssuuBranding&&(t=i.a.createElement("div",{className:"controls__read-on-issuu"},i.a.createElement("div",{className:"controls__read-on-issuu-button","data-tooltip":"See more on Issuu"},i.a.createElement(h.a,{className:"svg-btn logo-icon",onClick:this.onReadOnIssuuClick,content:I.a}))),this.props.featureTracker.opportunity(S.a.BUTTON_LOGO));var n=null;if(this.props.fullscreenFeature){var r=!1;switch(this.props.fullscreenFeature.showButtons){case R.FULLSCREEN_BUTTON.ALWAYS:r=!0;break;case R.FULLSCREEN_BUTTON.HIDE:r=this.props.fullscreenIsSupported}r&&(n=i.a.createElement(g.a,{fullscreenEnabled:this.props.fullscreenEnabled,toggleFullscreen:this.onToggleFullscreenClick}),this.props.featureTracker.opportunity(S.a.BUTTON_FULLSCREEN))}var o=d()("controls",{"controls--hidden":!this.props.visible});return i.a.createElement("div",{className:o,ref:"controlsContainer"},i.a.createElement("div",{className:"controls__background"}),i.a.createElement("div",{className:"controls__part controls__part--page-controls"},i.a.createElement(f.a,{currentPageSliderPosition:this.props.currentPageSliderPosition,currentPageNumbers:this.props.currentPageNumbers,pageCount:this.props.pageCount,pageSliderOnChangeStart:this.handlePageSliderOnChangeStart,pageSliderOnChange:this.handlePageSliderOnChange,pageSliderOnChangeEnd:this.handlePageSliderOnChangeEnd,segments:this.props.pageSegments,resultMarkers:this.props.resultMarkers})),this.props.zoomFeature&&i.a.createElement("div",{className:"controls__part controls__part--zoom-controls"},i.a.createElement(m.a,{currentZoomLevel:this.props.zoomLevel,dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,segments:this.props.zoomSegments,zoomSliderOnChangeStart:this.handleZoomSliderOnChangeStart,zoomSliderOnChange:this.handleZoomSliderOnChange,zoomSliderOnChangeEnd:this.handleZoomSliderOnChangeEnd})),t&&i.a.createElement("div",{className:"controls__part"},t),this.props.enableFind&&i.a.createElement("div",{className:"controls__part"},i.a.createElement(b.b.FindButton,{featureTracker:this.props.featureTracker})),this.props.largeViewState!==O.c&&!this.props.fullscreenEnabled&&i.a.createElement("div",{className:"controls__part"},i.a.createElement(v.a,{featureTracker:this.props.featureTracker,largeViewPromoted:this.props.largeViewPromoted,largeViewEngaged:this.props.largeViewState===O.b,handleClick:function(){e.props.dispatch(E.d())}})),n&&i.a.createElement("div",{className:"controls__part controls__part--fullscreen-controls"},n))},t}(r.Component);A.displayName="Controls";var P=Object(o.b)(function(e){return{showIssuuBranding:w.F(e),canvasApi:e.canvasApi,enableFind:e.features.enableFind,currentPageNumbers:w.j(e).join("-"),currentPageSliderPosition:w.k(e),featureTracker:e.featureTracker,fullscreenEnabled:Object(y.d)(e),fullscreenIsSupported:e.fullscreen.supported,issuuBrandingFeature:w.q(e),issuuLinkTrackingQuery:w.r(e),pageCount:Object(x.d)(e).pageCount,pageSegments:Object(C.b)(e),resultMarkers:b.d.selectResultMarkers(e),fullscreenFeature:Object(y.e)(e),zoomFeature:w.G(e),zoomLevel:e.reader.zoomLevel,zoomSegments:Object(C.c)(e),largeViewPromoted:e.reader.largeViewPromoted,largeViewState:e.reader.largeViewState}},void 0,void 0,{pure:!1})(A)},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),i=n.n(r),o=n(106),a=n(39),s=n.n(a),u=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){window.ISSUU_READER_PAGE_SLIDER=this.refs.pageSlider},t.prototype.shouldComponentUpdate=function(e,t){return!(s()(this.props,e)&&s()(this.state,t))},t.prototype.render=function(){return i.a.createElement("div",{className:"page-controls"},i.a.createElement("span",{className:"page-controls__page-numbers"},this.props.currentPageNumbers," / ",this.props.pageCount),i.a.createElement("div",{className:"page-controls__slider"},i.a.createElement(o.a,{ref:"pageSlider",value:this.props.currentPageSliderPosition,onChange:this.props.pageSliderOnChange,onChangeStart:this.props.pageSliderOnChangeStart,onChangeEnd:this.props.pageSliderOnChangeEnd,locked:1===this.props.pageCount,segments:this.props.segments,markers:this.props.resultMarkers})))},t}(r.Component);u.displayName="PageControls"},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=1,i=function(e){function t(n,i,o){babelHelpers.classCallCheck(this,t);var a=babelHelpers.possibleConstructorReturn(this,e.call(this,n,i,o));return a._elementMouseDownHandler=function(e){a.options.isSimulatedMouseEvents(e)||a.isDeactivated()||(a.options.activeHandler=a,a.saveTargetElementOffset(),a.savePointer(r,e.pageX,e.pageY,e.timeStamp),a.saveInitialPinchDistance(),a.fireGestureStart(),a.registerTapHandlers(),a.targetElement.ownerDocument.addEventListener("mousemove",a._ownerDocumentMouseMoveHandler,!1),a.targetElement.ownerDocument.addEventListener("mouseup",a._ownerDocumentMouseUpHandler,!1))},a._ownerDocumentMouseMoveHandler=function(e){a.savePointer(r,e.pageX,e.pageY,e.timeStamp),a.saveInitialGestureIfUndefined(),a.fireGestureChange(),a.validateTapHandlers(),a.options.shouldInvokePreventDefault()&&e.preventDefault()},a._ownerDocumentMouseUpHandler=function(e){a.savePointer(r,e.pageX,e.pageY,e.timeStamp),a.fireGestureEnd(),a.executeTapHandlers(),a.deletePointer(r),a.options.shouldInvokePreventDefault()&&e.preventDefault(),a.options.resetInterception(),a._removeEventListenersFromOwnerDocument()},a._elementMouseMoveHandler=function(e){a.options.isSimulatedMouseEvents(e)||a.fireMouseMove(e)},a._elementMouseEnterHandler=function(e){a.options.isSimulatedMouseEvents(e)||a.fireMouseEnter(e)},a._elementMouseLeaveHandler=function(e){a.options.isSimulatedMouseEvents(e)||a.fireMouseLeave(e)},a.targetElement.addEventListener("mousedown",a._elementMouseDownHandler,!1),a.targetElement.addEventListener("mousemove",a._elementMouseMoveHandler,!1),a.targetElement.addEventListener("mouseenter",a._elementMouseEnterHandler,!1),a.targetElement.addEventListener("mouseleave",a._elementMouseLeaveHandler,!1),a}return babelHelpers.inherits(t,e),t.prototype.destroy=function(){this.targetElement.removeEventListener("mousedown",this._elementMouseDownHandler,!1),this.targetElement.removeEventListener("mousemove",this._elementMouseMoveHandler,!1),this.targetElement.removeEventListener("mouseenter",this._elementMouseEnterHandler,!1),this.targetElement.removeEventListener("mouseleave",this._elementMouseLeaveHandler,!1),this._removeEventListenersFromOwnerDocument()},t.prototype.reset=function(){e.prototype.reset.call(this),this._removeEventListenersFromOwnerDocument()},t.prototype._removeEventListenersFromOwnerDocument=function(){this.targetElement.ownerDocument.removeEventListener("mousemove",this._ownerDocumentMouseMoveHandler,!1),this.targetElement.ownerDocument.removeEventListener("mouseup",this._ownerDocumentMouseUpHandler,!1)},t}(n(138).a)},function(e,t,n){"use strict";function r(e){if(!e.getClientRects().length)return{top:0,left:0};var t=e.getBoundingClientRect();if(t.width||t.height){var n=e.ownerDocument.documentElement||{};return{top:t.top+window.pageYOffset-n.clientTop,left:t.left+window.pageXOffset-n.clientLeft}}return t}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=9999999999999;function i(e){return e>r?Math.floor(e/1e3):e<0?Math.floor(e+r):Math.floor(e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){function t(n,r,i){babelHelpers.classCallCheck(this,t);var o=babelHelpers.possibleConstructorReturn(this,e.call(this,n,r,i));return o._elementTouchStartHandler=function(e){o.isDeactivated()||(o.options.activeHandler=o,o.options.updateLastTouchEventTimeStamp(e),0===o.getPointerCount()&&o.saveTargetElementOffset(),o._saveChangedPointers(e),o.saveInitialPinchDistance(),o.saveInitialGestureIfUndefined(),o.fireGestureStart(),o.registerTapHandlers(),o.options.updateInterceptionWithTouchEvent(e),o.options.shouldInvokePreventDefault()&&e.preventDefault())},o._elementTouchMoveHandler=function(e){o.isDeactivated()||(o.options.updateLastTouchEventTimeStamp(e),0!==o._getValidChangedPointers(e).length&&(o._saveValidChangedPointers(e),o.saveInitialGestureIfUndefined(),o.options.updateInterceptionWithTouchEvent(e),o.options.hasBrowserIntercepted()?o.unregisterTapHandlers():(o.fireGestureChange(),o.validateTapHandlers()),o.options.shouldInvokePreventDefault()&&e.preventDefault()))},o._elementTouchEndHandler=function(e){if(!o.isDeactivated()){o.options.updateLastTouchEventTimeStamp(e);var t=o._getValidChangedPointers(e);if(0!==t.length){o._saveValidChangedPointers(e),o.options.updateInterceptionWithTouchEvent(e);var n=!1;o.getPointerCount()===t.length?(o.fireGestureEnd(),o.executeTapHandlers(),o._deleteValidChangedPointers(e),n=!0):(o._deleteValidChangedPointers(e),o.fireGestureStart(),o.saveInitialPinchDistance()),o.options.shouldInvokePreventDefault()&&e.preventDefault(),n&&o.options.resetInterception()}}},o._elementTouchCancelHandler=function(e){o._elementTouchEndHandler(e)},o.targetElement.addEventListener("touchstart",o._elementTouchStartHandler,!1),o.targetElement.addEventListener("touchmove",o._elementTouchMoveHandler,!1),o.targetElement.addEventListener("touchend",o._elementTouchEndHandler,!1),o.targetElement.addEventListener("touchcancel",o._elementTouchCancelHandler,!1),o}return babelHelpers.inherits(t,e),t.prototype.destroy=function(){this.targetElement.removeEventListener("touchstart",this._elementTouchStartHandler,!1),this.targetElement.removeEventListener("touchmove",this._elementTouchMoveHandler,!1),this.targetElement.removeEventListener("touchend",this._elementTouchEndHandler,!1),this.targetElement.removeEventListener("touchcancel",this._elementTouchCancelHandler,!1)},t.prototype._getValidChangedPointers=function(e){for(var t=[],n=0;n<e.changedTouches.length;n++){var r=e.changedTouches.item(n);r&&this.isValidPointer(r.identifier)&&t.push(r)}return t},t.prototype._saveValidChangedPointers=function(e){var t=this;this._getValidChangedPointers(e).forEach(function(n){t.savePointer(n.identifier,n.pageX,n.pageY,e.timeStamp)})},t.prototype._saveChangedPointers=function(e){for(var t=0;t<e.changedTouches.length;t++){var n=e.changedTouches.item(t);n&&this.savePointer(n.identifier,n.pageX,n.pageY,e.timeStamp)}},t.prototype._deleteValidChangedPointers=function(e){var t=this;this._getValidChangedPointers(e).forEach(function(e){t.deletePointer(e.identifier)})},t}(n(138).a)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=2,i=function(e){function t(n,i,o){babelHelpers.classCallCheck(this,t);var a=babelHelpers.possibleConstructorReturn(this,e.call(this,n,i,o));return a._elementPointerDownHandler=function(e){if(!a.isDeactivated()){var t=e;a.options.activeHandler=a,a.options.updateLastPointerEventTimeStamp(t);var n=t.pointerId,r=t.pageX,i=t.pageY;if(a.options.shouldInvokeSetPointerCapture())try{a.targetElement.setPointerCapture?a.targetElement.setPointerCapture(""+n):a.targetElement.msSetPointerCapture&&a.targetElement.msSetPointerCapture(n)}catch(e){}0===a.getPointerCount()&&a.saveTargetElementOffset(),a.savePointer(n,r,i,e.timeStamp),a.saveInitialPinchDistance(),a.saveInitialGestureIfUndefined(),a.fireGestureStart(),a.registerTapHandlers()}},a._elementPointerMoveHandler=function(e){if(!a.isDeactivated()){var t=e;a.options.updateLastPointerEventTimeStamp(t),a.fireMouseMove(t);var n=t.pointerId,i=t.pageX,o=t.pageY;a.isValidPointer(n)&&(a.isPointerMoved(n,i,o,r)&&(a.savePointer(n,i,o,e.timeStamp),a.saveInitialGestureIfUndefined(),a.fireGestureChange()),a.validateTapHandlers(),a.options.shouldInvokePreventDefault()&&e.preventDefault())}},a._elementPointerUpHandler=function(e){if(!a.isDeactivated()){var t=e;a.options.updateLastPointerEventTimeStamp(t);var n=t.pointerId,r=t.pageX,i=t.pageY;if(a.isValidPointer(n)){a.savePointer(n,r,i,e.timeStamp);var o=!1;1===a.getPointerCount()?(a.fireGestureEnd(),a.executeTapHandlers(),a.deletePointer(n),o=!0):(a.fireGestureStart(),a.deletePointer(n),a.saveInitialPinchDistance()),a.options.shouldInvokePreventDefault()&&e.preventDefault(),o&&a.options.resetInterception()}}},a._elementPointerCancelHandler=function(e){a.unregisterTapHandlers(),a._elementPointerUpHandler(e)},a._elementPointerEnterHandler=function(e){var t=e;a.options.updateLastPointerEventTimeStamp(t),a.fireMouseEnter(t)},a._elementPointerLeaveHandler=function(e){var t=e;a.options.updateLastPointerEventTimeStamp(t),a.fireMouseLeave(t)},a.pointerEventTypes=function(){var e=!!window.PointerEvent;return{DOWN:e?"pointerdown":"MSPointerDown",MOVE:e?"pointermove":"MSPointerMove",UP:e?"pointerup":"MSPointerUp",CANCEL:e?"pointercancel":"MSPointerCancel",ENTER:e?"pointerenter":"MSPointerEnter",LEAVE:e?"pointerleave":"MSPointerLeave"}}(),a.targetElement.addEventListener(a.pointerEventTypes.DOWN,a._elementPointerDownHandler,!1),a.targetElement.addEventListener(a.pointerEventTypes.MOVE,a._elementPointerMoveHandler,!1),a.targetElement.addEventListener(a.pointerEventTypes.UP,a._elementPointerUpHandler,!1),a.targetElement.addEventListener(a.pointerEventTypes.CANCEL,a._elementPointerCancelHandler,!1),a.targetElement.addEventListener(a.pointerEventTypes.ENTER,a._elementPointerEnterHandler,!1),a.targetElement.addEventListener(a.pointerEventTypes.LEAVE,a._elementPointerLeaveHandler,!1),a}return babelHelpers.inherits(t,e),t.prototype.destroy=function(){this.targetElement.removeEventListener(this.pointerEventTypes.DOWN,this._elementPointerDownHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.MOVE,this._elementPointerMoveHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.UP,this._elementPointerUpHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.CANCEL,this._elementPointerCancelHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.ENTER,this._elementPointerEnterHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.LEAVE,this._elementPointerLeaveHandler,!1)},t}(n(138).a)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(139),i=n(26),o=1,a=100,s=function(e){function t(n,r,s){babelHelpers.classCallCheck(this,t);var u=babelHelpers.possibleConstructorReturn(this,e.call(this,n,r,s));return u._totalDeltaY=0,u._idleTimeoutId=null,u._elementGestureStartHandler=function(e){if(!u.isDeactivated()){u.options.activeHandler=u,u.saveTargetElementOffset();var t=e.pageX,n=e.pageY;u.savePointer(o,t,n,e.timeStamp),u.fireGestureStart(),e.preventDefault()}},u._elementGestureChangeHandler=function(e){if(!u.isDeactivated()){var t=e.pageX,n=e.pageY;u.savePointer(o,t,n,e.timeStamp);var r=e.scale;!isNaN(r)&&isFinite(r)&&(u.initialGesture===i.f&&(u.initialGesture=r>1?i.g:i.h),u.fireGestureChange(r)),u.options.shouldInvokePreventDefault()&&e.preventDefault()}},u._elementGestureEndHandler=function(e){if(!u.isDeactivated()){var t=e.pageX,n=e.pageY;u.savePointer(o,t,n,e.timeStamp),u.fireGestureEnd(),u.deletePointer(o),u.options.shouldInvokePreventDefault()&&e.preventDefault(),u.options.resetInterception()}},u._elementWheelHandler=function(e){if(e.ctrlKey&&!u.isDeactivated()){u.options.activeHandler=u,u.savePointer(o,e.pageX,e.pageY,e.timeStamp),u.initialGesture===i.f&&(u.initialGesture=e.deltaY>0?i.h:i.g);var t=!1;if(0===u._totalDeltaY)u.fireGestureStart(),u._totalDeltaY+=e.deltaY,u._resetIdleTimeout();else if(0===e.deltaY)u._totalDeltaY=0,u.fireGestureEnd(),u.deletePointer(o),t=!0,u._cancelIdleTimeout();else{u._totalDeltaY+=e.deltaY;var n=1-u._totalDeltaY/a;u.fireGestureChange(n),u._resetIdleTimeout()}u.options.shouldInvokePreventDefault()&&e.preventDefault(),t&&u.options.resetInterception()}},u.targetElement.addEventListener("gesturestart",u._elementGestureStartHandler,!1),u.targetElement.addEventListener("gesturechange",u._elementGestureChangeHandler,!1),u.targetElement.addEventListener("gestureend",u._elementGestureEndHandler,!1),u.targetElement.addEventListener("wheel",u._elementWheelHandler,!1),u}return babelHelpers.inherits(t,e),t.prototype.destroy=function(){this.targetElement.removeEventListener("gesturestart",this._elementGestureStartHandler,!1),this.targetElement.removeEventListener("gesturechange",this._elementGestureChangeHandler,!1),this.targetElement.removeEventListener("gestureend",this._elementGestureEndHandler,!1),this.targetElement.removeEventListener("wheel",this._elementWheelHandler,!1)},t.prototype.reset=function(){e.prototype.reset.call(this),this._cancelIdleTimeout(),this._totalDeltaY=0,this._idleTimeoutId=null},t.prototype._resetIdleTimeout=function(){var e=this;this._cancelIdleTimeout(),this._idleTimeoutId=window.setTimeout(function(){e._idleTimeoutId=null,e._onIdle()},250)},t.prototype._cancelIdleTimeout=function(){null!==this._idleTimeoutId&&(window.clearTimeout(this._idleTimeoutId),this._idleTimeoutId=null)},t.prototype._onIdle=function(){this._totalDeltaY=0,this.fireGestureEnd(),this.deletePointer(o),this.options.resetInterception()},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(139),i=n(26),o=1,a=function(e){function t(n,r,a){babelHelpers.classCallCheck(this,t);var s=babelHelpers.possibleConstructorReturn(this,e.call(this,n,r,a));return s._totalDeltaY=0,s._idleTimeoutId=null,s._elementWheelHandler=function(e){if(!e.ctrlKey&&s.callbacks.catchWheelEvent&&s.callbacks.catchWheelEvent()&&!s.isDeactivated()){if(s.options.activeHandler=s,s.savePointer(o,e.pageX,e.pageY,e.timeStamp),s.initialGesture===i.f&&(s.initialGesture=e.deltaY>0?i.h:i.g),0===s._totalDeltaY)s.fireGestureStart(),s._totalDeltaY+=e.deltaY;else{s._totalDeltaY+=e.deltaY;var t=1-s._totalDeltaY/200;s.fireGestureChange(t)}s._resetIdleTimeout(),s.options.shouldInvokePreventDefault()&&e.preventDefault()}},s.targetElement.addEventListener("wheel",s._elementWheelHandler,!1),s}return babelHelpers.inherits(t,e),t.prototype.destroy=function(){this.targetElement.removeEventListener("wheel",this._elementWheelHandler,!1)},t.prototype.reset=function(){e.prototype.reset.call(this),this._cancelIdleTimeout(),this._totalDeltaY=0,this._idleTimeoutId=null},t.prototype._resetIdleTimeout=function(){var e=this;this._cancelIdleTimeout(),this._idleTimeoutId=window.setTimeout(function(){e._idleTimeoutId=null,e._onIdle()},250)},t.prototype._cancelIdleTimeout=function(){null!==this._idleTimeoutId&&(window.clearTimeout(this._idleTimeoutId),this._idleTimeoutId=null)},t.prototype._onIdle=function(){this._totalDeltaY=0,this.fireGestureEnd(),this.deletePointer(o),this.options.resetInterception()},t}(r.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),i=n.n(r),o=n(39),a=n.n(o),s=n(48),u=n(106),c=n(24),l=n(10),d=n(366),p=n(367),h=n(7),f=function(e){function t(){var n,r,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),r.trackOpportunities=function(){r.isZoomControlsVisible()&&(r.props.featureTracker.opportunity(h.a.BUTTON_ZOOMIN),r.props.featureTracker.opportunity(h.a.BUTTON_ZOOMOUT),r.props.featureTracker.opportunity(h.a.SLIDER_ZOOM))},r.isZoomControlsVisible=function(){var e=window.getComputedStyle(r.refs.zoomControls.parentNode);return e&&"none"!==e.display},r.handleZoomInButtonClick=function(){r.props.currentZoomLevel>=c.b||(r.props.zoomSliderOnChange(r.props.currentZoomLevel+1),r.props.featureTracker.usage(h.a.BUTTON_ZOOMIN),r.props.dispatch(l.a()))},r.handleZoomOutButtonClick=function(){r.props.zoomSliderOnChange(r.props.currentZoomLevel-1),r.props.featureTracker.usage(h.a.BUTTON_ZOOMOUT),r.props.dispatch(l.a())},r.handleZoomSliderChangeStart=function(){r.props.zoomSliderOnChangeStart(),r._zoomBeforeSliderStart=r.props.currentZoomLevel},r.handleZoomSliderChange=function(e){var t=(c.b-c.c)*(e/100)+c.c;r.props.zoomSliderOnChange(t)},r.handleZoomSliderChangeEnd=function(){r.props.zoomSliderOnChangeEnd(),r.props.currentZoomLevel!==r._zoomBeforeSliderStart&&r.props.featureTracker.usage(h.a.SLIDER_ZOOM)},i=n,babelHelpers.possibleConstructorReturn(r,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){this.trackOpportunities()},t.prototype.shouldComponentUpdate=function(e,t){return!(a()(this.props,e)&&a()(this.state,t))},t.prototype.componentDidUpdate=function(){this.trackOpportunities()},t.prototype.render=function(){var e=100/(c.b-c.c)*(this.props.currentZoomLevel-c.c);return i.a.createElement("div",{className:"zoom-controls",ref:"zoomControls"},i.a.createElement("div",{className:"zoom-controls__button","data-tooltip":"Zoom out"},i.a.createElement(s.a,{id:"ird3-button-zoomout",className:"svg-btn",onClick:this.handleZoomOutButtonClick,content:d.a})),i.a.createElement("div",{className:"zoom-controls__slider"},i.a.createElement(u.a,{value:e,onChange:this.handleZoomSliderChange,onChangeStart:this.handleZoomSliderChangeStart,onChangeEnd:this.handleZoomSliderChangeEnd,segments:this.props.segments,type:u.a.SLIDER_TYPE_ALTERNATE})),i.a.createElement("div",{className:"zoom-controls__button","data-tooltip":"Zoom in"},i.a.createElement(s.a,{id:"ird3-button-zoomin",className:"svg-btn",onClick:this.handleZoomInButtonClick,content:p.a})))},t}(r.Component);f.displayName="ZoomControls"},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r='transform="translate(18.000000, 18.000000) rotate(-270.000000) translate(-18.000000, -18.000000) " x="17" y="10" width="2" height="16" rx="2"',i='\n    <svg width="36px" height="36px" viewBox="0 0 36 36">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <rect '+r+'></rect>\n            </g>\n        </g>\n        <rect class="shadow" '+r+'></rect>\n        <rect class="icon" '+r+"></rect>\n    </svg>\n"},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r='x="17" y="10" width="2" height="16" rx="2"',i='transform="translate(18.000000, 18.000000) scale(-1, -1) rotate(-270.000000) translate(-18.000000, -18.000000) " x="17" y="10" width="2" height="16" rx="2"',o='\n    <svg width="100%" height="100%" viewBox="0 0 36 36">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <rect '+r+"></rect>\n                <rect "+i+'></rect>\n            </g>\n        </g>\n        <rect class="shadow" '+r+'></rect>\n        <rect class="shadow" '+i+'></rect>\n        <rect class="icon" '+r+'></rect>\n        <rect class="icon" '+i+"></rect>\n    </svg>\n"},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),i=n.n(r),o=n(48),a=n(178),s=n(179),u=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t.prototype.shouldComponentUpdate=function(e,t){return this.props.fullscreenEnabled!==e.fullscreenEnabled},t.prototype.render=function(){var e=this.props.fullscreenEnabled?a.a:s.a,t=this.props.fullscreenEnabled?"Exit":"Fullscreen";return i.a.createElement("div",{className:"fullscreen-controls"},i.a.createElement("div",{className:"fullscreen-controls__button","data-tooltip":t},i.a.createElement(o.a,{id:"ird3-button-fullscreen",className:"svg-btn ",onClick:this.props.toggleFullscreen,content:e})))},t}(r.Component);u.displayName="FullscreenControls"},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),i=n.n(r),o=n(48),a=n(23),s=n.n(a),u=n(370),c=n(371),l=n(7),d=function(e){function t(n){babelHelpers.classCallCheck(this,t);var r=babelHelpers.possibleConstructorReturn(this,e.call(this,n));return r.handleClick=r.handleClick.bind(r),r}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){this.trackOpportunities()},t.prototype.componentDidUpdate=function(){this.trackOpportunities()},t.prototype.trackUsage=function(){var e=this.props.largeViewEngaged?l.a.BUTTON_DISENGAGE_LARGEVIEW:l.a.BUTTON_ENGAGE_LARGEVIEW;this.props.featureTracker.usage(e)},t.prototype.trackOpportunities=function(){var e=this.props.largeViewEngaged?l.a.BUTTON_DISENGAGE_LARGEVIEW:l.a.BUTTON_ENGAGE_LARGEVIEW;this.props.featureTracker.opportunity(e)},t.prototype.handleClick=function(){this.trackUsage(),this.props.handleClick()},t.prototype.render=function(){var e=this.props,t=e.largeViewEngaged,n=e.largeViewPromoted,r=t?u.a:c.a,a=t?"Standard View":"Larger View";return i.a.createElement("div",{className:s()("large-view-controls",{"large-view-controls--promoted":n})},i.a.createElement("div",{className:"large-view-controls__button","data-tooltip":a},i.a.createElement(o.a,{id:"ird3-button-large-view",className:"svg-btn ",onClick:this.handleClick,content:r})))},t}(i.a.PureComponent);d.displayName="LargeViewControls"},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r='\n<svg width="100%" height="100%" viewBox="0 0 36 36">\n  <path\n    class="shadow"\n    d="M12 15v6h12v-6H12zm-1-2h14c.552 0 1 .448 1 1v8c0 .552-.448 1-1 1H11c-.552 0-1-.448-1-1v-8c0-.552.448-1 1-1z"\n    fill-rule="nonzero"/>\n  <path\n    class="icon"\n    d="M12 15v6h12v-6H12zm-1-2h14c.552 0 1 .448 1 1v8c0 .552-.448 1-1 1H11c-.552 0-1-.448-1-1v-8c0-.552.448-1 1-1z"\n    fill-rule="nonzero"/>\n</svg>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r='\n<svg width="100%" height="100%" viewBox="0 0 36 36">\n  <path\n    class="shadow"\n    d="M10 13v10h16V13H10zm-1-2h18c.552 0 1 .448 1 1v12c0 .552-.448 1-1 1H9c-.552 0-1-.448-1-1V12c0-.552.448-1 1-1z"\n    fill-rule="nonzero"/>\n  <path\n    class="icon"\n    d="M10 13v10h16V13H10zm-1-2h18c.552 0 1 .448 1 1v12c0 .552-.448 1-1 1H9c-.552 0-1-.448-1-1V12c0-.552.448-1 1-1z"\n    fill-rule="nonzero"/>\n</svg>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r='d="M6.83590808,3.64127016 C5.02752664,3.6236996 3.54764132,5.11190524 3.53049341,6.96464718 C3.5133455,8.81760081 4.96575284,10.3339617 6.77413428,10.3515323 C8.58251571,10.3688911 10.0626076,8.88089718 10.0795489,7.02815524 C10.0966969,5.17520161 8.64428951,3.65862903 6.83590808,3.64127016 L6.83590808,3.64127016 Z M6.78942278,8.69524194 C5.87376569,8.68635081 5.13826495,7.91853831 5.14694221,6.9803125 C5.15561947,6.04208669 5.90496249,5.28845766 6.82061958,5.29734879 C7.73627667,5.30623992 8.4717774,6.07405242 8.46310015,7.01248992 C8.45442289,7.95050403 7.70507987,8.70413306 6.78942278,8.69524194 L6.78942278,8.69524194 Z"',i='d="M6.75843258,0.424375 C6.74830911,0.424375 6.73818565,0.424798387 6.72785558,0.424798387 L6.72785558,0.424163306 L0.856245804,0.424163306 C0.562045511,0.424163306 0.321148361,0.67078629 0.321148361,0.972449597 L0.321148361,7.02053427 C0.321148361,10.6633569 3.2032369,13.6164819 6.75843258,13.6164819 C10.3138349,13.6164819 13.1957168,10.6633569 13.1957168,7.02053427 C13.1957168,3.3775 10.3138349,0.424375 6.75843258,0.424375 L6.75843258,0.424375 Z M2.33592452,6.92929435 C2.35927047,4.40019153 4.37921167,2.36920363 6.84747775,2.39291331 C9.31574383,2.41683468 11.2980836,4.48677419 11.274531,7.01566532 C11.2513917,9.54455645 9.23124389,11.5755444 6.76318441,11.551623 C4.29491833,11.5277016 2.31257857,9.45797379 2.33592452,6.92929435 L2.33592452,6.92929435 Z"',o='d="M1.18803132,0.461209677 C1.75267275,0.461209677 2.22289738,0.943235887 2.22289738,1.52137097 C2.22289738,2.09950605 1.75267275,2.58110887 1.18803132,2.58110887 C0.624009688,2.58110887 0.153578461,2.09950605 0.153578461,1.52137097 C0.153578461,0.943235887 0.624009688,0.461209677 1.18803132,0.461209677 L1.18803132,0.461209677 Z M1.18803132,12.5656351 C0.661197927,12.5656351 0.30419083,12.160877 0.30419083,11.6597984 L0.30419083,4.79775202 C0.30419083,4.29709677 0.680411851,3.89212702 1.18803132,3.89212702 C1.69627059,3.89212702 2.07228501,4.29709677 2.07228501,4.79775202 L2.07228501,11.6597984 C2.07228501,12.160877 1.71486471,12.5656351 1.18803132,12.5656351 L1.18803132,12.5656351 Z"',a='d="M7.56498795,12.6429032 C6.37971612,12.6429032 5.32646254,12.2574093 4.5742271,11.6597984 C4.31101701,11.4478931 4.19779948,11.1587198 4.19779948,10.9080746 C4.19779948,10.522369 4.49902422,10.2715121 4.87524524,10.2715121 C5.17585017,10.2715121 5.36427059,10.3877319 5.57107852,10.5420565 C6.07890458,10.9273387 6.79353858,11.2931452 7.69679959,11.2931452 C8.71265833,11.2931452 9.25808584,10.9080746 9.25808584,10.3104637 C9.25808584,9.65548387 8.73125245,9.40462702 7.41437558,9.03797379 C5.10085389,8.40268145 4.25440825,7.59231855 4.25440825,6.20509073 C4.25440825,4.75943548 5.5522778,3.81485887 7.58399527,3.81485887 C8.35503143,3.81485887 9.2200712,4.00771169 9.91631767,4.35446573 C10.4241437,4.60511089 10.781564,4.91333669 10.781564,5.29904234 C10.781564,5.64579637 10.5935568,5.97392137 10.1045315,5.97392137 C9.85991551,5.97392137 9.61529954,5.858125 9.33328872,5.70337702 C8.80624873,5.41462702 8.22321978,5.26114919 7.54639383,5.26114919 C6.60573797,5.26114919 5.96610026,5.51137097 5.96610026,6.18561492 C5.96610026,6.84144153 6.53053509,7.05292339 7.8848068,7.45789315 C9.91631767,8.05529234 10.9697779,8.61416331 10.9697779,10.1754032 C10.9697779,11.602006 9.80351335,12.6429032 7.56498795,12.6429032"',s='d="M16.0804749,12.6429032 C14.8952031,12.6429032 13.8415363,12.2574093 13.0893009,11.6597984 C12.8258842,11.4478931 12.7130799,11.1587198 12.7130799,10.9080746 C12.7130799,10.522369 13.014098,10.2715121 13.390319,10.2715121 C13.6913372,10.2715121 13.8791378,10.3877319 14.0863589,10.5420565 C14.5939784,10.9273387 15.3086124,11.2931452 16.2114602,11.2931452 C17.2275255,11.2931452 17.772953,10.9080746 17.772953,10.3104637 C17.772953,9.65548387 17.2465328,9.40462702 15.9298626,9.03797379 C13.6159277,8.40268145 12.7696886,7.59231855 12.7696886,6.20509073 C12.7696886,4.75943548 14.0677648,3.81485887 16.0990691,3.81485887 C16.8703118,3.81485887 17.7357648,4.00771169 18.4318047,4.35446573 C18.9392175,4.60511089 19.297051,4.91333669 19.297051,5.29904234 C19.297051,5.64579637 19.1088372,5.97392137 18.6193987,5.97392137 C18.3749893,5.97392137 18.1303733,5.858125 17.8485691,5.70337702 C17.3219423,5.41462702 16.7385002,5.26114919 16.0614676,5.26114919 C15.1208118,5.26114919 14.4813806,5.51137097 14.4813806,6.18561492 C14.4813806,6.84144153 15.0454023,7.05292339 16.4000872,7.45789315 C18.4318047,8.05529234 19.4850582,8.61416331 19.4850582,10.1754032 C19.4850582,11.602006 18.3185871,12.6429032 16.0804749,12.6429032"',u='d="M21.1926182,8.61416331 L21.1926182,4.79775202 C21.1926182,4.29709677 21.5878466,3.89212702 22.0768719,3.89212702 C22.5658973,3.89212702 22.9611256,4.29709677 22.9611256,4.79775202 L22.9611256,8.82606855 C22.9611256,10.0409778 23.8823609,10.9849194 25.1246547,10.9849194 C26.3659155,10.9849194 27.3063648,10.0409778 27.3063648,8.82606855 L27.3063648,4.79775202 C27.3063648,4.29709677 27.7015931,3.89212702 28.1902052,3.89212702 C28.679024,3.89212702 29.0740457,4.29709677 29.0740457,4.79775202 L29.0740457,8.61416331 C29.0740457,10.8697581 27.4001618,12.6429032 25.1246547,12.6429032 C22.8481147,12.6429032 21.1926182,10.8697581 21.1926182,8.61416331"',c='d="M31.0324197,8.61416331 L31.0324197,4.79775202 C31.0324197,4.29709677 31.4272349,3.89212702 31.9164668,3.89212702 C32.405079,3.89212702 32.8003073,4.29709677 32.8003073,4.79775202 L32.8003073,8.82606855 C32.8003073,10.0409778 33.7225756,10.9849194 34.9636298,10.9849194 C36.2048906,10.9849194 37.1455465,10.0409778 37.1455465,8.82606855 L37.1455465,4.79775202 C37.1455465,4.29709677 37.5407748,3.89212702 38.0298002,3.89212702 C38.5192387,3.89212702 38.9136406,4.29709677 38.9136406,4.79775202 L38.9136406,8.61416331 C38.9136406,10.8697581 37.2401699,12.6429032 34.9636298,12.6429032 C32.6872964,12.6429032 31.0324197,10.8697581 31.0324197,8.61416331"',l='\n<svg width="100%" height="100%" viewBox="-2 0 60 14">\n    <g class="logo__icon">\n        <path class="shadow" '+r+'></path>\n        <path class="shadow" '+i+'></path>\n        <path class="icon" '+r+'></path>\n        <path class="icon" '+i+'></path>\n    </g>\n    <g class="logo__title" transform="translate(17.000000, 0.000000)">\n        <path class="shadow" '+o+'></path>\n        <path class="shadow" '+a+'></path>\n        <path class="shadow" '+s+'></path>\n        <path class="shadow" '+u+'></path>\n        <path class="shadow" '+c+'></path>\n\n        <path class="icon" '+o+'></path>\n        <path class="icon" '+a+'></path>\n        <path class="icon" '+s+'></path>\n        <path class="icon" '+u+'></path>\n        <path class="icon" '+c+"></path>\n    </g>\n</svg>\n"},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(23),a=n.n(o),s=n(49),u=n(374),c=n(152),l=n(173);t.a=function(e){var t=e.downloadButtonStatus,n=e.onDownloadButtonClick,r=a()("header-controls__button","header-controls__download",{"is-visible":!0,"is-loading":t===s.b,"is-failure":t===s.a,spinner:t===s.b}),o=void 0,d=void 0;switch(t){case s.b:o=l.a,d="Downloading";break;case s.a:o=c.a,d="Failed to download";break;default:o=u.a,d="Download"}return i.a.createElement("div",{className:"header-controls__item"},i.a.createElement("div",{className:"header-controls__download--tooltip header-controls__download-protected--tooltip","data-tooltip":d},i.a.createElement("div",{className:r,onClick:n,dangerouslySetInnerHTML:{__html:o}})))}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r='d="M7.593 13.866c.07.072.153.13.247.165.08.04.16.06.26.06l.01.005c.18 0 .36-.08.5-.223l4.037-4.016c.282-.253.282-.688 0-.967-.258-.277-.697-.277-.978 0L8.8 11.723V.732C8.8.357 8.48.04 8.1.04 7.72.04 7.4.356 7.4.73v10.992L4.52 8.885c-.26-.277-.7-.277-.98 0-.28.258-.28.693 0 .97l4.053 4.01zm6.398 3.228L2 17.1c-2.02 0-1.24-1.356.02-1.356l11.975-.005c1.26 0 2.024 1.36.005 1.36l-.01-.006z" fill="#F2F2F2" fill-rule="evenodd"',i='<svg width="16" height="18" viewBox="-2 0 20 18" xmlns="http://www.w3.org/2000/svg">\n  <path class="shadow" '+r+'></path>\n  <path class="icon" '+r+"></path>\n</svg>"},function(e,t,n){"use strict";n.d(t,"a",function(){return _});var r=n(0),i=n.n(r),o=n(14),a=n.n(o),s=n(23),u=n.n(s),c=n(75),l=n(131),d=n(63),p=n(57),h=n(8),f=n(10),m=n(45),g=n(181),v=n(7),_=function(e){function t(){var n,r,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),r.onMoreToggleClick=function(){r.props.readMoreDropdownVisible?r.props.dispatch(Object(m.e)()):r.props.readMorePlugin&&(r.props.readMorePlugin.clearButtonUnreadCount(),r.props.dispatch(Object(m.i)()),r.props.featureTracker.usage(v.a.BUTTON_MORE)),r.props.dispatch(Object(f.a)())},r.onNavigationLinkClick=function(){if(r.props.navigationLinkFeature){var e=r.props.navigationLinkFeature.url;r.props.dispatch(Object(f.a)()),r.props.featureTracker.usage(v.a.NAVIGATION_LINK),window.open(e,"_self")}},r.toggleShareDropdown=function(e){r.props.dispatch(Object(g.b)(e))},r.trackOpportunities=function(){r.props.shouldRenderReadMoreButton&&r.props.featureTracker.opportunity(v.a.BUTTON_MORE),r.props.shouldRenderShareButton&&r.props.featureTracker.opportunity(v.a.BUTTON_SHARE),r.props.shouldRenderDownloadButton&&r.props.featureTracker.opportunity(v.a.BUTTON_DOWNLOAD),r.props.navigationLinkFeature&&r.props.featureTracker.opportunity(v.a.NAVIGATION_LINK)},i=n,babelHelpers.possibleConstructorReturn(r,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){var e=this;this.inputHandler=new c.a(a.a.findDOMNode(this.refs.headerControlsContainer),{onMouseEnter:function(t){e.props.isVisible&&e.props.dispatch(Object(h.l)(!0))},onMouseLeave:function(t){e.props.dispatch(Object(h.l)(!1))}}),this.trackOpportunities()},t.prototype.componentDidUpdate=function(e){this.trackOpportunities()},t.prototype.render=function(){var e=u()("header-controls",{"is-visible":this.props.isVisible}),t=u()("header-controls__share-dropdown-wrapper",{"is-visible":this.props.shareDropdownVisible}),n=u()({"is-visible":!p.a.isMobile()});return i.a.createElement("div",{ref:"headerControlsContainer",className:e},i.a.createElement("div",{className:"header-controls__background"}),i.a.createElement("div",{className:"header-controls__items"},this.props.navigationLinkFeature&&i.a.createElement("div",{className:"header-controls__item"},i.a.createElement("div",{className:"header-controls__navigation-link",onClick:this.onNavigationLinkClick},i.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.navigationLinkFeature.icon}}),this.props.navigationLinkFeature.text&&i.a.createElement("span",{className:n},this.props.navigationLinkFeature.text))),this.props.shouldRenderDownloadButton&&i.a.createElement(d.e,{featureTracker:this.props.featureTracker}),i.a.createElement("div",{className:"header-controls__item header-controls__item--spacer"}),this.props.shouldRenderReadMoreButton&&i.a.createElement("div",{className:u()("header-controls__item",{"header-controls__item--centered":p.a.isMobile()&&this.props.readMoreButtonCentered})},i.a.createElement("div",{className:u()("header-controls__more-toggle",{"header-controls__more-toggle--activated":this.props.readMoreDropdownVisible}),onClick:this.onMoreToggleClick},i.a.createElement("span",{className:"header-controls__more-toggle-text-wrapper"},"See More",this.props.readMoreButtonUnreadCount>0&&i.a.createElement("div",{className:"header-controls__morecount"},this.props.readMoreButtonUnreadCount)))),this.props.shouldRenderShareButton&&i.a.createElement("div",{className:"header-controls__item"},i.a.createElement(l.a,{dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,toggleShareDropdown:this.toggleShareDropdown}),i.a.createElement("div",{className:t},i.a.createElement(l.b,{dispatch:this.props.dispatch,documentTitle:this.props.documentTitle,documentUrl:this.props.documentUrl,coverImageUrl:this.props.coverImageUrl,featureTracker:this.props.featureTracker,toggleShareDropdown:this.toggleShareDropdown,visible:this.props.shareDropdownVisible})))))},t}(r.Component);_.displayName="HeaderControls"},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r='\n  <svg width="17" height="18" viewBox="0 0 17 18" xmlns="http://www.w3.org/2000/svg">\n    <path class="icon" d="M16.082.34H.964c-.518 0-.938.42-.938.94v15.116c0 .518.42.938.938.938h8.14v-6.58H6.887V8.188h2.215V6.296c0-2.195 1.34-3.39 3.298-3.39.94 0 1.745.07 1.98.1v2.295h-1.358c-1.064 0-1.27.507-1.27 1.25v1.637h2.54l-.332 2.563h-2.21v6.58h4.332c.518 0 .938-.42.938-.937V1.28c0-.52-.42-.94-.938-.94" fill-rule="evenodd"></path>\n  </svg>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r='\n  <svg width="21" height="18" viewBox="0 0 21 18" xmlns="http://www.w3.org/2000/svg">\n    <g fill="none" fill-rule="evenodd">\n      <path d="M-11.12-12.286h42.24v42.24h-42.24z"/>\n      <path class="icon" d="M0 15.526c1.757 1.122 3.886 1.683 6.39 1.683 1.22 0 2.39-.162 3.506-.483 1.116-.322 2.106-.774 2.97-1.358.853-.572 1.622-1.238 2.31-2 .686-.76 1.247-1.577 1.683-2.45.904-1.816 1.356-3.64 1.356-5.47v-.542c.812-.584 1.502-1.3 2.07-2.145-.818.36-1.618.58-2.397.66.89-.526 1.502-1.29 1.832-2.294-.852.49-1.727.826-2.625 1.003-.403-.413-.87-.733-1.397-.96-.528-.226-1.083-.34-1.664-.34-1.15 0-2.128.403-2.937 1.206-.81.803-1.214 1.776-1.214 2.917 0 .374.03.692.09.955C8.27 5.82 6.68 5.407 5.2 4.672S2.457 2.937 1.407 1.67C1.03 2.313.842 2.983.842 3.678c0 .695.165 1.345.495 1.948.33.604.786 1.096 1.367 1.477-.667-.02-1.294-.19-1.882-.512v.05c0 .99.315 1.867.946 2.628.63.76 1.428 1.236 2.392 1.426-.396.1-.766.148-1.11.148-.217 0-.475-.026-.772-.08.264.835.755 1.52 1.47 2.058.718.538 1.518.81 2.403.817-1.63 1.305-3.35 1.958-5.16 1.958-.376 0-.706-.023-.99-.07z"/>\n    </g>\n  </svg>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r='\n  <svg width="18" height="19" viewBox="0 0 18 19" xmlns="http://www.w3.org/2000/svg">\n    <g fill="none" fill-rule="evenodd">\n      <path d="M-11.695-11.286h42.24v42.24h-42.24z"/>\n      <path class="icon" d="M8.898.796C4.028.796.078 4.72.078 9.558c0 3.588 2.172 6.67 5.28 8.025-.025-.612-.005-1.347.153-2.012l1.136-4.773s-.282-.56-.282-1.387c0-1.298.758-2.268 1.7-2.268.803 0 1.19.6 1.19 1.316 0 .8-.513 2-.778 3.11-.22.928.47 1.686 1.392 1.686 1.67 0 2.796-2.132 2.796-4.658 0-1.92-1.302-3.357-3.67-3.357-2.675 0-4.34 1.98-4.34 4.194 0 .764.225 1.302.58 1.72.163.19.186.267.127.487-.04.162-.14.55-.18.704-.058.222-.238.302-.44.22-1.233-.5-1.806-1.84-1.806-3.348 0-2.49 2.112-5.473 6.303-5.473 3.367 0 5.583 2.42 5.583 5.02 0 3.436-1.923 6.004-4.76 6.004-.95 0-1.846-.51-2.153-1.092 0 0-.512 2.02-.62 2.408-.188.676-.554 1.35-.888 1.877.792.233 1.63.36 2.498.36 4.87 0 8.82-3.923 8.82-8.762 0-4.84-3.95-8.762-8.82-8.762z"/>\n    </g>\n  </svg>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r='\n  <svg width="20" height="15" viewBox="0 0 20 15" xmlns="http://www.w3.org/2000/svg">\n    <g fill="none" fill-rule="evenodd">\n      <path d="M-11.336-15.286h42.24v42.24h-42.24z"/>\n      <path class="icon" d="M.845 12.877c0 .315.112.583.336.806.225.222.495.333.812.333h16.05c.317 0 .587-.11.81-.333.225-.223.337-.49.337-.806V3.534l-9.173 6.834L.845 3.534v9.343zm0-11.39l9.172 6.834 9.172-6.833c0-.314-.113-.582-.337-.805-.224-.222-.494-.334-.81-.334H1.992c-.318 0-.588.112-.812.334-.223.223-.335.49-.335.805z"/>\n    </g>\n  </svg>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return A});var r=n(11),i=n.n(r),o=n(0),a=n.n(o),s=n(31),u=n(2),c=n(4),l=n(381),d=n(398),p=n(92),h=n(10),f=n(125),m=n(75),g=n(22),v=n(54),_=n(5),b=n(13),y=n(64),E=n(34),T=n(126),w=n(77),C=n(399),x=n(58);function O(e){for(var t={x:0,y:0},n=0;n<e.length;n++)t.x+=e[n].x,t.y+=e[n].y;return{x:t.x/e.length,y:t.y/e.length}}function R(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(t(r))return r}}var S=function(e){function t(){var n,r,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),I.call(r),i=n,babelHelpers.possibleConstructorReturn(r,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){var e=this;this._singleTapWasHandled=!1,this._lastMoveHitlist=[],this._handlersOfCurrentGesture=[],this.frameCount=0,this.createContextAndInitializeCanvas(),this.fallbackTo2DIfViewportExceedGPULimit(),this.buildCanvasObjectTree(),this.canvasObjectTree?this.canvasObjectTree.requestRedraw():this.props.dispatch(f.c()),this.inputHandler=new m.a(this.refs.canvasContainer,{getScalingFactor:function(){return Object(g.a)()},catchWheelEvent:function(){return e.props.fullscreenEnabled},onSingleTap:function(t,n){e._singleTapWasHandled=e.bubbleEvent(function(e){return e.onSingleTap},t,n).handled,e.inputHandler.requestToIntercept()},onSingleTapConfirmed:function(t,n){e.bubbleEvent(function(e){return e.onSingleTapConfirmed},t,n,e._singleTapWasHandled),e._singleTapWasHandled=!1,e.props.dispatch(h.l())},onDoubleTap:function(t,n){e.bubbleEvent(function(e){return e.onDoubleTap},t,n),e.props.dispatch(h.b())},onGestureStart:function(t,n){e.props.usePageFlip||e.props.dispatch(Object(y.c)());var r=O(t),i=r.x,o=r.y;e.bubbleEvent(function(e){return e.onGestureStart},i,o,t,n).possibleHandlers.forEach(function(t){e._handlersOfCurrentGesture.push(t)}),e.props.dispatch(h.e())},onGestureChange:function(t,n,r,i){e.releaseMouseHitlist(n);var o=O(t),a=o.x,s=o.y;R(e._handlersOfCurrentGesture,function(o){return!(!o.onGestureChange||!o.onGestureChange(a,s,t,n,r,i))&&(e.inputHandler.requestToIntercept(),!0)}),e.props.dispatch(h.c())},onGestureEnd:function(t){R(e._handlersOfCurrentGesture,function(e){return e.onGestureEnd&&e.onGestureEnd(t)}),e._handlersOfCurrentGesture.length=0,e.props.dispatch(h.d())},onMouseEnter:function(t){e.props.usePageFlip||e.props.dispatch(Object(y.c)())},onMouseMove:function(t,n,r){e.updateMouseHitlist(t,n,r)},onMouseLeave:function(t){e.releaseMouseHitlist(t)}});requestAnimationFrame(function t(n){c.b.lastTick=n;var r=Object(g.a)(),i=e.canvas.clientWidth*r,o=e.canvas.clientHeight*r;i!==e.props.width||o!==e.props.height?(e.props.dispatch(Object(p.d)(i,o)),e.props.dispatch(h.k())):e.canvasObjectTree&&e.canvasObjectTree.hasPendingRedraw&&e.drawCanvasObjectTree(),e.updateInPubContent(),requestAnimationFrame(t)})},t.prototype.componentWillReceiveProps=function(e){var t=this,n=this.props;this.props=e;var r=n.readMode!==this.props.readMode||n.usePageFlip!==this.props.usePageFlip||n.visible!==this.props.visible||n.linksLoaded!==this.props.linksLoaded;if(this.canvasObjectTree&&r){var i=this.canvasObjectTree;this.previousPosition=i.getPosition(),c.b.unmountTree(i),this.canvasObjectTree=null}n.usePageFlip!==this.props.usePageFlip&&this.createContextAndInitializeCanvas();var o=n.width!==this.props.width||n.height!==this.props.height;o&&(this.canvas.width=this.props.width,this.canvas.height=this.props.height,this.fallbackTo2DIfViewportExceedGPULimit()),this.props.usePageFlip&&(o&&this.ctx&&this.ctx.viewport(0,0,this.ctx.drawingBufferWidth,this.ctx.drawingBufferHeight),/(iPad|iPhone|iPod).*(AppleWebKit\/).*(Version\/9\.).*(Mobile\/).*(Safari\/)/i.test(navigator.userAgent)&&(n.visible&&!this.props.visible&&(this.canvas.style.display=""),!n.visible&&this.props.visible&&(this.canvas.style.display="none",setTimeout(function(){t.canvas.style.display=""},250)))),this.buildCanvasObjectTree(o),this.canvasObjectTree&&this.canvasObjectTree.requestRedraw(),1===this.props.zoomLevel?this.inputHandler.enableBrowserHandlingOfVerticalPanningGestures():this.inputHandler.disableBrowserHandlingOfAllPanningGestures()},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.componentWillUnmount=function(){this.inputHandler&&this.inputHandler.destroy(),this.renderManager&&this.renderManager.release(),this.glManager&&(this.glManager.destroy(),this.glManager=null),this.ctx=null,this._glExtOesStandardDerivatives=null,this.canvas.removeEventListener("webglcontextlost",this.handleContextLost,!1),this.canvas.removeEventListener("webglcontextrestored",this.handleContextRestored,!1)},t.prototype.updateInPubContent=function(){var e=this.refs.inPubContent.getWrappedInstance(),t=!!this.canvasObjectTree&&this.canvasObjectTree.inAnimation;e.updatePagePositions(t)},t.prototype.render=function(){return a.a.createElement("div",null,a.a.createElement("div",{ref:"canvasContainer",style:{width:"100%",height:"100%",position:"absolute"}}),a.a.createElement(d.a,{ref:"inPubContent",metrics:this.props.metrics}))},t}(o.Component);S.displayName="Canvas",S.contextTypes={store:i.a.object};var I=function(){var e=this;this._singleTapWasHandled=!1,this._lastMoveHitlist=[],this._handlersOfCurrentGesture=[],this.frameCount=0,this.onFallbackTo2D=function(){e.inputHandler&&e.inputHandler.reset(),e.props.metrics.monitor("reader3-fallback-to-2d",{fallback:1})},this.getCustomCursor=function(){for(var t=e._lastMoveHitlist.length-1;t>=0;t--)if(e._lastMoveHitlist[t].getCustomCursor&&e._lastMoveHitlist[t].getCustomCursor())return e._lastMoveHitlist[t].getCustomCursor();return"default"},this.createRenderManager=function(){var t=e.renderManager;e.renderManager=new x.d({useWebGL:e.props.usePageFlip,ctx:e.ctx,hintMaxWidth:e.props.width,hintMaxHeight:e.props.height,pageModels:e.props.documentPages,loadStatsTracker:e.props.loadStatsTracker,renderManager:t,checkExplicit:e.props.checkIfVideoExplicit})},this.createContextAndInitializeCanvas=function(){var t=document.createElement("canvas");if(t.className="document-canvas",t.style.width=t.style.height="100%",t.width=e.props.width,t.height=e.props.height,e.glManager&&(e.glManager.destroy(),e.glManager=null),e.canvas?(e._glExtOesStandardDerivatives=null,e.canvas.removeEventListener("webglcontextlost",e.handleContextLost,!1),e.canvas.removeEventListener("webglcontextrestored",e.handleContextRestored,!1),e.refs.canvasContainer.replaceChild(t,e.canvas)):e.refs.canvasContainer.appendChild(t),e.canvas=t,e.props.usePageFlip){var n=Object(w.a)(e.canvas,e.props.withStencilBuffer);e.ctx=n,n?(e._glExtOesStandardDerivatives=n.getExtension("OES_standard_derivatives"),n.viewport(0,0,n.drawingBufferWidth,n.drawingBufferHeight),e.glManager=new C.a(n),e.canvas.addEventListener("webglcontextlost",e.handleContextLost,!1),e.canvas.addEventListener("webglcontextrestored",e.handleContextRestored,!1)):e.handleWebGLError()}else e.ctx=e.canvas.getContext("2d")},this.findComponentsAtPoint=function(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=[];return e.canvasObjectTree&&c.b.traverse(e.canvasObjectTree,function(e,o,a,s){return!(r&&!e.isVisible)&&(!!Object(v.b)(t,n,o)&&(i.push(e),!0))}),i},this.bubbleEvent=function(t,n,r){for(var i=arguments.length,o=Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];var s={handled:!1,possibleHandlers:[]},u=e.findComponentsAtPoint(n,r),c=Array.isArray(u),l=0;for(u=c?u:u[Symbol.iterator]();;){var d;if(c){if(l>=u.length)break;d=u[l++]}else{if((l=u.next()).done)break;d=l.value}var p=d;t(p)&&s.possibleHandlers.push(p)}return R(s.possibleHandlers,function(e){var i=t(e);return!(!i||!i.call.apply(i,[e,n,r].concat(o)))&&(s.handled=!0,!0)}),s},this.updateMouseHitlist=function(t,n,r){var i=e.findComponentsAtPoint(t,n,!1),o=i[i.length-1],a=e._lastMoveHitlist[e._lastMoveHitlist.length-1];o!==a&&(a&&a.onMouseLeave&&a.onMouseLeave(r),o&&o.onMouseEnter&&o.onMouseEnter(r)),e._lastMoveHitlist=i,R(i,function(e){return e.onMouseMove&&e.onMouseMove(t,n,r)})},this.releaseMouseHitlist=function(t){var n=e._lastMoveHitlist[e._lastMoveHitlist.length-1];n&&n.onMouseLeave&&n.onMouseLeave(t),e._lastMoveHitlist=[]},this.fallbackTo2DIfViewportExceedGPULimit=function(){if(e.ctx&&Object(w.b)(e.ctx)){var t=e.props.width-e.ctx.drawingBufferWidth>1,n=e.props.height-e.ctx.drawingBufferHeight>1;(t||n)&&(t&&e.props.dispatch(Object(y.g)(e.ctx.drawingBufferWidth)),n&&e.props.dispatch(Object(y.f)(e.ctx.drawingBufferHeight)),e.onFallbackTo2D())}},this.handleWebGLError=function(t){t&&Object(u.m)(t,{extra:{"fallback-to-2d":!0}}),e.onFallbackTo2D(),e.props.dispatch(Object(y.d)())},this.buildCanvasObjectTree=function(t){if(e.props.visible&&!(!e.ctx||Object(w.b)(e.ctx)&&e.ctx.isContextLost())){try{e.canvasObjectTree&&!t||e.createRenderManager(),e.canvasObjectTree=c.b.buildTree(c.b.createElement(l.a,{ctx:e.ctx,height:e.props.height,loadStatsTracker:e.props.loadStatsTracker,readMode:e.props.readMode,renderManager:e.renderManager,store:e.context.store,usePageFlip:e.props.usePageFlip,width:e.props.width,metrics:e.props.metrics}),e.canvasObjectTree,e)}catch(t){if(!Object(w.b)(e.ctx))throw t;e.handleWebGLError(t)}e.canvasObjectTree&&e.previousPosition&&(e.canvasObjectTree.setPosition(e.previousPosition),e.previousPosition=null)}},this.drawCanvasObjectTree=function(){var t=e.canvasObjectTree,n=e.glManager;if(e.ctx&&e.props.visible&&t&&(!Object(w.b)(e.ctx)||!e.ctx.isContextLost())){try{var r={x:0,y:0,width:e.props.width,height:e.props.height};n&&Object(w.b)(e.ctx)?c.b.drawWebgl(t,n,r):c.b.draw2d(t,e.ctx,r)}catch(t){if(!Object(w.b)(e.ctx))throw t;e.handleWebGLError(t)}var i=e.getCustomCursor();e.refs.canvasContainer.style.cursor!==i&&(e.refs.canvasContainer.style.cursor=i),e.frameCount+=1}},this.handleContextLost=function(t){t.preventDefault(),e.props.metrics.monitor("reader3-webgl-context-lost"),e.props.dispatch(Object(y.b)())},this.handleContextRestored=function(t){e.props.metrics.monitor("reader3-webgl-context-restored"),e.buildCanvasObjectTree(),e.canvasObjectTree&&e.canvasObjectTree.requestRedraw()}},A=Object(s.b)(function(e){return{height:e.size.height,width:e.size.width,readMode:Object(_.A)(e),visible:!e.visibility.supported||!e.visibility.isHidden,usePageFlip:Object(y.e)(e),fullscreenEnabled:Object(b.d)(e),documentPages:Object(E.b)(e),dropdownOpen:Object(_.b)(e),linksLoaded:Object(T.d)(e),zoomLevel:e.reader.zoomLevel,checkIfVideoExplicit:Object(_.i)(e),isIdle:e.reader.isIdle}},null,null,{pure:!1,withRef:!0})(S)},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(125),i=n(64),o=n(5),a=n(126),s=n(34),u=n(35),c=n(32),l=n(54),d=n(4),p=n(382),h=n(394),f=n(395),m=n(141),g=function(e){function t(n,r){babelHelpers.classCallCheck(this,t);var i=babelHelpers.possibleConstructorReturn(this,e.call(this,n,r));return i._isLinkToggledOn=!1,i._showTooltip=null,i._frameCountAtAnimationStart=-1,i._interactionStartTime=-1,i._inAnimation=!1,i.onSpreadChange=function(e){i._currentSpreadIndex=e,i._isLinkToggledOn=!1,i.forceUpdate()},i.onAnimationStart=function(){i._frameCountAtAnimationStart=i.frameCount,i._interactionStartTime=d.b.lastTick,i._inAnimation=!0},i.onAnimationEnd=function(){if(i._inAnimation=!1,i._frameCountAtAnimationStart>=0&&i._interactionStartTime>=0){var e=d.b.lastTick-i._interactionStartTime,t=e/(1e3/60)-(i.frameCount-i._frameCountAtAnimationStart);t>0&&i.props.metrics.onFrameDrop({droppedFrames:t,duration:e,webgl:i.props.usePageFlip})}},i.showLinkToolTip=function(e){i._showTooltip!==e&&(i._showTooltip=e,i.forceUpdate())},i.hideLinkToolTip=function(){i._showTooltip&&(i._showTooltip=null,i.forceUpdate())},i.__store__=n.store,i._currentSpreadIndex=Object(c.a)(n.readMode,n.currentPageNumber),i}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){var e=this;this.spreadAnimator=this.children[0];var t={getVisibleComponents:function(){return e.getVisibleDescendants()},getRenderedViews:function(t){return e.getRenderedViews(t)},getReadMode:function(){return e.props.readMode},getPageComponent:function(t){var n=Object(c.a)(e.props.readMode,t),r=e.spreadAnimator.children[n];return r.children[0].pageNumber===t?r.children[0]:r.children[1]},goToPage:function(e){t.goToSpread(Object(c.a)(t.getReadMode(),e))},goToSpread:function(t){if(e.props.findIsVisible)e.spreadAnimator.jumpToSpread(t);else{var n=e.owner;e.props.usePageFlip||e.props.dispatch(Object(i.c)()),setTimeout(function(){n.canvasObjectTree&&n.canvasObjectTree.spreadAnimator.goToSpread(t)},0)}},jumpToPage:function(e){t.jumpToSpread(Object(c.a)(t.getReadMode(),e))},jumpToSpread:function(t){e.spreadAnimator.jumpToSpread(t)},setSnapping:function(t){return e.spreadAnimator.setSnapping(t)},jumpToPositionByPercent:function(t){return e.spreadAnimator.jumpToPositionByPercent(t)},zoomCurrentView:function(t){return e.spreadAnimator.getCurrentSpread().setZoom(t,!1)},getPosition:function(){return e.getPosition()},setPosition:function(t){return e.setPosition(t)}};this.props.dispatch(r.b(t))},t.prototype.componentDidUpdate=function(e){!e.browserTabIsVisible&&this.props.browserTabIsVisible&&(this._interactionStartTime=-1,this._frameCountAtAnimationStart=-1)},t.prototype.componentWillUnmount=function(){this.props.dispatch(r.c())},t.prototype.getChildTree=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e={allowUIToOverlayCover:this.props.allowUIToOverlayCover,canChangePages:this.props.documentPageSpreadList.length>1,currentSpreadIndex:this._currentSpreadIndex,currentPageNumber:this.props.currentPageNumber,disableGestures:this.props.findIsVisible,dispatch:this.props.dispatch,documentPageSpreadList:this.props.documentPageSpreadList,featureTracker:this.props.featureTracker,hideLinkToolTip:this.hideLinkToolTip,isLinksToggledOn:this._isLinkToggledOn,mayRenderLinks:this.props.mayRenderLinks,paywalledPageNumbers:this.props.paywalledPageNumbers,onAnimationEnd:this.onAnimationEnd,onAnimationStart:this.onAnimationStart,onSpreadChange:this.onSpreadChange,readMode:this.props.readMode,showLinkToolTip:this.showLinkToolTip,viewportHeight:this.props.height,viewportWidth:this.props.width,renderManager:this.props.renderManager};return[this.props.usePageFlip?d.b.createElement(f.a,e):d.b.createElement(p.a,e),d.b.createElement(h.a,{link:this._showTooltip})]},t.prototype.onSingleTapConfirmed=function(e,t,n){return this._isLinkToggledOn=!this._isLinkToggledOn,this.forceUpdate(),!0},t.prototype.getPosition=function(){var e=this,t=this.spreadAnimator.getCurrentSpread(),n=t.children,r=this.props.activeVideoLink,i=void 0;if(n.length<2?i=n[0]:r&&(i=n.find(function(e){return e.model.pageNumber===r.page.pageNumber})),!i){var o=d.b.RectPool.get(0,0,this.width,this.height),a=n[0].viewportBBox,s=n[1].viewportBBox,u=Object(l.a)(o,a)-Object(l.a)(o,s);i=u>0?n[0]:u<0?n[1]:n.find(function(t){return t.model.pageNumber===e.props.currentPageNumber}),d.b.RectPool.release(o)}if(!i)return null;var c=t.getCenter(),p=i.transform.inverse().transformPoint(c.x*t.width,c.y*t.height);return{x:p[0]/i.width,y:p[1]/i.height,zoom:t.getZoom(),pageNumber:i.pageNumber}},t.prototype.setPosition=function(e){var t=Object(c.a)(this.props.readMode,e.pageNumber),n=this.spreadAnimator.children[t],r=n.children.find(function(t){return t.pageNumber===e.pageNumber});if(m.a.scroller.zoom=e.zoom,r){var i=r.transform.transformPoint(e.x*r.width,e.y*r.height);n.setCenter({x:i[0],y:i[1]}),this.spreadAnimator.jumpToSpread(t),this.requestRedraw()}},t.prototype.getRenderedViews=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={},n={x:0,y:0,width:this.width,height:this.height};return d.b.traverse(this,function(r,i,o,a){if(!Object(l.a)(n,i))return!1;if(e&&!r.isVisible)return!0;t.hasOwnProperty(r.displayName)||(t[r.displayName]=[]);var s={},u=Object.keys(r).concat(Object.getOwnPropertyNames(Object.getPrototypeOf(r))),c=Array.isArray(u),d=0;for(u=c?u:u[Symbol.iterator]();;){var p;if(c){if(d>=u.length)break;p=u[d++]}else{if((d=u.next()).done)break;p=d.value}var h=p,f=r[h];"number"!=typeof f&&"string"!=typeof f&&"boolean"!=typeof f||(s[h]=f)}var m=r.model||{};return t[r.displayName].push(Object.assign(r.viewportBBox,{model:m,view:s})),!0}),JSON.parse(JSON.stringify(t))},babelHelpers.createClass(t,[{key:"frameCount",get:function(){return this.owner.frameCount}},{key:"inAnimation",get:function(){return this._inAnimation}}]),t}(d.b),v=d.b.connect(g,function(e){return{allowUIToOverlayCover:o.p(e)||e.features.allowUIToOverlayCover,browserTabIsVisible:!e.visibility.isHidden,activeVideoLink:e.inlineVideo.activeVideoLink,currentPageNumber:e.reader.currentPageNumber,currentSpreadIndex:e.reader.currentSpreadIndex,documentPageSpreadList:o.y(e),findIsVisible:u.d.isVisible(e),featureTracker:e.featureTracker,mayRenderLinks:Object(a.a)(e)&&!u.d.isVisible(e),paywalledPageNumbers:Object(s.c)(e)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(50),i=n(4),o=n(141),a=n(182),s=n(44),u=n(26),c=n(54),l=n(22),d=n(7),p=n(25),h=n(24),f=function(e){function t(n,r){babelHelpers.classCallCheck(this,t);var o=babelHelpers.possibleConstructorReturn(this,e.call(this,n,r));return o.snapFunction=function(e,t,n){var r=o.clampChildrenIndex(o.getSpreadIndexAt(t+o.props.viewportWidth/2)),a=o.children[r];if(!a)return{left:t,top:0,zoom:1};var s=a.unzoomedBBox,u=s.x-o.xMargin;return i.b.RectPool.release(s),{left:u,top:0,zoom:1}},o._lastCenterSpreadIndex=-1,o._isSnapped=!0,o._scrollerMovedLastFrame=!1,o._lastVisiblePages="",o._lastPositionInPercent=0,o._spreadIndexBeforeGestureStart=0,o.scroller=new a.a(0,0,1,o.props.viewportWidth,o.props.viewportHeight,o.width,o.height),o}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){this.scroller.resize(0,0,1,this.props.viewportWidth,this.props.viewportHeight,this.width,this.height),this.scroller.setSnap(!0,this.snapFunction,!1);var e=this.clampChildrenIndex(this.props.currentSpreadIndex),t=this.children[e].unzoomedBBox;this.scroller.jumpTo(0,t.x-this.xMargin,1),i.b.RectPool.release(t),this.props.featureTracker.opportunity(d.a.DOUBLE_TAP_ZOOM),this.props.featureTracker.opportunity(d.a.GESTURE_PINCH_ZOOM),this.props.canChangePages&&this.props.featureTracker.opportunity(d.a.GESTURE_DRAG_PAGES)},t.prototype.componentDidUpdate=function(e){if(this.props.viewportWidth!==e.viewportWidth||this.props.viewportHeight!==e.viewportHeight){var t=this.children[this.props.currentSpreadIndex].unzoomedBBox,n=t.x-this.xMargin;this.scroller.resize(0,n,1,this.props.viewportWidth,this.props.viewportHeight,this.width,this.height),i.b.RectPool.release(t)}},t.prototype.getChildrenToTraverse=function(){var e=this.getSpreadIndexAt(this.scroller.left),t=this.getSpreadIndexAt(this.scroller.left+this.props.viewportWidth-1);return this.children.slice(Math.max(e,0),Math.min(t,this.children.length-1)+1)},t.prototype.clampChildrenIndex=function(e){return Math.max(Math.min(e,this.children.length-1),0)},t.prototype.onGestureStart=function(e,t,n,r){return this._spreadIndexBeforeGestureStart=this.props.currentSpreadIndex,this.scroller.touchStart(e,t,r),1===n.length},t.prototype.onGestureChange=function(e,t,n,r,i,o){return(o===u.b||o===u.d)&&1===n.length&&(this.scroller.touchMove(e,t,r,i),this.requestRedraw(),!0)},t.prototype.onGestureEnd=function(e){return this.scroller.touchEnd(e,i.b.lastTick),this.props.currentSpreadIndex!==this._spreadIndexBeforeGestureStart&&this.props.featureTracker.usage(d.a.GESTURE_DRAG_PAGES),this.scroller.isMoving&&this.requestRedraw(),!0},t.prototype.onSingleTapConfirmed=function(e,t,n){var r=this.getCurrentSpread(),i=r.children[0].viewportBBox;if(r.children.length>1){var o=r.children[1].viewportBBox;i.width+=o.width,i.height=Math.max(i.height,o.height),i.y=Math.min(i.y,o.y)}if(t>i.y&&t<i.y+i.height){var a=this.children.indexOf(r);if(e<i.x)return this.goToSpread(a-1),!0;if(e>i.x+i.width)return this.goToSpread(a+1),!0}return!1},t.prototype.getCurrentSpreadIndex=function(){return this.getSpreadIndexAt(this.scroller.left+this.props.viewportWidth/2)},t.prototype.getCurrentSpread=function(){return this.children[this.getCurrentSpreadIndex()]},t.prototype.getVisiblePageNumbers=function(){for(var e=[],t=Math.max(this.getSpreadIndexAt(this.scroller.left),0),n=this.getSpreadIndexAt(this.scroller.left+this.props.viewportWidth-1),r=i.b.RectPool.get(0,0,this.props.viewportWidth,this.props.viewportHeight),o=t;o<=n;o++){var a=this.children[o].children,s=Array.isArray(a),u=0;for(a=s?a:a[Symbol.iterator]();;){var l;if(s){if(u>=a.length)break;l=a[u++]}else{if((u=a.next()).done)break;l=u.value}var d=l,p=d.viewportBBox;Object(c.a)(r,p)&&e.push(d.model.pageNumber),i.b.RectPool.release(p)}}return i.b.RectPool.release(r),e},t.prototype.setSnapping=function(e){this.scroller.setSnap(e,null,!0,i.b.lastTick),this.requestRedraw()},t.prototype.jumpToPositionByPercent=function(e){this.getCurrentSpread().setZoom(1),this.scroller.jumpTo(0,e*(this.width-this.props.viewportWidth)/100),this.requestRedraw()},t.prototype.goToSpread=function(e){if(this.getCurrentSpreadIndex()!==e){this.getCurrentSpread().setZoom(1);var t=this.clampChildrenIndex(e),n=this.children[t].unzoomedBBox;this.scroller.scrollTo(0,n.x-this.xMargin,1,i.b.lastTick),i.b.RectPool.release(n),this.requestRedraw()}},t.prototype.jumpToSpread=function(e){if(this.getCurrentSpreadIndex()!==e){this.getCurrentSpread().setZoom(1);var t=this.clampChildrenIndex(e),n=this.children[t].unzoomedBBox;this.scroller.jumpTo(0,n.x-this.xMargin,1),i.b.RectPool.release(n),this.requestRedraw()}},t.prototype.getSpreadIndexAt=function(e){var t=Math.floor((e-this.xMargin)/(this.props.viewportWidth-this.xMargin-this.xOverlap));return Math.min(Math.max(t,0),this.children.length-1)},t.prototype.getChildTree=function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.props.documentPageSpreadList.map(function(t,n){var a=(e.props.viewportWidth-e.xMargin-e.xOverlap)*n+e.xMargin,s=new r.a;return s.mTranslate(a,e.yMargin),i.b.createElement(o.a,{dispatch:e.props.dispatch,featureTracker:e.props.featureTracker,height:e.props.viewportHeight-2*e.yMargin,hideLinkToolTip:e.props.hideLinkToolTip,isCurrentSpread:n===e.props.currentSpreadIndex,isLinksToggledOn:e.props.isLinksToggledOn,isSnapped:e._isSnapped,mayRenderLinks:e.props.mayRenderLinks,pageModels:t.pages,paywalledPageStatus:t.pages.map(function(t){return e.props.paywalledPageNumbers.includes(t.pageNumber)}),readMode:e.props.readMode,showLinkToolTip:e.props.showLinkToolTip,transform:s,width:e.props.viewportWidth-2*e.xMargin,renderManager:e.props.renderManager})})},t.prototype.afterDraw=function(e){var t=this.scroller.isDragging||this.scroller.isAnimating||this.scroller.isMoving;this.scroller.update(i.b.lastTick);var n=this.scroller.isDragging||this.scroller.isAnimating||this.scroller.isMoving;(n||t)&&(this._isSnapped?(this._isSnapped=!1,this.forceUpdate()):this.requestRedraw()),n||!this.scroller.isSnapped()||this._isSnapped?this._isSnapped||this.requestRedraw():(this._isSnapped=!0,this.forceUpdate()),!this._scrollerMovedLastFrame&&n?this.props.onAnimationStart():this._scrollerMovedLastFrame&&!n&&this.props.onAnimationEnd(),this._scrollerMovedLastFrame=n;var r=this.getCurrentSpreadIndex();r!==this.props.currentSpreadIndex&&this.props.onSpreadChange(r);var o=this.getVisiblePageNumbers(),a=o.join()!==this._lastVisiblePages;this._lastVisiblePages=o.join();var u=-1===this._lastCenterSpreadIndex,c=this._lastCenterSpreadIndex!==r&&!u,l=this.children[r].children.map(function(e){return e.model.pageNumber}),d=this.props.currentPageNumber;if(c)d=l[0];else if(!o.includes(function(e){return e===d})){var p=o.find(function(e){return l.includes(e)});"number"==typeof p&&(d=p)}this._lastCenterSpreadIndex=r;var h=this.scroller.getHorizontalPositionInPercent(),f=h!==this._lastPositionInPercent;if(this._lastPositionInPercent=h,(f||c||a)&&this.props.dispatch(Object(s.b)(o,r,d,l,h,f,c,a,this.scroller.isDragging)),c||u){var m=Array.from(new Set([].concat(o,l)));this.props.renderManager.setActivePages(m,this.props.readMode)}},babelHelpers.createClass(t,[{key:"displayName",get:function(){return"HorizontalList"}},{key:"width",get:function(){var e=this.children?this.children.length:0;return this.props.viewportWidth*e-(this.xMargin+this.xOverlap)*(e-1)}},{key:"height",get:function(){return this.props.viewportHeight}},{key:"transform",get:function(){return this._transform||(this._transform=new r.a),this._transform.mReset().mTranslate(-this.scroller.left,-this.scroller.top),this._transform}},{key:"inAnimation",get:function(){return!!this.scroller.isMoving||this.parent.inAnimation}},{key:"xMargin",get:function(){var e=this.props.readMode===p.DOUBLE_PAGE_SPREAD?h.f:h.g;return Object(l.a)()*e}},{key:"yMargin",get:function(){var e=0;return e=this.props.readMode===p.DOUBLE_PAGE_SPREAD?this.props.allowUIToOverlayCover?h.h:h.i:this.props.allowUIToOverlayCover?h.k:h.j,Object(l.a)()*e}},{key:"xOverlap",get:function(){return 0}}]),t}(i.b)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(190),i=n(22),o={draw:function(e,t,n,o){var a=Object(i.a)();e.save(),e.translate(t,n),e.scale(a,a),e.rotate(o/230),e.translate(-r.a.w/2,-r.a.h/2),r.a.d[0](e,{stack:0}),e.restore()}}},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(4),i=n(50),o=n(9),a=n(35),s=n(65),u=n(70),c=n(145),l=n(39),d=n.n(l);function p(e,t,n){var r=o.c.create(),i=o.c.create();return o.c.set(r,t,n),o.c.transformMat2d(i,r,e),{x:i[0],y:i[1]}}function h(e,t){var n=o.a.create();return o.a.multiply(n,t,e.matrix),{p1:p(n,e.x,e.y),p2:p(n,e.x+e.width,e.y),p3:p(n,e.x,e.y+e.height),p4:p(n,e.x+e.width,e.y+e.height)}}var f=function(e){function t(n,r){babelHelpers.classCallCheck(this,t);var i=babelHelpers.possibleConstructorReturn(this,e.call(this,n,r));return i._lastActionTick=0,i}return babelHelpers.inherits(t,e),t.prototype.componentDidUpdate=function(e){d()(e.selectedResult,this.props.selectedResult)||(this._lastActionTick=this.props.selectedResult?r.b.lastTick:0)},t.prototype.isAnimating=function(e){return e-500<this._lastActionTick},t.prototype.draw=function(e,t){var n=Object(s.c)(t,this.props.pageType),r=this.getViewportCTM().matrix;if(e.save(),this.selectedResult){e.fillStyle="rgba(255, 255, 0, 0.5)";var i=this.selectedResult,o=Array.isArray(i),a=0;for(i=o?i:i[Symbol.iterator]();;){var u;if(o){if(a>=i.length)break;u=i[a++]}else{if((a=i.next()).done)break;u=a.value}var c=u,l=c.matrix;e.setTransform(r[0],r[1],r[2],r[3],r[4],r[5]),e.transform(l[0],l[1],l[2],l[3],l[4],l[5]),e.fillRect(c.x,c.y,c.width,c.height)}}var d=this.results,p=Array.isArray(d),h=0;for(d=p?d:d[Symbol.iterator]();;){var f;if(p){if(h>=d.length)break;f=d[h++]}else{if((h=d.next()).done)break;f=h.value}var m=f,g=Array.isArray(m),v=0;for(m=g?m:m[Symbol.iterator]();;){var _;if(g){if(v>=m.length)break;_=m[v++]}else{if((v=m.next()).done)break;_=v.value}var b=_;e.beginPath(),e.setTransform(1,0,0,1,0,0),e.rect(n.x,n.y,n.width,n.height);var y=b.matrix;e.setTransform(r[0],r[1],r[2],r[3],r[4],r[5]),e.transform(y[0],y[1],y[2],y[3],y[4],y[5]),e.rect(b.x,b.y,b.width,b.height),e.clip("evenodd")}}e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0.3)",e.fillRect(n.x,n.y,n.width,n.height),e.restore()},t.prototype.appendWebglOps=function(e,t,n){var i=Object(s.c)(t,this.props.pageType),o=this.getViewportCTM().matrix,a=this.transform.matrix,l=this.model.pageNumber,d=[],p=this.results,f=Array.isArray(p),m=0;for(p=f?p:p[Symbol.iterator]();;){var g;if(f){if(m>=p.length)break;g=p[m++]}else{if((m=p.next()).done)break;g=m.value}var v=g,_=Array.isArray(v),b=0;for(v=_?v:v[Symbol.iterator]();;){var y;if(_){if(b>=v.length)break;y=v[b++]}else{if((b=v.next()).done)break;y=b.value}var E=y;d.push(h(E,o))}}var T=this.selectedResult,w=[],C=[];if(T){var x=T,O=Array.isArray(x),R=0;for(x=O?x:x[Symbol.iterator]();;){var S;if(O){if(R>=x.length)break;S=x[R++]}else{if((R=x.next()).done)break;S=R.value}var I=S,A=h(I,o),P=Object(c.b)(A);if(w.push(A),this.isAnimating(r.b.lastTick)){var k=h(I,a),N=Object(c.b)(k),L=null;if(N.max.x-N.min.x>=1&&N.max.y-N.min.y>=1){var D=(P.max.x-P.min.x+40)/(N.max.x-N.min.x);L=this.props.renderManager.generateSurfacesUncached([D,0,0,D,N.min.x*D*-1,N.min.y*D*-1],(N.max.x-N.min.x)*D,(N.max.y-N.min.y)*D,l)}C.push(L)}}}if(e.push({type:r.f,args:[i,d]}),w.length){var M=w.reduce(function(e,t){var n=Object(c.b)(t);return e.left=Math.min(n.min.x,e.left),e.top=Math.min(n.min.y,e.top),e.right=Math.max(n.max.x,e.right),e.bottom=Math.max(n.max.y,e.bottom),e},{left:1/0,top:1/0,right:-1/0,bottom:-1/0}),H=Math.max(M.right-M.left,M.bottom-M.top),F=(r.b.lastTick-this._lastActionTick)/500,U=F<.5?(H+Object(u.d)(0,40,2*F))/H:(H+Object(u.b)(40,0,2*(F-.5)))/H,B={x:(M.left+M.right)/2,y:(M.top+M.bottom)/2};e.push({type:r.e,args:[w,C,B,U]})}},t.prototype.afterDraw=function(e){this.isAnimating(r.b.lastTick)&&this.requestRedraw()},babelHelpers.createClass(t,[{key:"isVisible",get:function(){return!!this.model&&a.d.isVisible(this.root.__store__.getState())}},{key:"width",get:function(){return this.model?this.model.width:0}},{key:"height",get:function(){return this.model?this.model.height:0}},{key:"results",get:function(){return this.props.results}},{key:"selectedResult",get:function(){return this.props.selectedResult}},{key:"model",get:function(){return this.props.model}},{key:"transform",get:function(){return this._transform||(this._transform=new i.a),this.width&&this.height&&this._transform.mSet(this.parent.width/this.width,0,0,this.parent.height/this.height,0,0),this._transform}}]),t}(r.b)},function(e,t){e.exports="precision highp float;\nuniform vec4 u_color;\nvoid main ()\n{\n  gl_FragColor = u_color;\n}\n\n"},function(e,t){e.exports="attribute vec2 a_vertex;\nuniform mat3 u_displayMatrix;\nvoid main ()\n{\n  vec3 tmpvar_1;\n  tmpvar_1.z = 1.0;\n  tmpvar_1.xy = a_vertex;\n  highp vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xyz = (u_displayMatrix * tmpvar_1);\n  gl_Position = tmpvar_2;\n}\n\n"},function(e,t){e.exports="precision highp float;\nuniform vec4 u_color;\nuniform sampler2D u_texture;\nvarying vec2 v_texCoord;\nvoid main ()\n{\n  lowp vec4 tmpvar_1;\n  tmpvar_1.w = 1.0;\n  tmpvar_1.xyz = ((texture2D (u_texture, v_texCoord).xyz * u_color.w) + (u_color.xyz * u_color.w));\n  gl_FragColor = tmpvar_1;\n}\n\n"},function(e,t){e.exports="precision highp float;\nattribute vec2 a_vertex;\nattribute vec2 a_texCoord;\nuniform mat3 u_displayMatrix;\nvarying vec2 v_texCoord;\nvoid main ()\n{\n  v_texCoord = a_texCoord;\n  vec3 tmpvar_1;\n  tmpvar_1.z = 1.0;\n  tmpvar_1.xy = a_vertex;\n  highp vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xyz = (u_displayMatrix * tmpvar_1);\n  gl_Position = tmpvar_2;\n}\n\n"},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(97),i=n(142),o=n(47),a=n(25),s=6,u=0,c=1,l=2,d=0;function p(e,t){return function(e,t){return e.layersInfo?Object(r.d)({url:e.layersInfo.uri,pageNumber:e.pageNumber,version:e.layersInfo.version,loadStatsTracker:t}):Object(r.c)({url:e.imageUri,pageNumber:e.pageNumber,width:e.width,height:e.height,loadStatsTracker:t})}(e,t).catch(function(n){if(e.layersInfo)return n&&n.skipTracking||t.onLoaderError(),t.onLayersImageFallback(),e.layersInfo=void 0,p(e,t);throw n})}var h=function(){function e(t,n){babelHelpers.classCallCheck(this,e),this.videoDatas={},this.pageModels=t,this.loadStatsTracker=n,this.pageDatas=new Array(t.length)}return e.prototype._getPageData=function(e){return this.pageDatas[e-1]||(this.pageDatas[e-1]={state:u}),this.pageDatas[e-1]},e.prototype.getPageModel=function(e){return this.pageModels[e-1]},e.prototype.getPageLayers=function(e){return function e(t,n,r){switch(n.state){case u:return d<s&&(d++,n.state=c,p(t,r).then(function(e){n.state=l,n.data=e,d--},function(){d--})),null;case c:return null;case l:return n.data.images.some(function(e){return 0===e.width||0===e.height})?(delete n.data,n.state=u,e(t,n,r)):n.data;default:return null}}(this.getPageModel(e),this._getPageData(e),this.loadStatsTracker)},e.prototype.isPageReady=function(e){return this._getPageData(e).state===l},e.prototype._getVideoData=function(e){var t=e.page.pageNumber+"_"+e.id;return this.videoDatas[t]||(this.videoDatas[t]={state:u}),this.videoDatas[t]},e.prototype.getVideoThumb=function(e){return function(e,t){if(t.state===u){t.state=c;var n=e.inlineData;n&&Object(i.c)("https://"+n.thumbnail).then(function(e){t.state=l,t.data=e},function(){})}return t.data}(e,this._getVideoData(e))},e.prototype.getVideoThumbs=function(e){var t=this;this.getPageModel(e).links.forEach(function(e){Object(o.b)(e)&&t.getVideoThumb(e)})},e.prototype.setActivePages=function(e,t){var n=this;e.forEach(function(e){n.getPageLayers(e),n.getVideoThumbs(e)});for(var r=[],i=t===a.SINGLE_PAGE_SPREAD?1:2,o=e[0]-i,s=e[e.length-1]+i;s>=o;s--)s>0&&s<=this.pageModels.length&&(this.getPageLayers(s),this.getVideoThumbs(s),r.push(s));return this.pageDatas.forEach(function(e,t){e&&e.state===l&&!r.includes(t+1)&&(delete e.data,e.state=u)}),Object.keys(this.videoDatas).forEach(function(e){var t=n.videoDatas[e],i=parseInt(e,10);t.state!==l||r.includes(i)||(delete t.data,t.state=u)}),r},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(0),i=n.n(r),o=n(127),a=n.n(o),s=n(185),u=n(391),c=n(7),l=n(2),d=n(22),p=n(93),h=n(393),f=[{width:210,height:120},{width:120,height:210}],m={x:0,y:0,width:1,height:1},g=function(e){function t(){var n,r,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),r._played=!1,r._playerInitialized=!1,r._trackingFlag={videoImpressed:!1,videoWatched:!1,videoWentWrong:!1},r.state={inlinePlayer:null,errorOccurred:!1},r._playStatusCallback=function(){r._played=r._played||r._isPlaying(),r.props.interactionCallback(r.props.inlineVideo,r._isPlaying(),r._isFullscreen()),r._shouldVideoBeRendered()&&r._trackOpportunity(),r._played&&r._trackUsage()},r._fullscreenCallback=function(){r.props.interactionCallback(r.props.inlineVideo,r._isPlaying(),r._isFullscreen())},i=n,babelHelpers.possibleConstructorReturn(r,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){this.props.shouldBeLoaded&&!this.props.isExplicit&&this._createPlayer()},t.prototype.shouldComponentUpdate=function(e,t){return!a()(this.props,e)||!a()(this.state,t)},t.prototype.componentDidUpdate=function(e){this.props.shouldBeLoaded&&!this.props.isExplicit?this._createPlayer():this._destroyPlayer();var t=this.state.inlinePlayer;if(t){t.fullscreenCallback=this._fullscreenCallback,t.playStatusCallback=this._playStatusCallback;var n=this.props,r=n.hidden,i=n.shouldBePaused,o=n.shouldAutoplay;this._isPlaying()&&(r||i)&&t.pause(),this._shouldVideoBeRendered()&&!r&&o&&!this._played&&t.play()}},t.prototype._createPlayer=function(){var e=this;if(!this._playerInitialized){var t=this.props.inlineVideo.link,n=t.videoService,r=t.videoId,i=t.inlineData,o=!!i&&i.autoplay,a=this._getVideoContainerId();"youtube"===n?Object(s.a)(r,a,o,function(){return e._trackError()}).then(function(t){return e.setState({inlinePlayer:t})}):"vimeo"===n&&Object(u.a)(r,a,o).then(function(t){return e.setState({inlinePlayer:t})}).catch(function(t){return e._trackError()}),this._playerInitialized=!0}},t.prototype._getVideoContainerId=function(){var e=this.props.inlineVideo.link;return"videoplayer_"+e.videoService+"_"+e.id},t.prototype._destroyPlayer=function(){var e=this;Object(l.r)().rIC(function(){var t=e.state.inlinePlayer;!t||e.props.shouldBeLoaded&&!e.state.errorOccurred||(t.fullscreenCallback=null,t.playStatusCallback=null,t.destroy(),e.setState({inlinePlayer:null}),e._playerInitialized=!1,e._played=!1)})},t.prototype._isPlaying=function(){return!!this.state.inlinePlayer&&this.state.inlinePlayer.isPlaying()},t.prototype._isFullscreen=function(){return!!this.state.inlinePlayer&&this.state.inlinePlayer.isFullscreen()},t.prototype._isReady=function(){return!!this.state.inlinePlayer&&this.state.inlinePlayer.isReady()},t.prototype._playerSizeOk=function(e){var t=this.props.inlineVideo,n=t.link,r=t.pageWidth,i=t.pageHeight,o=Object(d.a)();return f.some(function(t){return e.width/o*(n.width/r)>t.width&&e.height/o*(n.height/i)>t.height})},t.prototype._shouldVideoBeRendered=function(){var e=this.props.pageViewportBBox;return!!e&&(!(!this._isPlaying()&&!this._isFullscreen())||this._playerSizeOk(e)&&!!this.state.inlinePlayer&&!this.state.errorOccurred)},t.prototype._shouldIconBeRendered=function(){var e=this.props.pageViewportBBox;return!!e&&(!this._isPlaying()&&!this._isFullscreen()&&!this._playerSizeOk(e))},t.prototype._trackOpportunity=function(){this._isReady()&&(this._trackingFlag.videoImpressed||(this._trackingFlag.videoImpressed=!0,this.props.featureTracker.opportunity(c.a.PUBLICATION_INLINE_VIDEO_LINK),this.props.metrics.monitor("reader3-inpub-video-opportunity",{view:1,service:this.props.inlineVideo.link.videoService})))},t.prototype._trackUsage=function(){this._trackingFlag.videoWatched||(this._trackingFlag.videoWatched=!0,this.props.featureTracker.usage(c.a.PUBLICATION_INLINE_VIDEO_LINK),this.props.metrics.monitor("reader3-inpub-video-view",{view:1,service:this.props.inlineVideo.link.videoService}))},t.prototype._trackError=function(){this._trackingFlag.videoWentWrong||(this._trackingFlag.videoWentWrong=!0,this.props.metrics.monitor("reader3-inpub-video-error",{failure:1,service:this.props.inlineVideo.link.videoService}),this._destroyPlayer(),this.setState({errorOccurred:!0}))},t.prototype._adjustAlignment=function(e,t){var n=e.top,r=e.left,i=n+e.height,o=r+e.width;Math.abs(n-t.top)<=4&&(n=t.top),Math.abs(r-t.left)<=4&&(r=t.left),Math.abs(i-(t.top+t.height))<=4&&(i=t.top+t.height),Math.abs(o-(t.left+t.width))<=4&&(o=t.left+t.width),e.top=Math.floor(n),e.left=Math.floor(r),e.height=Math.ceil(i)-e.top,e.width=Math.ceil(o)-e.left},t.prototype.renderPlayer=function(){var e=this._shouldVideoBeRendered();e&&this._trackOpportunity();var t={display:e?"block":"none"};return i.a.createElement("div",{className:"inline-video__player",style:t},i.a.createElement("div",{id:this._getVideoContainerId()}))},t.prototype.renderArrow=function(){var e={display:this._shouldIconBeRendered()?"block":"none"};return i.a.createElement("div",{className:"inline-video__cta",style:e,dangerouslySetInnerHTML:{__html:h.a}})},t.prototype.renderMessage=function(){var e=this.props,t=e.pageViewportBBox,n=e.inlineVideo.link,r=n.videoService,o=n.url,a={display:!!t&&this._playerSizeOk(t)?"block":"none"};return this.props.isExplicit?i.a.createElement("div",{className:"inline-video__message",style:a},i.a.createElement(p.c,{onSubmit:function(){return window.open(o,"_blank")},service:r})):this.state.errorOccurred?i.a.createElement("div",{className:"inline-video__message",style:a},i.a.createElement(p.b,{onSubmit:function(){return window.open(o,"_blank")},service:r})):null},t.prototype.render=function(){var e=this.props.inlineVideo,t=e.link,n=e.pageWidth,r=e.pageHeight,o=this.props.pageViewportBBox||m,a=Object(d.a)(),s={top:o.y/a,left:o.x/a,width:o.width/a,height:o.height/a},u=s.width/n,c=s.height/r,l={top:t.y*c+s.top,left:t.x*u+s.left,width:t.width*u,height:t.height*c};return this._adjustAlignment(l,s),i.a.createElement("div",{className:"inline-video__container",style:l},this.renderPlayer(),this.renderArrow(),this.renderMessage())},t}(r.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(392),i=n(66),o=function(){function e(t,n){var r=this;babelHelpers.classCallCheck(this,e),this._isPlaying=!1,this._isFullscreen=!1,this._onPlay=function(){r._isPlaying=!0,r._invokePlayStatusCallback()},this._onPause=function(){r._isPlaying=!1,r._invokePlayStatusCallback()},this._onEnded=function(){r._isPlaying=!1,r._invokePlayStatusCallback()},this._onFullscreenChange=function(){var e=document.getElementById(r.id);r._isFullscreen=!!e&&e.contains(Object(i.d)()),r.fullscreenCallback&&r.fullscreenCallback()},this._player=n,this.id=t,this._player.on("play",this._onPlay),this._player.on("pause",this._onPause),this._player.on("ended",this._onEnded),Object(i.a)(this._onFullscreenChange)}return e.prototype.play=function(){return this._player.play()},e.prototype.pause=function(){this._player.pause()},e.prototype.destroy=function(){Object(i.f)(this._onFullscreenChange),this.fullscreenCallback=void 0,this.playStatusCallback=void 0,this._player.unload()},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isFullscreen=function(){return this._isFullscreen},e.prototype.isReady=function(){return!0},e.prototype._invokePlayStatusCallback=function(){this.playStatusCallback&&this.playStatusCallback()},e}();function a(e,t,n){var i=new r.a(t,{id:e,muted:n,autoplay:!1,autopause:!1,title:!1,portrait:!1,byline:!1,transparent:!1});return i.on("error",function(t){i.loadVideo(e)}),i.ready().then(function(){return Promise.resolve(new o(t,i))})}},,function(e,t,n){"use strict";t.a='<svg width="36px" height="36px" viewBox="0 0 36 36" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g stroke-width="2" stroke="#F2F2F2" fill="#F2F2F2">\n            <path d="M12.3408714,10.0141234 C12.4387046,9.9874359 12.5458435,9.99787995 12.6384534,10.0513483 L25.7231942,17.6058269 C25.7441713,17.6179381 25.7635499,17.6317943 25.7812762,17.6471132 C25.8505849,17.6811974 25.9106579,17.7350136 25.9510292,17.8049388 C26.0614195,17.9961404 25.9953885,18.2409294 25.8085954,18.3487745 L12.645177,25.9486776 C12.5764657,25.9883481 12.5002354,26.0040755 12.4258831,25.9991127 C12.4172304,25.9996948 12.4085186,25.9999904 12.3997586,25.9999904 C12.178978,25.9999904 12,25.8204113 12,25.6047213 L12,10.404915 C12,10.2069041 12.152566,10.0428998 12.3408714,10.0141234 L12.3408714,10.0141234 Z">\n            </path>\n        </g>\n    </g>\n</svg>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(77),i=n(4),o=n(46),a=n(22),s="'Open Sans', Helvetica, Arial, Tahoma, Sans-serif",u=function(e){function t(n,i){babelHelpers.classCallCheck(this,t);var o=babelHelpers.possibleConstructorReturn(this,e.call(this,n,i));return o._renderedText="",o._textWidth=0,Object(r.b)(o.root.props.ctx)&&(o.gl=o.root.props.ctx,o.initializeTexture()),o}return babelHelpers.inherits(t,e),t.prototype.componentWillUnmount=function(){this.gl&&this._texture&&this.gl.deleteTexture(this._texture)},t.prototype.initializeTexture=function(){if(this.gl){var e=this.gl;this._texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this._texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}},t.prototype.drawRoundRect=function(e,t,n,r,i,o){e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+r-o,n),e.quadraticCurveTo(t+r,n,t+r,n+o),e.lineTo(t+r,n+i-o),e.quadraticCurveTo(t+r,n+i,t+r-o,n+i),e.lineTo(t+o,n+i),e.quadraticCurveTo(t,n+i,t,n+i-o),e.lineTo(t,n+o),e.quadraticCurveTo(t,n,t+o,n),e.closePath(),e.fill(),e.stroke()},t.prototype.updateOffscreenCanvases=function(){var e=this._alphaCanvas||document.createElement("canvas"),t=e.getContext("2d",{alpha:!1});t.font="12px "+s;var n=Math.ceil(t.measureText(this.text).width+12),r=Object(a.a)(),i=n*r,o=20*r,u=4*r,c=3.5*r;e.width=i,e.height=o,t.fillStyle="#4c4c4c",t.strokeStyle="#4c4c4c",t.clearRect(0,0,i,o),this.drawRoundRect(t,0,0,i,o,u),t.fillStyle="#ffffff",t.textBaseline="alphabetic",t.textAlign="center",t.font=12*r+"px "+s,t.fillText(this.text,i/2,o/2+c),this._textWidth=n,this._renderedText=this.text,this._alphaCanvas=e},t.prototype.updateTexture=function(){if(this.gl&&this._alphaCanvas){var e=this.gl,t=this._alphaCanvas;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.bindTexture(e.TEXTURE_2D,this._texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t)}},t.prototype.appendWebglOps=function(e,t,n){this._renderedText!==this.text&&(this.updateOffscreenCanvases(),this.updateTexture());var r=Object(a.a)(),o=this._textWidth*r,s=20*r,u=15*r,c=this.props.link.viewportBBox,l={x:c.x+c.width/2-o/2,y:c.y+c.height+(u-s/2),width:o,height:s};e.push({type:i.i,args:[this._texture,l,{x:0,y:0,width:1,height:1}]})},t.prototype.draw=function(e,t){this._renderedText!==this.text&&this.updateOffscreenCanvases();var n=Object(a.a)(),r=this._textWidth*n,i=20*n,o=15*n,s=this.props.link.viewportBBox,u=Math.round(s.x+s.width/2-r/2),c=Math.round(s.y+s.height+o-i/2);this._alphaCanvas&&e.drawImage(this._alphaCanvas,u,c,r,i)},babelHelpers.createClass(t,[{key:"displayName",get:function(){return"LinkTooltip"}},{key:"width",get:function(){return this.props.link?this.props.link.width:0}},{key:"height",get:function(){return this.props.link?20:0}},{key:"isVisible",get:function(){return this.props.link&&this.props.link.isVisible}},{key:"model",get:function(){return this.props.link.model}},{key:"text",get:function(){return this.model.type===o.b.GOTO_PAGE?"Navigate to page "+this.model.gotoPageNumber:this.model.type===o.b.OPEN_URL?""+this.model.url:""}}]),t}(i.b)},function(e,t,n){"use strict";n.d(t,"a",function(){return w});var r=n(50),i=n(4),o=n(141),a=n(24),s=n(44),u=n(241),c=n(25),l=n(144),d=n(70),p=n(26),h=n(54),f=n(22),m=n(7),g=n(58),v=n(397),_=n(65),b=0,y=.001;function E(e){return e===c.SINGLE_PAGE_SPREAD?200:400}function T(e){var t=Math.abs(e);return t<.1?d.c(0,1,10*t):t>.9?d.c(0,1,10*(1-t)):1}var w=function(e){function t(n,r){babelHelpers.classCallCheck(this,t);var i=babelHelpers.possibleConstructorReturn(this,e.call(this,n,r));return i._bendingMesh=new u.a(25,y),i._flatMesh=new u.a(2,b),i._isSnapped=!0,i._wasAnimatingLastFrame=!1,i._lastSpreadIndex=-1,i._lastPositionInPercent=0,i._lastVisiblePages="",i._pendingTargetSpreadIndex=NaN,i._lightRatioEasing=T,i._progressEasing=function(e){return i.animation.value(e)},i._justStartedAnimation=!1,i._targetSpreadIndex=i.props.currentSpreadIndex,i.animation=new l.a(Number.MAX_VALUE,E(i.props.readMode)),i}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){this.props.featureTracker.opportunity(m.a.DOUBLE_TAP_ZOOM),this.props.featureTracker.opportunity(m.a.GESTURE_PINCH_ZOOM),this.props.canChangePages&&this.props.featureTracker.opportunity(m.a.GESTURE_DRAG_PAGES)},t.prototype.onGestureStart=function(e,t,n,r){return!this.props.disableGestures&&(this.animation.isRunning(i.b.lastTick)&&this.jumpToSpread(this._targetSpreadIndex),this._gesture={startX:e,startY:t,endX:e,endY:t,velocity:0,timeStamp:r},!0)},t.prototype.onGestureChange=function(e,t,n,r,i,o){if(this.props.disableGestures)return!1;if((o===p.b||o===p.d)&&1===n.length){var a=-(e-this._gesture.endX)/Math.max(1,r-this._gesture.timeStamp)*.6+.4*this._gesture.velocity;this._gesture.endX=e,this._gesture.endY=t,this._gesture.timeStamp=r,this._gesture.velocity=a;var s=this.getCurrentSpreadIndex(),u=this._getValidSpreadIndex(s+(o===p.b?1:-1));return s!==u&&this._tweakAnimation({duration:Number.MAX_VALUE,targetSpreadIndex:u}),!0}return!1},t.prototype.onGestureEnd=function(e){if(this.props.disableGestures)return!1;if(this._isDraggingManually()){var t=this._getPageSetupForFlip(this.getCurrentSpreadIndex(),this._targetSpreadIndex),n=this._getProgressBasedOnFingerPosition(t.start.edge,t.end.edge),r=this._targetSpreadIndex>this.getCurrentSpreadIndex()?this._gesture.velocity>0:this._gesture.velocity<0,o=Math.abs(this._gesture.velocity),a=r&&(n>.6||o>.36),s=E(this.props.readMode)*(.95-Math.atan(o)/Math.PI);return this._tweakAnimation({duration:s,startTime:i.b.lastTick-s*(a?n:1-n),reverse:!a}),a&&this.props.featureTracker.usage(m.a.GESTURE_DRAG_PAGES),!0}return!1},t.prototype.onSingleTapConfirmed=function(e,t,n){var r=this.getCurrentSpread(),i=r.children[0].viewportBBox;if(r.children.length>1){var o=r.children[1].viewportBBox;i.width+=o.width,i.height=Math.max(i.height,o.height),i.y=Math.min(i.y,o.y)}if(t>i.y&&t<i.y+i.height){var a=this.children.indexOf(r);if(e<i.x)return this.props.disableGestures?this.jumpToSpread(Math.max(a-1,0)):this.goToSpread(Math.max(a-1,0)),!0;if(e>i.x+i.width)return this.props.disableGestures?this.jumpToSpread(Math.min(a+1,this.children.length-1)):this.goToSpread(Math.min(a+1,this.children.length-1)),!0}return!1},t.prototype.getCurrentSpreadIndex=function(){return this.props.currentSpreadIndex},t.prototype.getCurrentSpread=function(){return this.children[this.getCurrentSpreadIndex()]},t.prototype.getVisiblePageNumbers=function(){var e=[];if(this.getCurrentSpreadIndex()!==this._targetSpreadIndex){var t=Math.min(this.getCurrentSpreadIndex(),this._targetSpreadIndex),n=Math.max(this.getCurrentSpreadIndex(),this._targetSpreadIndex);e.push.apply(e,this.children[t].children.map(function(e){return e.model.pageNumber})),e.push.apply(e,this.children[n].children.map(function(e){return e.model.pageNumber}))}else{var r=i.b.RectPool.get(0,0,this.props.viewportWidth,this.props.viewportHeight),o=this.getCurrentSpread().children,a=Array.isArray(o),s=0;for(o=a?o:o[Symbol.iterator]();;){var u;if(a){if(s>=o.length)break;u=o[s++]}else{if((s=o.next()).done)break;u=s.value}var c=u,l=c.viewportBBox;Object(h.a)(r,l)&&e.push(c.model.pageNumber),i.b.RectPool.release(l)}i.b.RectPool.release(r)}return e},t.prototype.setSnapping=function(e){},t.prototype.jumpToPositionByPercent=function(e){this.getCurrentSpread().setZoom(1),this.jumpToSpread(Math.round(e/100*(this.children.length-1)))},t.prototype.goToSpread=function(e){var t=i.b.lastTick;this.animation.isRunning(t)?this._pendingTargetSpreadIndex=e:this._animateToSpread(e,t,E(this.props.readMode))},t.prototype.jumpToSpread=function(e){this._animateToSpread(e,i.b.lastTick,0)},t.prototype._getValidSpreadIndex=function(e){return Math.max(0,Math.min(this.children.length-1,e))},t.prototype._animateToSpread=function(e,t,n){this._targetSpreadIndex=this._getValidSpreadIndex(e),this.getCurrentSpreadIndex()!==this._targetSpreadIndex&&(this.getCurrentSpread().setZoom(1),this._tweakAnimation({startTime:t,duration:n}))},t.prototype._tweakAnimation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.animation.duration=e.hasOwnProperty("duration")?e.duration:E(this.props.readMode),this._targetSpreadIndex=this._getValidSpreadIndex(e.hasOwnProperty("targetSpreadIndex")?e.targetSpreadIndex:this._targetSpreadIndex),this.animation.reset(e.startTime||0),this.animation.options.reverse=!!e.hasOwnProperty("reverse")&&e.reverse,this._justStartedAnimation=!0,this.requestRedraw()},t.prototype.getChildrenToTraverse=function(){var e=this.getCurrentSpreadIndex();return this.children.slice(e,e+1)},t.prototype.getChildTree=function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.xMargin),n=this.yMargin,a=new r.a;return a.mTranslate(t,n),this.props.documentPageSpreadList.map(function(r,s){return i.b.createElement(o.a,{dispatch:e.props.dispatch,featureTracker:e.props.featureTracker,height:e.props.viewportHeight-2*n,hideLinkToolTip:e.props.hideLinkToolTip,isCurrentSpread:s===e.props.currentSpreadIndex,isLinksToggledOn:e.props.isLinksToggledOn,isSnapped:e._isSnapped,mayRenderLinks:e.props.mayRenderLinks&&e._isSnapped,pageModels:r.pages,paywalledPageStatus:r.pages.map(function(t){return e.props.paywalledPageNumbers.includes(t.pageNumber)}),readMode:e.props.readMode,renderManager:e.props.renderManager,showLinkToolTip:e.props.showLinkToolTip,transform:a,width:e.props.viewportWidth-2*t})})},t.prototype.beforeDraw=function(e){!this._wasAnimatingLastFrame&&this.animation.isRunning(i.b.lastTick)&&this.props.onAnimationStart(),(!this.animation.isRunning(i.b.lastTick)&&(this._wasAnimatingLastFrame||this._justStartedAnimation)||0===this.animation.duration)&&(this.animation.options.reverse&&(this._targetSpreadIndex=this.getCurrentSpreadIndex()),this._targetSpreadIndex!==this.getCurrentSpreadIndex()&&this.props.onSpreadChange(this._targetSpreadIndex),isNaN(this._pendingTargetSpreadIndex)||(this.goToSpread(this._pendingTargetSpreadIndex),this._pendingTargetSpreadIndex=NaN))},t.prototype.appendWebglOps=function(e,t,n){this.animation.isRunning(i.b.lastTick)?this._appendWebglOpsForFlipping(e,this.getCurrentSpreadIndex(),this._targetSpreadIndex,n):this._appendWebglOpsForPages(e,n),this._justStartedAnimation=!1},t.prototype.afterDraw=function(e){this._wasAnimatingLastFrame&&!this.animation.isRunning(i.b.lastTick)&&this.props.onAnimationEnd();var t=this._isDraggingManually();this._wasAnimatingLastFrame=this.animation.isRunning(i.b.lastTick),this._wasAnimatingLastFrame&&!t&&this.requestRedraw();var n=this.getVisiblePageNumbers(),r=this.getCurrentSpreadIndex(),o=this.getCurrentSpread().children.map(function(e){return e.model.pageNumber}),a=r/Math.max(this.children.length-1,1)*100,u=this._lastPositionInPercent!==a,c=-1===this._lastSpreadIndex,l=this._lastSpreadIndex!==r&&!c,d=n.join()!==this._lastVisiblePages,p=this.props.currentPageNumber;if(l)p=o[0];else if(!n.includes(p)){var h=n.find(function(e){return o.includes(e)});"number"==typeof h&&(p=h)}if(this._lastPositionInPercent=a,this._lastSpreadIndex=r,this._lastVisiblePages=n.join(),(u||l||d)&&this.props.dispatch(Object(s.b)(n,r,p,o,a,u,l,d,t)),this._wasAnimatingLastFrame===this._isSnapped&&(this._isSnapped=!this._wasAnimatingLastFrame,this._isSnapped||this.props.hideLinkToolTip(),this.forceUpdate()),l||c){var f=Array.from(new Set([].concat(n,o)));this.props.renderManager.setActivePages(f,this.props.readMode)}},t.prototype._appendWebglOpsForFlipping=function(e,t,n,r){var o=this,a=this._getPageSetupForFlip(t,n),s=n<t,u=this._getConicContribution(),c=this._getProgressBasedOnFingerPosition(a.start.edge,a.end.edge),l=Object(_.c)(this._transformBBox(a.start.bbox,a.end.bbox,c),_.b),d=this._bendingMesh.calculateProgress(a.start.edge,a.end.edge,this._getFingerPosition(a.start.edge,a.end.edge),l,u);this._bendingMesh.bend(d,u);var p=this._lightRatioEasing(c),h=a.start.bending?this._loadPreviewTextureInfos(a.start.bending,l,r).ops:[],f=a.end.bending?this._loadPreviewTextureInfos(a.end.bending,l,r).ops:[];if(h.some(function(e){return e&&(e.type===g.b||e.type===g.c)})||(h=[null]),f.some(function(e){return e&&(e.type===g.b||e.type===g.c)})||(f=[null]),h.forEach(function(t){t&&t.type===g.a?e.push({type:i.d,args:[o._bendingMesh,t,l,p,s,!!a.start.bending,i.b.lastTick]}):e.push({type:i.a,args:[o._bendingMesh,t,l,p,s,!!a.start.bending,i.b.lastTick]})}),f.forEach(function(t){t&&t.type===g.a?e.push({type:i.d,args:[o._bendingMesh,t,l,p,!s,!!a.end.bending,i.b.lastTick]}):e.push({type:i.a,args:[o._bendingMesh,t,l,p,!s,!!a.end.bending,i.b.lastTick]})}),e.push({type:i.c,args:[this._bendingMesh,l]}),a.start.flat){var m=this._transformBBox(a.start.flat.viewportBBox,a.end.bending.viewportBBox,c);this._appendWebglOpsForPage(e,a.start.flat,m,r),e.push({type:i.h,args:[m,1e-4]})}if(a.end.flat){var v=this._transformBBox(a.start.bending.viewportBBox,a.end.flat.viewportBBox,c);this._appendWebglOpsForPage(e,a.end.flat,v,r),e.push({type:i.h,args:[v,1e-4]})}},t.prototype._transformBBox=function(e,t,n){var r=Math.abs(n);return{x:d.e(e.x,t.x,r),y:d.e(e.y,t.y,r),width:d.e(e.width,t.width,r),height:d.e(e.height,t.height,r)}},t.prototype._isDraggingManually=function(){return!(this.animation.duration!==Number.MAX_VALUE||!this._gesture)},t.prototype._getConicContribution=function(){if(this.animation.duration!==E(this.props.readMode)&&this._gesture){var e=(this._gesture.endY-this._gesture.startY)/(this.height-this._gesture.startY);return Math.min(1,Math.max(-1,e))}return-.5},t.prototype._getFingerPosition=function(e,t){return this._isDraggingManually()?this._gesture.endX-this._gesture.startX+e:e+(t-e)*this._progressEasing(i.b.lastTick)},t.prototype._getProgressBasedOnFingerPosition=function(e,t){var n=this._getFingerPosition(e,t);return Math.min(1,Math.max(0,(n-e)/(t-e)))},t.prototype._getPageSetupForFlip=function(e,t){var n=t<e,r=this.children[e].children,i=this.children[t].children;return Object(v.a)(r,i,this.props.readMode,n)},t.prototype._appendWebglOpsForPages=function(e,t){var n=this;this.getCurrentSpread().children.forEach(function(r){n._appendWebglOpsForPage(e,r,r.viewportBBox,t)})},t.prototype._appendWebglOpsForPage=function(e,t,n,r){var o=this;if(this.overlaps(n)){var a=Object(_.c)(n,t.pageType),s=this._lightRatioEasing(0),u=this._loadTextureInfos(t,n,r),c=u.done,l=u.ops;l.forEach(function(t){t.type===g.a?e.push({type:i.d,args:[o._flatMesh,t,a,s,!1,!0,i.b.lastTick]}):e.push({type:i.a,args:[o._flatMesh,t,a,s,!1,!0,i.b.lastTick]})}),c||0!==l.length||e.push({type:i.a,args:[this._flatMesh,null,a,s,!1,!0,i.b.lastTick]}),c||this.requestRedraw()}},t.prototype._loadPreviewTextureInfos=function(e,t,n){var r=this._loadTextureInfos(e,t,n);return r.ops=r.ops.filter(function(e){return e!==g.b}),r},t.prototype._loadTextureInfos=function(e,t,n){return e.getOperations(t,n.width,n.height)},babelHelpers.createClass(t,[{key:"displayName",get:function(){return"PageFlip"}},{key:"width",get:function(){return this.props.viewportWidth}},{key:"height",get:function(){return this.props.viewportHeight}},{key:"xMargin",get:function(){var e=a.f;return Object(f.a)()*e}},{key:"yMargin",get:function(){var e=this.props.allowUIToOverlayCover?a.h:a.i;return Object(f.a)()*e}}]),t}(i.b)},function(e,t,n){"use strict";function r(e){var t=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z);e.x/=t,e.y/=t,e.z/=t}function i(e,t,n,r,i,o,a){a.x+=o*t-i*n,a.y+=r*n-o*e,a.z+=i*e-r*t}function o(e,t,n,r,i){e<n-1&&i.push(r[t+0+3*n]-r[t+0],r[t+1+3*n]-r[t+1],r[t+2+3*n]-r[t+2])}function a(e,t,n,r,i){e>0&&i.push(r[t+0-3*n]-r[t+0],r[t+1-3*n]-r[t+1],r[t+2-3*n]-r[t+2])}function s(e,t,n,r,i){e>0&&i.push(r[t+0-3]-r[t+0],r[t+1-3]-r[t+1],r[t+2-3]-r[t+2])}function u(e,t,n,r,i){e<n-1&&i.push(r[t+0+3]-r[t+0],r[t+1+3]-r[t+1],r[t+2+3]-r[t+2])}function c(e,t,n,r,c,l,d){t===r-1?(s(e,n,0,c,l),a(t,n,r,c,l),u(e,n,r,c,l)):0===e?(a(t,n,r,c,l),u(e,n,r,c,l),o(t,n,r,c,l)):0===t?(u(e,n,r,c,l),o(t,n,r,c,l),s(e,n,0,c,l)):e===r-1?(o(t,n,r,c,l),s(e,n,0,c,l),a(t,n,r,c,l)):(o(t,n,r,c,l),s(e,n,0,c,l),a(t,n,r,c,l),u(e,n,r,c,l));for(var p=l.length/3,h=0;h<p-1;h++)i(l[3*h+0],l[3*h+1],l[3*h+2],l[3*(h+1)+0],l[3*(h+1)+1],l[3*(h+1)+2],d)}n.d(t,"a",function(){return p});var l={x:0,y:0,z:0},d=[];function p(e,t,n,i){for(var o=l,a=d,s=0;s<e;s++)for(var u=0;u<e;u++){o.x=0,o.y=0,o.z=0,a.length=0;var p=s*e*3+3*u;c(u,s,p,e,t,a,o),r(o),n[p+0]=o.x,n[p+1]=o.y,n[p+2]=o.z,i[p+0]=-o.x,i[p+1]=-o.y,i[p+2]=-o.z}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(25);function i(e,t,n,i){return n===r.SINGLE_PAGE_SPREAD?i?function(e,t){var n=e[0].viewportBBox,r=t[0].viewportBBox;return{start:{bending:null,flat:e[0],bbox:n,edge:n.x},end:{bending:t[0],flat:null,bbox:r,edge:r.x+r.width}}}(e,t):function(e,t){var n=e[0].viewportBBox,r=t[0].viewportBBox;return{start:{bending:e[0],flat:null,bbox:n,edge:n.x+n.width},end:{bending:null,flat:t[0],bbox:r,edge:r.x}}}(e,t):i?function(e,t){var n=e[0].viewportBBox,r=t[t.length-1].viewportBBox;return{start:{bending:e[0],flat:e.length>1?e[e.length-1]:null,bbox:Object.assign({},n,{x:n.x+n.width}),edge:n.x},end:{bending:t[t.length-1],flat:t.length>1?t[0]:null,bbox:r,edge:r.x+r.width}}}(e,t):function(e,t){var n=e[e.length-1].viewportBBox,r=t[0].viewportBBox;return{start:{bending:e[e.length-1],flat:e.length>1?e[0]:null,bbox:n,edge:n.x+n.width},end:{bending:t[0],flat:t.length>1?t[t.length-1]:null,bbox:Object.assign({},r,{x:r.x+r.width}),edge:r.x}}}(e,t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),i=n.n(r),o=n(31),a=n(127),s=n.n(a),u=n(142),c=n(5),l=function(e){function t(){var n,r,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),r.state={pageViewportBBoxes:{},hidden:!0},i=n,babelHelpers.possibleConstructorReturn(r,i)}return babelHelpers.inherits(t,e),t.prototype.shouldComponentUpdate=function(e,t){return!s()(this.state,t)},t.prototype.updatePagePositions=function(e){var t=this,n={};this.props.currentPageNumbers.forEach(function(e){var r=t.props.getPageComponent(e);r&&(t.props.visiblePageNumbers.includes(e)?n[e]=babelHelpers.extends({},r.position):n[e]=babelHelpers.extends({},r.viewportBBox))}),this.setState({pageViewportBBoxes:n,hidden:e})},t.prototype.render=function(){var e={display:this.state.hidden?"none":"block"};return i.a.createElement("div",{className:"dynamic-content__container",style:e},i.a.createElement(u.a,{pageViewportBBoxes:this.state.pageViewportBBoxes,hidden:this.state.hidden,metrics:this.props.metrics}))},t}(r.Component);l.displayName="InPubContent";var d=Object(o.b)(function(e){return{getPageComponent:e.canvasApi?e.canvasApi.getPageComponent:function(){return null},visiblePageNumbers:e.reader.visiblePageNumbers,currentPageNumbers:Object(c.j)(e)}},null,null,{pure:!1,withRef:!0})(l)},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(400),i=n(403),o=n(406),a=n(409),s=n(414),u=n(417),c=n(145),l=function(){function e(t){babelHelpers.classCallCheck(this,e),this.gl=t,this.shadow=new r.a(t),this.shadowDraw=new i.a(t),this.bendingPage=new a.a(t),this.imagePrimitive=new o.a(t),this.link=new s.a(t,this.imagePrimitive),this.linkTooltip=new u.a(t,this.imagePrimitive),this.highlights=new c.a(t)}return e.prototype.destroy=function(){this.shadow.destroy(),this.shadowDraw.destroy(),this.bendingPage.destroy(),this.imagePrimitive.destroy(),this.link.destroy(),this.linkTooltip.destroy(),this.highlights.destroy(),this.gl=null},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(61),i=n(9),o=n(401),a=n.n(o),s=n(402),u=n.n(s),c=512,l=function(){function e(t){babelHelpers.classCallCheck(this,e),this.matrix=i.b.create(),this.projection=i.b.create(),this.gl=t,this.shader=Object(r.a)(t,u.a,a.a);this.verticeBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.verticeBuffer),t.bufferData(t.ARRAY_BUFFER,7500,t.DYNAMIC_DRAW);this.indiceBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indiceBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,6912,t.DYNAMIC_DRAW),this.depthMapTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.depthMapTexture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,c,c,0,t.RGBA,t.UNSIGNED_BYTE,null),this.depthMapFrameBuffer=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,this.depthMapFrameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.depthMapTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}return e.prototype.destroy=function(){var e=this.gl;e.deleteBuffer(this.verticeBuffer),e.deleteBuffer(this.indiceBuffer),e.deleteTexture(this.depthMapTexture),e.deleteFramebuffer(this.depthMapFrameBuffer),this.shader.destroy()},e.prototype._calculateMatrix=function(e,t){var n=t.x,r=e.drawingBufferHeight-t.y-t.height,o=t.width,a=t.height;i.b.set(this.matrix,o,0,0,0,a,0,n,r,1),i.b.set(this.projection,2/e.drawingBufferWidth,0,0,0,2/e.drawingBufferHeight,0,-1,-1,1),i.b.multiply(this.matrix,this.projection,this.matrix)},e.prototype.computeDepthMap=function(e,t){var n=this.gl,r=this.shader;n.disable(n.DEPTH_TEST),n.enable(n.BLEND),n.blendFunc(n.ONE,n.ZERO),n.blendEquation(n.FUNC_ADD),n.disable(n.CULL_FACE),n.bindFramebuffer(n.FRAMEBUFFER,this.depthMapFrameBuffer),n.viewport(0,0,c,c),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),r.bind(),this._calculateMatrix(n,t),n.uniformMatrix3fv(r.u_matrix,!1,this.matrix),n.bindBuffer(n.ARRAY_BUFFER,this.verticeBuffer),n.bufferSubData(n.ARRAY_BUFFER,0,e.vertices),n.vertexAttribPointer(r.vertex,3,n.FLOAT,!1,0,0),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indiceBuffer),n.bufferSubData(n.ELEMENT_ARRAY_BUFFER,0,e.indices),n.drawElements(n.TRIANGLES,6*(e.size-1)*(e.size-1),n.UNSIGNED_SHORT,0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.viewport(0,0,n.drawingBufferWidth,n.drawingBufferHeight)},e}()},function(e,t){e.exports="precision highp float;\nvoid main ()\n{\n  highp float tmpvar_1;\n  tmpvar_1 = abs(gl_FragCoord.z);\n  highp vec4 tmpvar_2;\n  tmpvar_2.w = 0.25;\n  tmpvar_2.x = tmpvar_1;\n  tmpvar_2.y = tmpvar_1;\n  tmpvar_2.z = tmpvar_1;\n  gl_FragColor = tmpvar_2;\n}\n\n"},function(e,t){e.exports="precision highp float;\nattribute vec3 vertex;\nuniform mat3 u_matrix;\nvoid main ()\n{\n  vec3 tmpvar_1;\n  tmpvar_1.z = 1.0;\n  tmpvar_1.xy = vertex.xy;\n  vec3 tmpvar_2;\n  tmpvar_2.xy = (u_matrix * tmpvar_1).xy;\n  tmpvar_2.z = vertex.z;\n  highp vec4 tmpvar_3;\n  tmpvar_3.xy = tmpvar_2.xy;\n  tmpvar_3.z = (-(vertex.z) * 0.7);\n  tmpvar_3.w = (1.0 + (vertex.z * -0.35));\n  gl_Position = tmpvar_3;\n}\n\n"},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(61),i=n(404),o=n.n(i),a=n(405),s=n.n(a),u=function(){function e(t){babelHelpers.classCallCheck(this,e),this.gl=t,this.shader=Object(r.a)(t,s.a,o.a);this.verticeBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.verticeBuffer),t.bufferData(t.ARRAY_BUFFER,72,t.DYNAMIC_DRAW)}return e.prototype.draw=function(e,t,n){var r=this.gl,i=this.shader;r.enable(r.DEPTH_TEST),r.enable(r.BLEND),r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ZERO,r.ONE),i.bind();var o=r.canvas.width,a=r.canvas.height,s=(t.x-o/2)/(o/2),u=(0-t.y+a/2)/(a/2),c=(t.x+t.width-o/2)/(o/2),l=(0-(t.y+t.height)+a/2)/(a/2),d=new Float32Array([s,u,n,s,l,n,c,u,n,c,u,n,s,l,n,c,l,n]);r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,e),r.uniform1i(i.depthMapTexture,0),r.bindBuffer(r.ARRAY_BUFFER,this.verticeBuffer),r.bufferSubData(r.ARRAY_BUFFER,0,d),r.vertexAttribPointer(i.vertex,3,r.FLOAT,!1,0,0),r.drawArrays(r.TRIANGLES,0,6)},e.prototype.destroy=function(){this.gl.deleteBuffer(this.verticeBuffer),this.shader.destroy()},e}()},function(e,t){e.exports="precision mediump float;\nuniform sampler2D depthMapTexture;\nvarying vec2 v_shadowTexcoord;\nvarying vec2 v_shadowBlurCoords[8];\nvoid main ()\n{\n  lowp vec4 color_1;\n  color_1 = (texture2D (depthMapTexture, v_shadowBlurCoords[0]) * 0.04436833);\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[1]) * 0.07767442));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[2]) * 0.1158766));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[3]) * 0.1473081));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowTexcoord) * 0.1595769));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[4]) * 0.1473081));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[5]) * 0.1158766));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[6]) * 0.07767442));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[7]) * 0.04436833));\n  gl_FragColor = color_1;\n}\n\n"},function(e,t){e.exports="attribute vec3 vertex;\nvarying vec2 v_shadowTexcoord;\nvarying vec2 v_shadowBlurCoords[8];\nvoid main ()\n{\n  vec2 tmpvar_1;\n  tmpvar_1 = ((vertex.xy + vec2(1.0, 1.0)) / vec2(2.0, 2.0));\n  v_shadowTexcoord = tmpvar_1;\n  v_shadowBlurCoords[0] = (tmpvar_1 + vec2(0.0, -0.016));\n  v_shadowBlurCoords[1] = (tmpvar_1 + vec2(0.0, -0.012));\n  v_shadowBlurCoords[2] = (tmpvar_1 + vec2(0.0, -0.008));\n  v_shadowBlurCoords[3] = (tmpvar_1 + vec2(0.0, -0.004));\n  v_shadowBlurCoords[4] = (tmpvar_1 + vec2(0.0, 0.004));\n  v_shadowBlurCoords[5] = (tmpvar_1 + vec2(0.0, 0.008));\n  v_shadowBlurCoords[6] = (tmpvar_1 + vec2(0.0, 0.012));\n  v_shadowBlurCoords[7] = (tmpvar_1 + vec2(0.0, 0.016));\n  highp vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xy = vertex.xy;\n  tmpvar_2.z = -(vertex.z);\n  gl_Position = tmpvar_2;\n}\n\n"},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(61),i=n(407),o=n.n(i),a=n(408),s=n.n(a),u=function(){function e(t){babelHelpers.classCallCheck(this,e),this.gl=t,this.shader=Object(r.a)(t,s.a,o.a);var n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),t.STATIC_DRAW),this.verticeBuffer=n}return e.prototype.destroy=function(){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteBuffer(this.verticeBuffer),this.shader.destroy()},e.prototype.draw=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0,width:1,height:1},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=this.gl,o=this.shader;o.bind(),i.disable(i.DEPTH_TEST),i.uniform2f(o.viewport,i.drawingBufferWidth,i.drawingBufferHeight),i.uniform4f(o.bbox,t.x,t.y,t.width,t.height),i.uniform4f(o.texCoords,n.x,n.y,n.width,n.height),i.uniform1f(o.opacity,r),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,e),i.uniform1i(o.texture,0),i.bindBuffer(i.ARRAY_BUFFER,this.verticeBuffer),i.vertexAttribPointer(o.vertex,2,i.FLOAT,!1,0,0),i.drawArrays(i.TRIANGLE_STRIP,0,4)},e}()},function(e,t){e.exports="precision mediump float;\nuniform sampler2D texture;\nvarying vec2 textureCoordinate;\nuniform float opacity;\nvoid main ()\n{\n  lowp vec4 tmpvar_1;\n  tmpvar_1 = texture2D (texture, textureCoordinate);\n  gl_FragColor = (tmpvar_1 * opacity);\n}\n\n"},function(e,t){e.exports="attribute vec2 vertex;\nuniform vec4 texCoords;\nuniform vec4 bbox;\nuniform vec2 viewport;\nvarying vec2 textureCoordinate;\nvoid main ()\n{\n  vec2 tmpvar_1;\n  tmpvar_1 = ((2.0 * bbox.xz) / viewport.x);\n  vec2 tmpvar_2;\n  tmpvar_2 = ((2.0 * bbox.yw) / viewport.y);\n  highp vec2 tmpvar_3;\n  tmpvar_3.x = ((tmpvar_1.x - 1.0) + (vertex.x * tmpvar_1.y));\n  tmpvar_3.y = ((1.0 - tmpvar_2.x) - (vertex.y * tmpvar_2.y));\n  vec2 tmpvar_4;\n  tmpvar_4.x = (texCoords.x + (vertex.x * texCoords.z));\n  tmpvar_4.y = (texCoords.y + (vertex.y * texCoords.w));\n  textureCoordinate = tmpvar_4;\n  highp vec4 tmpvar_5;\n  tmpvar_5.zw = vec2(0.0, 1.0);\n  tmpvar_5.xy = tmpvar_3;\n  gl_Position = tmpvar_5;\n}\n\n"},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(61),i=n(22),o=n(9),a=n(58),s=n(410),u=n.n(s),c=n(411),l=n.n(c),d=n(412),p=n.n(d),h=n(413),f=n.n(h),m=!1,g=function(){function e(t){babelHelpers.classCallCheck(this,e),this.matrix=o.b.create(),this.projection=o.b.create(),this.texMatrix=o.b.create(),this.clipRect=new Float32Array([0,1,0,1]),this.gl=t,this.shader=Object(r.a)(t,l.a,u.a);this.verticeBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.verticeBuffer),t.bufferData(t.ARRAY_BUFFER,7500,t.DYNAMIC_DRAW),this.normalsBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.normalsBuffer),t.bufferData(t.ARRAY_BUFFER,7500,t.DYNAMIC_DRAW),this.textureCoordsBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.textureCoordsBuffer),t.bufferData(t.ARRAY_BUFFER,5e3,t.DYNAMIC_DRAW),this.perspectiveCorrectionsBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.perspectiveCorrectionsBuffer),t.bufferData(t.ARRAY_BUFFER,2500,t.DYNAMIC_DRAW);this.indiceBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indiceBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,6912,t.DYNAMIC_DRAW),this.whitePaperTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.whitePaperTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array([255,255,255,255])),t.bindTexture(t.TEXTURE_2D,null),this.blackPaperTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.blackPaperTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array([0,0,0,255])),t.bindTexture(t.TEXTURE_2D,null),m&&(this.normalShader=Object(r.a)(t,p.a,f.a),this.normalLinesBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.normalLinesBuffer),t.bufferData(t.ARRAY_BUFFER,15e3,t.DYNAMIC_DRAW))}return e.prototype.destroy=function(){var e=this.gl;e.deleteBuffer(this.verticeBuffer),e.deleteBuffer(this.normalsBuffer),e.deleteBuffer(this.textureCoordsBuffer),e.deleteBuffer(this.perspectiveCorrectionsBuffer),e.deleteBuffer(this.indiceBuffer),e.deleteTexture(this.whitePaperTexture),e.deleteTexture(this.blackPaperTexture),this.shader.destroy(),m&&(e.deleteBuffer(this.normalLinesBuffer),this.normalShader.destroy())},e.prototype._calculateMatrix=function(e,t,n){var r=t?t.src_px.x:0,i=t?t.src_px.y:0,a=t?t.src_px.width:n.width,s=t?t.src_px.height:n.height,u=t?t.surface.width:n.width,c=t?t.surface.height:n.height,l=t?t.surface.imgWidth:n.width,d=t?t.surface.imgHeight:n.height,p=t?t.dest_px.x:0,h=t?t.dest_px.y:0,f=t?t.dest_px.width:n.width,m=t?t.dest_px.height:n.height,g=e.drawingBufferHeight-n.y-n.height;i=d-i-s,h=n.height-h-m,o.b.set(this.matrix,n.width,0,0,0,n.height,0,n.x,g,1),o.b.set(this.projection,2/e.drawingBufferWidth,0,0,0,2/e.drawingBufferHeight,0,-1,-1,1),o.b.multiply(this.matrix,this.projection,this.matrix);var v=Math.max(0,(1-a/f)/2),_=Math.max(0,(1-s/m)/2),b=(a-2*v)/u/(f/n.width),y=(s-2*_)/c/(m/n.height),E=-p/n.width*b+(r+v)/u,T=-h/n.height*y+(i+_)/c;o.b.set(this.texMatrix,b,0,0,0,y,0,E,T,1),this.clipRect.set([(r+v)/l,(r+a-v)/l,(i+_)/d,(i+s-_)/d])},e.prototype.fill=function(e,t,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;this.draw(e,{surface:{texture:this.blackPaperTexture,width:1,height:1,imgWidth:1,imgHeight:1},type:a.e,src_px:{x:0,y:0,width:1,height:1},dest_px:t.dest_px},n,r,i,o,s)},e.prototype.draw=function(e,t,n,r,o,a){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=this.gl,c=this.shader,l=Object(i.a)();u.enable(u.DEPTH_TEST),u.depthFunc(u.LEQUAL),u.enable(u.BLEND),u.blendFunc(u.ONE,u.ONE_MINUS_SRC_ALPHA),u.enable(u.CULL_FACE),u.cullFace(u.BACK),c.bind(),this._calculateMatrix(u,t,n),u.uniformMatrix3fv(c.u_matrix,!1,this.matrix),u.uniformMatrix3fv(c.u_texMatrix,!1,this.texMatrix);var d=u.canvas.width,p=u.canvas.height,h=n.x/d*2-1,f=n.y/p*2-1,g=n.width/d*2,v=n.height/p*2;if(u.uniform1f(c.lightRatio,r),u.uniform1f(c.tick,s),u.uniform1f(c.spinnerSize,22*l),u.uniform1i(c.showSpinner,!t&&a?1:0),u.uniform4f(c.bbox,h,f,g,v),u.uniform4fv(c.clipRect,this.clipRect),u.uniform2f(c.viewport,u.drawingBufferWidth,u.drawingBufferHeight),u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,t?t.surface.texture:this.whitePaperTexture),u.uniform1i(c.texture,0),u.bindBuffer(u.ARRAY_BUFFER,this.verticeBuffer),u.bufferSubData(u.ARRAY_BUFFER,0,e.vertices),u.vertexAttribPointer(c.vertex,3,u.FLOAT,!1,0,0),u.bindBuffer(u.ARRAY_BUFFER,this.normalsBuffer),u.bufferSubData(u.ARRAY_BUFFER,0,o?e.backFacingNormals:e.normals),u.vertexAttribPointer(c.normal,3,u.FLOAT,!1,0,0),u.bindBuffer(u.ARRAY_BUFFER,this.textureCoordsBuffer),u.bufferSubData(u.ARRAY_BUFFER,0,o?e.backFacingTextureCoords:e.textureCoords),u.vertexAttribPointer(c.textureCoord,2,u.FLOAT,!1,0,0),u.bindBuffer(u.ARRAY_BUFFER,this.perspectiveCorrectionsBuffer),u.bufferSubData(u.ARRAY_BUFFER,0,e.perspectiveCorrections),u.vertexAttribPointer(c.perspectiveCorrection,1,u.FLOAT,!1,0,0),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,this.indiceBuffer),u.bufferSubData(u.ELEMENT_ARRAY_BUFFER,0,o?e.backFacingIndices:e.indices),u.drawElements(u.TRIANGLES,6*(e.size-1)*(e.size-1),u.UNSIGNED_SHORT,0),m){this.normalShader.bind(),u.uniformMatrix3fv(this.normalShader.u_matrix,!1,this.matrix),u.uniform1i(this.normalShader.backFacing,o?1:0);for(var _=[],b=o?e.backFacingNormals:e.normals,y=0;y<e.vertices.length;y+=3){var E=e.vertices[y+0],T=e.vertices[y+1],w=e.vertices[y+2],C=b[y+0],x=b[y+1],O=b[y+2];_.push(E,T,w,E+C,T+x,w+O)}u.bindBuffer(u.ARRAY_BUFFER,this.normalLinesBuffer),u.bufferSubData(u.ARRAY_BUFFER,0,new Float32Array(_)),u.vertexAttribPointer(this.normalShader.vertex,3,u.FLOAT,!1,0,0),u.drawArrays(u.LINES,0,_.length/3)}},e}()},function(e,t){e.exports="precision highp float;\nvarying vec3 vnormal;\nvarying vec3 cameraDirection;\nvarying vec3 lightDirection;\nvarying vec2 texcoord;\nuniform float lightRatio;\nuniform sampler2D texture;\nuniform bool showSpinner;\nuniform float tick;\nuniform float spinnerSize;\nuniform vec4 bbox;\nuniform vec2 viewport;\nuniform vec4 clipRect;\nvoid main ()\n{\n  lowp vec3 color_1;\n  if (showSpinner) {\n    float tmpvar_2;\n    float tmpvar_3;\n    tmpvar_3 = (bbox.w * viewport.y);\n    tmpvar_2 = (1.0/((tmpvar_3 / 2.0)));\n    vec2 tmpvar_4;\n    tmpvar_4.x = ((texcoord.x - 0.5) * ((bbox.z * viewport.x) / tmpvar_3));\n    tmpvar_4.y = (texcoord.y - 0.5);\n    float tmpvar_5;\n    tmpvar_5 = (((spinnerSize * tmpvar_2) * 2.5) / 15.7);\n    float tmpvar_6;\n    tmpvar_6 = (((spinnerSize * tmpvar_2) * 6.75) / 15.7);\n    float tmpvar_7;\n    tmpvar_7 = sqrt(dot (tmpvar_4, tmpvar_4));\n    float tmpvar_8;\n    tmpvar_8 = (((spinnerSize * tmpvar_2) * 0.6) / 15.7);\n    float tmpvar_9;\n    tmpvar_9 = ((spinnerSize * tmpvar_2) / 15.7);\n    vec2 tmpvar_10;\n    float tmpvar_11;\n    tmpvar_11 = (tick * 0.00435);\n    tmpvar_10.x = sin(tmpvar_11);\n    tmpvar_10.y = cos(tmpvar_11);\n    vec2 tmpvar_12;\n    tmpvar_12 = normalize(tmpvar_10);\n    float tmpvar_13;\n    float x_14;\n    x_14 = (dot (tmpvar_4, tmpvar_12) / sqrt(dot (tmpvar_4, tmpvar_4)));\n    tmpvar_13 = (1.570796 - (sign(x_14) * (1.570796 - \n      (sqrt((1.0 - abs(x_14))) * (1.570796 + (abs(x_14) * (-0.2146018 + \n        (abs(x_14) * (0.08656672 + (abs(x_14) * -0.03102955)))\n      ))))\n    )));\n    float edge0_15;\n    edge0_15 = ((tmpvar_5 - tmpvar_8) - tmpvar_2);\n    float tmpvar_16;\n    tmpvar_16 = clamp (((tmpvar_7 - edge0_15) / (\n      (tmpvar_5 - tmpvar_8)\n     - edge0_15)), 0.0, 1.0);\n    float edge0_17;\n    edge0_17 = (tmpvar_5 + tmpvar_8);\n    float tmpvar_18;\n    tmpvar_18 = clamp (((tmpvar_7 - edge0_17) / (\n      ((tmpvar_5 + tmpvar_8) + tmpvar_2)\n     - edge0_17)), 0.0, 1.0);\n    float tmpvar_19;\n    tmpvar_19 = ((tmpvar_16 * (tmpvar_16 * \n      (3.0 - (2.0 * tmpvar_16))\n    )) * (1.0 - (tmpvar_18 * \n      (tmpvar_18 * (3.0 - (2.0 * tmpvar_18)))\n    )));\n    float edge0_20;\n    edge0_20 = ((tmpvar_6 - tmpvar_9) - tmpvar_2);\n    float tmpvar_21;\n    tmpvar_21 = clamp (((tmpvar_7 - edge0_20) / (\n      (tmpvar_6 - tmpvar_9)\n     - edge0_20)), 0.0, 1.0);\n    float edge0_22;\n    edge0_22 = (tmpvar_6 + tmpvar_9);\n    float tmpvar_23;\n    tmpvar_23 = clamp (((tmpvar_7 - edge0_22) / (\n      ((tmpvar_6 + tmpvar_9) + tmpvar_2)\n     - edge0_22)), 0.0, 1.0);\n    float tmpvar_24;\n    tmpvar_24 = ((tmpvar_21 * (tmpvar_21 * \n      (3.0 - (2.0 * tmpvar_21))\n    )) * (1.0 - (tmpvar_23 * \n      (tmpvar_23 * (3.0 - (2.0 * tmpvar_23)))\n    )));\n    vec2 tmpvar_25;\n    tmpvar_25.x = tmpvar_12.y;\n    tmpvar_25.y = -(tmpvar_12.x);\n    vec2 x_26;\n    x_26 = (tmpvar_4 - (tmpvar_25 * tmpvar_6));\n    float tmpvar_27;\n    tmpvar_27 = clamp (((\n      sqrt(dot (x_26, x_26))\n     - tmpvar_9) / (\n      (tmpvar_9 + tmpvar_2)\n     - tmpvar_9)), 0.0, 1.0);\n    float tmpvar_28;\n    tmpvar_28 = (1.0 - (tmpvar_27 * (tmpvar_27 * \n      (3.0 - (2.0 * tmpvar_27))\n    )));\n    vec2 tmpvar_29;\n    tmpvar_29.x = -(tmpvar_12.y);\n    tmpvar_29.y = tmpvar_12.x;\n    vec2 x_30;\n    x_30 = (tmpvar_4 - (tmpvar_29 * tmpvar_6));\n    float tmpvar_31;\n    tmpvar_31 = clamp (((\n      sqrt(dot (x_30, x_30))\n     - tmpvar_9) / (\n      (tmpvar_9 + tmpvar_2)\n     - tmpvar_9)), 0.0, 1.0);\n    float tmpvar_32;\n    tmpvar_32 = (1.0 - (tmpvar_31 * (tmpvar_31 * \n      (3.0 - (2.0 * tmpvar_31))\n    )));\n    float tmpvar_33;\n    tmpvar_33 = (max (tmpvar_19, tmpvar_24) * 0.5);\n    float tmpvar_34;\n    if ((tmpvar_13 < 1.570796)) {\n      tmpvar_34 = tmpvar_24;\n    } else {\n      tmpvar_34 = 0.0;\n    };\n    color_1 = mix (vec3(0.9453125, 0.9453125, 0.9453125), vec3(0.6015625, 0.65625, 0.6601562), max (max (tmpvar_33, tmpvar_34), max (\n      max (tmpvar_28, tmpvar_32)\n    , tmpvar_19)));\n  } else {\n    color_1 = texture2D (texture, texcoord).xyz;\n  };\n  lowp vec3 tmpvar_35;\n  vec3 I_36;\n  I_36 = -(lightDirection);\n  tmpvar_35 = (((\n    ((vec3(0.9, 0.9, 0.9) * color_1) + ((vec3(0.2, 0.2, 0.2) * clamp (\n      dot (vnormal, lightDirection)\n    , 0.0, 1.0)) * color_1))\n   + \n    (vec3(0.3, 0.3, 0.3) * pow (max (dot (\n      (I_36 - (2.0 * (dot (vnormal, I_36) * vnormal)))\n    , cameraDirection), 0.0), 5.0))\n  ) * lightRatio) + ((1.0 - lightRatio) * color_1));\n  color_1 = tmpvar_35;\n  if ((((\n    (texcoord.x >= clipRect.x)\n   && \n    (texcoord.x <= clipRect.y)\n  ) && (texcoord.y >= clipRect.z)) && (texcoord.y <= clipRect.w))) {\n    lowp vec4 tmpvar_37;\n    tmpvar_37.w = 1.0;\n    tmpvar_37.xyz = tmpvar_35;\n    gl_FragColor = tmpvar_37;\n  } else {\n    gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n  };\n}\n\n"},function(e,t){e.exports="precision highp float;\nattribute vec3 vertex;\nattribute vec3 normal;\nattribute vec2 textureCoord;\nattribute float perspectiveCorrection;\nuniform mat3 u_matrix;\nuniform mat3 u_texMatrix;\nvarying vec3 vnormal;\nvarying vec3 lightDirection;\nvarying vec3 cameraDirection;\nvarying vec2 texcoord;\nvoid main ()\n{\n  vec3 tmpvar_1;\n  tmpvar_1.z = 1.0;\n  tmpvar_1.xy = vertex.xy;\n  vec3 tmpvar_2;\n  tmpvar_2.xy = (u_matrix * tmpvar_1).xy;\n  tmpvar_2.z = vertex.z;\n  vnormal = normal;\n  lightDirection = normalize((vec3(10.0, 5.0, 4.0) - tmpvar_2));\n  cameraDirection = normalize((vec3(0.0, 0.0, 1.0) - tmpvar_2));\n  vec3 tmpvar_3;\n  tmpvar_3.z = 1.0;\n  tmpvar_3.xy = textureCoord;\n  texcoord = (u_texMatrix * tmpvar_3).xy;\n  highp vec4 tmpvar_4;\n  tmpvar_4.xy = tmpvar_2.xy;\n  tmpvar_4.z = -(vertex.z);\n  tmpvar_4.w = perspectiveCorrection;\n  gl_Position = tmpvar_4;\n}\n\n"},function(e,t){e.exports="precision highp float;\nuniform mat3 u_matrix;\nattribute vec3 vertex;\nvoid main ()\n{\n  vec3 tmpvar_1;\n  tmpvar_1.z = 1.0;\n  tmpvar_1.xy = vertex.xy;\n  vec3 tmpvar_2;\n  tmpvar_2.xy = (u_matrix * tmpvar_1).xy;\n  tmpvar_2.z = vertex.z;\n  highp vec4 tmpvar_3;\n  tmpvar_3.xy = tmpvar_2.xy;\n  tmpvar_3.z = (-(vertex.z) * 0.8);\n  tmpvar_3.w = (1.0 + (vertex.z * -0.2));\n  gl_Position = tmpvar_3;\n}\n\n"},function(e,t){e.exports="precision highp float;\nuniform bool backFacing;\nvoid main ()\n{\n  if (backFacing) {\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\n  } else {\n    gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0);\n  };\n}\n\n"},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(61),i=n(415),o=n.n(i),a=n(416),s=n.n(a),u=n(22),c=n(47),l=n(183),d=n(184);var p=function(){function e(t,n){babelHelpers.classCallCheck(this,e),this.gl=t,this.shader=Object(r.a)(t,s.a,o.a),this.imagePrimitive=n;var i=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,i),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),t.STATIC_DRAW),this.verticeBuffer=i;var a=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,a),t.bufferData(t.ARRAY_BUFFER,new Float32Array([1,1,0,0,1,0,0,1,0,1,1,0,0,0,1,1]),t.STATIC_DRAW),this.barycentricBuffer=a,this.initializeTexture()}return e.prototype.destroy=function(){var e=this.gl;e.deleteBuffer(this.verticeBuffer),e.deleteBuffer(this.barycentricBuffer),e.deleteTexture(this.texture),this.shader.destroy()},e.prototype._iconRadius=function(){return 20*Object(u.a)()},e.prototype.initializeTexture=function(){var e=this.gl,t=2*this._iconRadius(),n=function(e){return 1<<1+Math.floor(Math.log2(e))}(2*t),r=document.createElement("canvas");r.width=n,r.height=n;var i=r.getContext("2d");i.fillStyle="rgba(0, 1, 0, 0.0)",i.fillRect(0,0,r.width,r.height),i.fillStyle="rgba(0, 0, 0, 0.7)",d.a.draw(i,t/2,t/2,this._iconRadius()),l.a.draw(i,t+t/2,t/2,this._iconRadius()),this.texture&&e.deleteTexture(this.texture);var o=e.createTexture();e.bindTexture(e.TEXTURE_2D,o),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),this.texture=o,this.textureSize=n},e.prototype.draw=function(e,t,n){var r=this.gl,i=this.shader;if(r.disable(r.DEPTH_TEST),r.enable(r.BLEND),r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ZERO,r.ONE),r.blendEquation(r.FUNC_ADD),i.bind(),r.uniform2f(i.viewport,r.drawingBufferWidth,r.drawingBufferHeight),r.uniform4f(i.bbox,n.x,n.y,n.width,n.height),r.uniform1f(i.opacity,t),r.uniform1f(i.strokeWidth,1),r.bindBuffer(r.ARRAY_BUFFER,this.verticeBuffer),r.vertexAttribPointer(i.vertex,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,this.barycentricBuffer),r.vertexAttribPointer(i.barycentric,4,r.FLOAT,!1,0,0),r.drawArrays(r.TRIANGLE_STRIP,0,4),(Object(c.d)(e)||Object(c.c)(e))&&n.width>50&&n.height>50){var o={x:n.x+n.width/2-this._iconRadius(),y:n.y+n.height/2-this._iconRadius(),width:2*this._iconRadius(),height:2*this._iconRadius()},a={x:0,y:0,width:2*this._iconRadius()/this.textureSize,height:2*this._iconRadius()/this.textureSize};Object(c.d)(e)&&this.imagePrimitive.draw(this.texture,o,a,t),Object(c.c)(e)&&(a.x+=a.width,this.imagePrimitive.draw(this.texture,o,a,t))}},e}()},function(e,t){e.exports="#extension GL_OES_standard_derivatives : enable\nprecision highp float;\nuniform float opacity;\nuniform float strokeWidth;\nvarying vec4 vBC;\nvoid main ()\n{\n  vec4 tmpvar_1;\n  tmpvar_1.xyz = vec3(0.4627451, 0.6470588, 0.8);\n  tmpvar_1.w = opacity;\n  vec4 tmpvar_2;\n  tmpvar_2.xyz = vec3(0.4627451, 0.6470588, 0.8);\n  tmpvar_2.w = (opacity / 2.0);\n  vec4 tmpvar_3;\n  vec4 tmpvar_4;\n  tmpvar_4 = clamp ((vBC / (\n    (abs(dFdx(vBC)) + abs(dFdy(vBC)))\n   * strokeWidth)), 0.0, 1.0);\n  tmpvar_3 = (tmpvar_4 * (tmpvar_4 * (3.0 - \n    (2.0 * tmpvar_4)\n  )));\n  gl_FragColor = mix (tmpvar_1, tmpvar_2, min (min (tmpvar_3.x, tmpvar_3.y), min (tmpvar_3.z, tmpvar_3.w)));\n}\n\n"},function(e,t){e.exports="attribute vec2 vertex;\nattribute vec4 barycentric;\nuniform vec2 viewport;\nuniform vec4 bbox;\nvarying vec4 vBC;\nvoid main ()\n{\n  vec2 tmpvar_1;\n  tmpvar_1 = ((2.0 * bbox.xz) / viewport.x);\n  vec2 tmpvar_2;\n  tmpvar_2 = ((2.0 * bbox.yw) / viewport.y);\n  highp vec2 tmpvar_3;\n  tmpvar_3.x = ((tmpvar_1.x - 1.0) + (vertex.x * tmpvar_1.y));\n  tmpvar_3.y = ((1.0 - tmpvar_2.x) - (vertex.y * tmpvar_2.y));\n  vBC = barycentric;\n  highp vec4 tmpvar_4;\n  tmpvar_4.zw = vec2(0.0, 1.0);\n  tmpvar_4.xy = tmpvar_3;\n  gl_Position = tmpvar_4;\n}\n\n"},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(t,n){babelHelpers.classCallCheck(this,e),this.gl=t,this.imagePrimitive=n}return e.prototype.destroy=function(){},e.prototype.draw=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=this.gl;i.disable(i.DEPTH_TEST),i.enable(i.BLEND),i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA),i.blendEquation(i.FUNC_ADD),this.imagePrimitive.draw(e,t,n,r)},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),i=n.n(r),o=n(48),a=n(242),s=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t.prototype.render=function(){return i.a.createElement("div",null,i.a.createElement(o.a,{ref:"buttonPrevious",className:"navigation-arrow navigation-arrow--left",onClick:this.props.onClickLeftArrow,isHidden:!this.props.leftArrowVisible,id:"ird3-button-previous",content:a.a}),i.a.createElement(o.a,{ref:"buttonNext",className:"navigation-arrow navigation-arrow--right",onClick:this.props.onClickRightArrow,isHidden:!this.props.rightArrowVisible,id:"ird3-button-next",content:a.a}))},t}(r.Component);s.displayName="NavigationArrows"},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),i=n.n(r),o=n(8),a=n(10),s=n(48),u=n(75),c=n(7),l=n(178),d=n(179),p=function(e){function t(){var n,r,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return n=r=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(s))),r.onClickHandler=function(){r.props.featureTracker.usage(c.a.BUTTON_CTA_OVERLAY),r.props.dispatch(a.a()),r.props.toggleFullscreen()},r.trackOpportunities=function(){r.props.visible&&r.props.featureTracker.opportunity(c.a.BUTTON_CTA_OVERLAY)},i=n,babelHelpers.possibleConstructorReturn(r,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){var e=this;this.inputHandler=new u.a(this.refs.button,{onMouseEnter:function(t){e.props.visible&&e.props.dispatch(o.l(!0))},onMouseLeave:function(t){e.props.dispatch(o.l(!1))}}),this.trackOpportunities()},t.prototype.componentDidUpdate=function(){this.trackOpportunities()},t.prototype.render=function(){var e=this.props.fullscreenEnabled?l.a:d.a,t=this.props.fullscreenEnabled?"Exit":"Fullscreen",n="cta-overlay "+(this.props.visible?"":"cta-overlay--hidden");return i.a.createElement("div",{ref:"button",className:n,"data-tooltip":t,onClick:this.onClickHandler},i.a.createElement(s.a,{id:"ird3-button-fullscreen",className:"svg-btn cta-overlay__button",content:e}))},t}(r.Component);p.displayName="CTAOverlay"},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),i=n.n(r),o=n(23),a=n.n(o),s=n(45),u=n(10),c=n(123),l=n(57),d=function(e){function t(){var n,r,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];return n=r=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),r.onCloseButtonClick=function(){r.props.dispatch(Object(s.e)()),r.props.dispatch(Object(u.a)())},r.onBackgroundClick=function(){r.props.dispatch(Object(s.e)())},i=n,babelHelpers.possibleConstructorReturn(r,i)}return babelHelpers.inherits(t,e),t.prototype.render=function(){return i.a.createElement("div",{className:a()("more-content-container",{"more-content-container--hidden":!this.props.visible,"more-content-container--overlay":this.props.showAsOverlay})},this.props.children,i.a.createElement("button",{type:"button",className:a()("more-content-container__close-button",{"more-content-container__close-button--left":l.a.isMobile()}),onClick:this.onCloseButtonClick,dangerouslySetInnerHTML:{__html:c.a}}),!this.props.showAsOverlay&&i.a.createElement("div",{className:"more-content-container__clickable-background",onClick:this.onBackgroundClick}))},t}(r.Component);d.displayName="MoreContentContainer"},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(51),i=n(1),o=i.e.selectMetadata,a=i.e.selectCanUseCredentials,s=i.e.selectHostOrigins;function u(){return function(e,t){var n=t(),i=s(n).api,u=o(n),c=u.username,l=u.documentName,d=a(n);return n.paywall.status!==r.d.NOTLOADED?Promise.resolve():(e({type:r.b}),fetch(i+"/call/paywall/reader/v2/overlay/"+c+"/"+l,{credentials:d?"include":"omit",mode:"cors"}).then(function(e){if(!e.ok)throw new Error("Error load paywallOverlay Api (response.status: "+e.status+")");return e.json()}).then(function(t){var n=t.currentUserPurchased,i=t.isNotAvailable,o=t.priceAmount,a=t.priceCurrency,s=t.readPurchasedPath;return e({type:r.a,currentUserPurchased:n,isNotAvailable:i,priceAmount:o,priceCurrency:a,readPurchasedPath:s})}).catch(function(t){return e({type:r.c,error:t})}))}}},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),i=n.n(r),o=n(193),a=n(23),s=n.n(a);function u(e){var t=e.isNotAvailable,n=e.isOverlayVisible,r=e.isPreview,a=e.isPurchased,u=e.hostName,c=e.onKeepReading,l=e.paywallDataLoaded,d=e.priceAmount,p=e.priceCurrency,h=e.publicationCoverUrl,f=e.publicationName,m=e.publicationTitle,g=e.publisherDisplayName,v=e.publisherName,_=e.publisherProfileImageUrl,b=e.publisherProfileUrl,y=e.readPurchasedPath,E=e.showKeepReading;return a?i.a.createElement("div",{className:"paywall-read-purchased"},i.a.createElement(o.c,{hostName:u,publicationCoverUrl:h,publicationTitle:m,readPurchasedPath:y})):r?i.a.createElement("div",null,!n&&l&&i.a.createElement("div",{className:"paywall-btn--header"},i.a.createElement(o.a,{hostName:u,isNotAvailable:t,priceAmount:d,priceCurrency:p,publicationName:f,publisherName:v})),i.a.createElement("div",{className:s()("paywall-overlay",{"is-hidden":!n})},i.a.createElement(o.b,{hostName:u,isNotAvailable:t,onKeepReading:c,priceAmount:d,priceCurrency:p,publicationCoverUrl:h,publicationName:f,publicationTitle:m,publisherDisplayName:g,publisherName:v,publisherProfileImageUrl:_,publisherProfileUrl:b,showKeepReading:E}))):null}},,,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(t,n){var r=this;babelHelpers.classCallCheck(this,e),this._eventHandler=function(e){("wheel"!==e.type||e.ctrlKey)&&r.callback()},this.target=t,this.callback=n,this.target.addEventListener("mousedown",this._eventHandler,!0),this.target.addEventListener("touchstart",this._eventHandler,!0),this.target.addEventListener("pointerdown",this._eventHandler,!0),this.target.addEventListener("MSPointerDown",this._eventHandler,!0),this.target.addEventListener("gesturestart",this._eventHandler,!0),this.target.addEventListener("wheel",this._eventHandler,!0),this.target.ownerDocument.addEventListener("keydown",this._eventHandler,!0)}return e.prototype.destroy=function(){this.target.removeEventListener("mousedown",this._eventHandler,!0),this.target.removeEventListener("touchstart",this._eventHandler,!0),this.target.removeEventListener("pointerdown",this._eventHandler,!0),this.target.removeEventListener("MSPointerDown",this._eventHandler,!0),this.target.removeEventListener("gesturestart",this._eventHandler,!0),this.target.removeEventListener("wheel",this._eventHandler,!0),this.target.ownerDocument.removeEventListener("keydown",this._eventHandler,!0)},e}()},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(186),a=n(91),s=n(2),u=function(e){function t(){var n,r,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),r.adLoaded=!1,i=n,babelHelpers.possibleConstructorReturn(r,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){this._loadAd()},t.prototype.componentWillUpdate=function(e){Object(a.a)(this.props.adSize)||this.props.adSize.join(",")!==e.adSize.join(",")&&this._clearAd()},t.prototype.componentDidUpdate=function(){this._loadAd()},t.prototype.componentWillUnmount=function(){this._clearAd()},t.prototype._adActivityTrackingCallback=function(e){var t=this;return function(){t.props.metrics.monitor("reader3-ad.fullscreen."+e)}},t.prototype._adActivityTracking=function(e){this._adActivityTrackingCallback(e)()},t.prototype._clearAd=function(){this.adLoaded=!1,this._clearRefreshTimeout(),this.adElement&&(this.adElement.parentNode&&this.adElement.parentNode.removeChild(this.adElement),delete this.adElement)},t.prototype._loadAd=function(){var e=this.props.adsensePublisherId;if(!this.adLoaded&&!Object(a.a)(this.props.adSize)){var t=[["pageType","embed"],["publicationId",this.props.publicationId],["ownerUsername",this.props.publisherUsername],["isDevelopmentTest",(!1).toString()]];this.adElement=document.createElement("div"),this.adContainer&&(this.adContainer.appendChild(this.adElement),e?this.adElement&&(this.adElement.className="fullscreen-ad-placement--adsense-slot",Object(s.n)(this.adElement,e)):(this.ad=o.create({rootElm:this.adElement,dfpTargeting:t,adProviderConfig:{network:"/30443627/Doc_inBarReader",sizes:[this.props.adSize]},isProductionEnv:!0,callbacks:{onAdFilled:this._adActivityTrackingCallback("filled"),onAdFailed:this._adActivityTrackingCallback("failed"),onAdUnfilled:this._adActivityTrackingCallback("unfilled"),onAdViewable:this._onAdViewable.bind(this)},trackingKey:"ads-widget.Doc_inBarReader",bidders:[{name:"a9",config:{pubID:"80a73d60-ff2d-4d63-a39a-b13edebb77c0"}}],bidderTimeout:1500}),this.ad.show()),this.adLoaded=!0,this._adActivityTracking("load"),this._setRefreshTimeout())}},t.prototype._canRefreshAd=function(){var e=!(void 0!==document.hidden)||!1===document.hidden,t=!!this.props.adRefreshTimeout;return e&&!0===t},t.prototype._refreshAd=function(){this._adActivityTracking("refresh"),this._clearAd(),this._loadAd()},t.prototype._clearRefreshTimeout=function(){this.adRefreshTimeoutId&&(clearTimeout(this.adRefreshTimeoutId),this.adRefreshTimeoutId=void 0)},t.prototype._setRefreshTimeout=function(){this._canRefreshAd()&&(this._clearRefreshTimeout(),this.adRefreshTimeoutId=setTimeout(this._refreshAd.bind(this),1e3*this.props.adRefreshTimeout))},t.prototype._onAdViewable=function(){this._adActivityTracking("viewable"),this._setRefreshTimeout()},t.prototype._getContainerStyle=function(){var e=this.props.adSize,t=e[0],n=e[1];if(this.props.horizontalLayout){var r=this.props.smallLayout?21:0;return{minHeight:n+r+"px",maxHeight:n+r+"px"}}return{minWidth:t+"px",maxWidth:t+"px"}},t.prototype._getContainerClass=function(){var e=["fullscreen-ad-placement"];return this.props.smallLayout&&e.push("fullscreen-ad-placement--small"),this.props.horizontalLayout?e.push("fullscreen-ad-placement--horizontal"):e.push("fullscreen-ad-placement--vertical"),e.join(" ")},t.prototype._getAdPlacementStyle=function(){return this.props.horizontalLayout?{width:this.props.adSize[0]+"px"}:{}},t.prototype._getAdStyle=function(){return{width:this.props.adSize[0]+"px",height:this.props.adSize[1]+"px"}},t.prototype.render=function(){var e=this;return i.a.createElement("div",{className:this._getContainerClass(),style:this._getContainerStyle()},i.a.createElement("div",{className:"fullscreen-ad-placement__cnt",style:this._getAdPlacementStyle()},i.a.createElement("div",{className:"fullscreen-ad-placement__text"},"Ad"),i.a.createElement("div",{className:"fullscreen-ad-placement__ad",style:this._getAdStyle(),ref:function(t){e.adContainer=t}})))},t}(i.a.Component);u.defaultProps={adsensePublisherId:null},t.a=u},,function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(6),i=n(15),o=Object(r.a)(function(e){return e.metadata.isAdsafe},i.l,function(e){return!!e.adsense.account},function(e,t,n){return e&&(!t||n)})},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(0),i=n(31),o=n(8),a=n(5),s=n(146),u=n(10),c=n(40),l=n(24),d=n(35),p=n(45),h=n(13),f=n(7),m=function(e){function t(){var n,r,i;babelHelpers.classCallCheck(this,t);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return n=r=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(s))),r.onKeyDown=function(e){var t=r.props,n=t.dispatch,i=t.toggleFullscreen,a=t.canFind,s=t.lastSpreadIndex,l=t.moreContentContainerIsVisible,h=t.isFindOverlayVisible,f=t.fullscreenEnabled,m=r.isOSX;if(e.keyCode===c.c&&(l?n(Object(p.e)()):h?n(d.a.closeFindDialog()):f&&i()),!(r.isRepeating()||document.activeElement&&"INPUT"===document.activeElement.tagName)){switch(e.keyCode){case c.d:a&&m&&e.metaKey||!m&&e.ctrlKey?(e.preventDefault(),r.openFindDialog()):i();break;case c.e:a&&!m&&(e.preventDefault(),r.openFindDialog());break;case c.f:a&&(e.preventDefault(),r.openFindDialog());break;case c.h:case c.a:if(e.metaKey)break;r.startRepeating(function(t){r.props.canGoBackward&&r.goToPreviousPage(),t||r.props.dispatch(u.g(e.keyCode))});break;case c.j:case c.i:case c.k:if(e.metaKey)break;r.startRepeating(function(t){r.props.canGoForward&&r.goToNextPage(),t||r.props.dispatch(u.g(e.keyCode))});break;case c.g:n(o.k(0));break;case c.b:n(o.k(s))}n(u.g(e.keyCode))}},r.onKeyUp=function(e){switch(e.keyCode){case c.j:case c.h:case c.a:case c.i:case c.k:r.stopRepeating()}},i=n,babelHelpers.possibleConstructorReturn(r,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){this.isOSX="MacIntel"===window.navigator.platform,window.addEventListener("keyup",this.onKeyUp,!1),window.addEventListener("keydown",this.onKeyDown,!1)},t.prototype.componentDidUpdate=function(){var e=this.props,t=e.canGoBackward,n=e.canGoForward,r=e.canFind,i=e.featureTracker;t&&i.opportunity(f.a.KEYBOARD_BACKWARD),n&&i.opportunity(f.a.KEYBOARD_FORWARD),r&&i.opportunity(f.a.KEYBOARD_OPEN_FIND)},t.prototype.componentWillUnmount=function(){this.stopRepeating(),window.removeEventListener("keyup",this.onKeyUp,!1),window.removeEventListener("keydown",this.onKeyDown,!1)},t.prototype.startRepeating=function(e){var t=this,n=!0;!function r(){e(n);var i=n?l.a:l.e;n=!1,t._repeatTimeoutId=setTimeout(r,i)}()},t.prototype.isRepeating=function(){return!!this._repeatTimeoutId},t.prototype.stopRepeating=function(){this._repeatTimeoutId&&clearTimeout(this._repeatTimeoutId),this._repeatTimeoutId=null},t.prototype.goToPreviousPage=function(){var e=this.props,t=e.dispatch,n=e.featureTracker;t(o.f()),n.usage(f.a.KEYBOARD_BACKWARD)},t.prototype.goToNextPage=function(){var e=this.props,t=e.dispatch,n=e.featureTracker;t(o.e()),n.usage(f.a.KEYBOARD_FORWARD)},t.prototype.openFindDialog=function(){var e=this.props,t=e.dispatch,n=e.featureTracker;t(d.a.openFindDialog()),n.usage(f.a.KEYBOARD_OPEN_FIND)},t.prototype.render=function(){return r.Children.only(this.props.children)},t}(r.Component);var g=Object(i.b)(function(e){return{canFind:e.features.enableFind&&!a.E(e)&&d.d.selectIsAvailable(e),canGoBackward:s.a(e),canGoForward:s.b(e),lastSpreadIndex:a.s(e),moreContentContainerIsVisible:a.e(e),isFindOverlayVisible:d.d.isVisible(e),fullscreenEnabled:Object(h.d)(e)}})(m)},function(e,t,n){"use strict";n.d(t,"a",function(){return x});var r=n(130),i=n(431),o=n(432),a=n(180),s=n(13),u=n(45),c=n(64),l=n(92),d=n(176),p=n(105),h=n(125),f=n(15),m=n(35),g=n(177),v=n(122),_=n(142),b=n(63),y=n(12),E=n(46),T=n(433),w=n(124),C=n(53);function x(e,t,n,x,O,R,S,I,A){var P=i.a(R,O),k=r.b(),N=o.a(R),L=Object(a.b)(),D=Object(s.c)(),M=Object(u.f)(),H=Object(c.a)(A),F=Object(l.b)(),U=Object(h.a)(),B=Object(m.c)(),j=Object(f.p)(R.disableLicenseCheck),z=Object(d.a)(e,t,n,x),G=Object(_.b)();return function(e,t){var n=e||{};return{metadata:Object(y.c)(n.metadata,t),adsense:Object(w.c)(n.adsense,t),pages:Object(T.a)(n.pages,t),links:Object(E.f)(n.links,t),canvasContext:H(n.canvasContext,t),download:Object(b.f)(n.download,t),fullscreen:D(n.fullscreen,t),headerControls:L(n.headerControls,t),loading:k(n.loading,t),reader:P(n.reader,t),readmore:M(n.readmore,t),paywall:Object(p.d)(n.paywall,t),size:F(n.size,t),videoOverlay:Object(v.b)(n.videoOverlay,t),inlineVideo:G(n.inlineVideo,t),visibility:Object(g.b)(n.visibility,t),features:N(n.features,t),canvasApi:U(n.canvasApi,t),find:B(n.find,t),licenses:j(n.licenses,t),config:z(n.config,t),featureTracker:S,readMorePlugin:t.type===C.a?t.readMorePlugin:n.readMorePlugin||I}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(8),i=n(44),o=n(53),a=n(38),s=n(92),u=n(109),c={arrivedAtSpreadTimeStamp:0,autoFlipInitially:!1,debugMode:!1,hoveringOverControls:!1,initialPageNumber:0,interactedWithReader:!1,interactingWithControls:!1,interactingWithCanvas:!1,isIdle:!0,isReady:!1,lastSpreadIndexArrivedAt:-1,targetSpreadIndex:0,visiblePageNumbers:[],currentPageNumbers:[],currentPageNumber:0,currentSpreadIndex:-1,positionInPercent:0,zoomLevel:1,largeViewState:u.c,largeViewPromoted:!1};function l(e,t){return Object.assign({},e,{hoveringOverControls:t})}function d(e,t){return Object.assign({},e,{largeViewState:t})}function p(e,t){return Object.assign({},e,{largeViewPromoted:t})}function h(e,t){switch(t.type){case r.q.SET_TARGET_SPREAD_INDEX:return function(e,t){return Object.assign({},e,{targetSpreadIndex:t.index})}(e,t);case r.q.SET_INTERACTING_WITH_CONTROLS:return function(e,t){return Object.assign({},e,{interactingWithControls:t.val})}(e,t);case r.q.SET_INTERACTED_WITH_READER:return function(e,t){return Object.assign({},e,{interactedWithReader:!0})}(e);case r.q.SET_HOVERING_OVER_CONTROLS:return l(e,t.val);case s.a:return l(e,!1);case i.a:return function(e,t){return Object.assign({},e,{visiblePageNumbers:t.visiblePageNumbers,currentPageNumbers:t.currentPageNumbers,currentSpreadIndex:t.currentSpreadIndex,currentPageNumber:t.currentPageNumber,positionInPercent:t.positionInPercent,targetSpreadIndex:t.currentSpreadIndex===e.targetSpreadIndex?-1:e.targetSpreadIndex})}(e,t);case r.q.READER_ZOOM_LEVEL_CHANCED:return function(e,t){return Object.assign({},e,{zoomLevel:t.zoomLevel})}(e,t);case r.q.LARGE_VIEW_HIDE:return d(e,u.c);case r.q.LARGE_VIEW_SHOW_ENGAGED:return d(e,u.b);case r.q.LARGE_VIEW_SHOW_DISENGAGED:return d(e,u.a);case r.q.LARGE_VIEW_BUTTON_PROMOTED:return p(e,!0);case r.q.LARGE_VIEW_BUTTON_NOT_PROMOTED:return p(e,!1);case o.a:return function(e,t){return Object.assign({},e,{interactedWithReader:!1})}(e);case a.c:return function(e,t){var n=t.pageNumber,r=t.targetSpreadIndex,i=t.currentPageNumbers;return Object.assign({},e,{targetSpreadIndex:r,currentPageNumbers:i,currentPageNumber:n,isReady:!0})}(e,t);case"SET_IS_IDLE":return function(e,t){return Object.assign({},e,{isIdle:t.isIdle})}(e,t);default:return e}}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=babelHelpers.extends({},c,{autoFlipInitially:e.autoFlip,initialPageNumber:t});return function(){return h(arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,arguments[1])}}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(53),i=n(21);function o(e,t){switch(t.type){case r.a:var n=t.embedConfig,o=Object.assign({},e,{autoFlip:n.autoFlip,backgroundImage:function(e){if(e.backgroundImage){var t=null;if("topleft"===e.backgroundImagePosition?t=i.BACKGROUND_IMAGE_STYLE.TOP_LEFT:"stretch"===e.backgroundImagePosition&&(t=i.BACKGROUND_IMAGE_STYLE.STRETCH),t)return{url:e.backgroundImage,style:t,hideWhenNotInFullscreen:!0}}return null}(n),logo:function(e){return e.logo?{url:e.logo,hideWhenNotInFullscreen:!0}:null}(n),backgroundColor:n.backgroundColor,fullscreenBackgroundColor:n.fullscreenBackgroundColor,readModeRules:{defaultMode:"singlePage"===n.viewMode?i.READ_MODE.SINGLE_PAGE_SPREAD:i.READ_MODE.DOUBLE_PAGE_SPREAD,responsiveModeWhen:i.READ_MODE.RESPONSIVE.HANDHELD_IN_PORTRAIT_FULLSCREEN}});return o.controls=o.controls.map(function(e){return e.type===i.SHARE_DIALOG_TYPE?Object.assign({},e,{customizedToNotShow:!n.shareButtonEnabled}):e}),o;default:return e}}function a(e){return function(){return o(arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,arguments[1])}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(12),i={pages:[]};function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.a:return{pages:t.doc.pages};default:return e}}},,function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(38),i=n(8),o=n(53),a=n(5),s=4e3,u=void 0,c=!0;function l(e){u=window.setInterval(function(){a.c(e.getState())?c=!0:a.d(e.getState())&&(c=!1),e.dispatch(c?Object(i.e)():Object(i.f)())},s)}function d(){u&&(window.clearInterval(u),u=void 0)}var p=function(e){return function(t){return function(n){var a=t(n);switch(n.type){case r.c:e.getState().reader.autoFlipInitially&&l(e);break;case i.q.SET_INTERACTED_WITH_READER:e.getState().reader.interactedWithReader&&d();break;case o.a:d(),e.getState().features.autoFlip&&l(e)}return a}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(64),i=n(94),o=n.n(i),a=function(e){return function(t){return function(n){var i=t(n),a=e.getState();return o.a.setTagsContext({webgl:Object(r.e)(a)}),i}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(17),i=window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return Date.now()},o=function(){function e(t){babelHelpers.classCallCheck(this,e),this._hasTrackedTimeToCover=!1,this._pageLoadStartTime=new Map,this._fontLoadStartTime=new Map,this._imageDecodeStartTime=new Map,this._pageLoadStats={failedCount:0,successCount:0,successAfterRetryCount:0,failedTotalTime:0,successTotalTime:0,layersImageFallbackCount:0,fontloadCount:0,fontloadTotalTime:0},this._pageLoadStatsTimerId=null,this._totalFontRenderCalls=0,this._totalSlowFontRenderCalls=0,this._totalFramesDroppedOnFontRendering=0,this._fontRenderingTimings={uncached:[],preview:[],hires:[]},this._fontLoadTimings=[],this._imageDecodeTimings=[],this.metrics=t}return e.prototype.onLoaderError=function(){this.metrics.monitor("reader3-render-manager-load-layer-error")},e.prototype.onOpsValidationError=function(e){this.metrics.monitor("reader3-render-manager-ops-validation-failed",{count:e})},e.prototype.onDocumentLoadSuccess=function(e){this.metrics.monitor("reader3-documentload-stats",{success_time:e})},e.prototype.onDocumentLoadFailure=function(e,t){this.metrics.monitor("reader3-documentload-stats",{failed_time:e,backend_error:t.name===r.f?1:0,fetch_error:t.name===r.g?1:0})},e.prototype.onDynamicApiLoadComplete=function(e,t){t?this.metrics.monitor("reader3-dynamicapi-stats",{failure:1,failure_time:Math.round(e)}):this.metrics.monitor("reader3-dynamicapi-stats",{success:1,success_time:Math.round(e)})},e.prototype.onReadMoreLoadComplete=function(e){var t=e?{success:1}:{failure:1};this.metrics.monitor("reader3-readmoreload-stats",t)},e.prototype.onPageLoadStart=function(e,t){this.mode=t,this._pageLoadStartTime.set(e,i())},e.prototype.onPageLoadSuccess=function(e){var t=i();if(!this._hasTrackedTimeToCover){try{var n=window.performance.timing.fetchStart-window.performance.timing.navigationStart,r=window.performance.now()-n;this.metrics.onTimeToCover(r)}catch(e){}this._hasTrackedTimeToCover=!0}this._pageLoadStats.successCount+=1,this._pageLoadStats.successTotalTime+=t-(this._pageLoadStartTime.get(e)||0),this._pageLoadStartTime.delete(e),this.batchPageLoadStats()},e.prototype.onPageLoadSuccessAfterRetry=function(e){this._pageLoadStats.successAfterRetryCount+=1,this.onPageLoadSuccess(e)},e.prototype.onPageLoadFailure=function(e){this._pageLoadStats.failedCount+=1,this._pageLoadStats.failedTotalTime+=i()-(this._pageLoadStartTime.get(e)||0),this.batchPageLoadStats()},e.prototype.onLayersImageFallback=function(){this._pageLoadStats.layersImageFallbackCount+=1,this.batchPageLoadStats()},e.prototype.onFontRenderingStart=function(){},e.prototype.onFontRenderingEnd=function(){},e.prototype.uncachedFontRenderingTracker=function(){return this._fontRenderingTracker("uncached")},e.prototype.previewFontRenderingTracker=function(){return this._fontRenderingTracker("preview")},e.prototype.hiresFontRenderingTracker=function(){return this._fontRenderingTracker("hires")},e.prototype._fontRenderingTracker=function(e){var t=this,n=void 0;return{start:function(){n=i()},end:function(){var r=i()-n;t._fontRenderingTimings[e].push(Math.round(r)),t._totalFontRenderCalls+=1;var o=Math.max(Math.floor(r/(1e3/60))-1,0);o&&(t._totalSlowFontRenderCalls+=1,t._totalFramesDroppedOnFontRendering+=o),t.batchPageLoadStats()}}},e.prototype.onFontLoadStart=function(e){this._fontLoadStartTime.set(e,i())},e.prototype.onFontLoadEnd=function(e){var t=i()-(this._fontLoadStartTime.get(e)||0);this._fontLoadTimings.push(Math.round(t)),this._fontLoadStartTime.delete(e)},e.prototype.onImageDecodeStart=function(e){this._imageDecodeStartTime.set(e,i())},e.prototype.onImageDecodeEnd=function(e){var t=i()-(this._imageDecodeStartTime.get(e)||0);this._imageDecodeTimings.push(Math.round(t)),this._imageDecodeStartTime.delete(e)},e.prototype.batchPageLoadStats=function(){var e=this;if(!this._pageLoadStatsTimerId){var t=this._pageLoadStats;this._pageLoadStatsTimerId=setTimeout(function(){if(e._pageLoadStatsTimerId=null,t.successCount>0){var n={success_count:t.successCount,success_total_time:t.successTotalTime,success_avg_time:t.successTotalTime/t.successCount,success_after_retry:t.successAfterRetryCount,mode:e.mode,load_and_decode_count:void 0,load_and_decode_total_time:void 0,load_and_decode_avg_time:void 0};t.fontloadCount>0&&(Object.assign(n,{load_and_decode_count:t.fontloadCount,load_and_decode_total_time:t.fontloadTotalTime,load_and_decode_avg_time:t.fontloadTotalTime/t.fontloadCount}),t.fontloadCount=0,t.fontloadTotalTime=0),e.metrics.monitor("reader3-pageload-stats",n),t.successCount=0,t.successAfterRetryCount=0,t.successTotalTime=0}t.layersImageFallbackCount>0&&(e.metrics.monitor("reader3-pageload-stats",{layers_image_fallback_count:t.layersImageFallbackCount}),t.layersImageFallbackCount=0),t.failedCount>0&&(e.metrics.monitor("reader3-pageload-stats",{failed_count:t.failedCount,failed_total_time:t.failedTotalTime,failed_avg_time:t.failedTotalTime/t.failedCount,mode:e.mode}),t.failedCount=0,t.failedTotalTime=0),e._totalFontRenderCalls>0&&(e.metrics.monitor("reader3-fontrender-stats",{total:e._totalFontRenderCalls,total_slow:e._totalSlowFontRenderCalls,total_frames_dropped:e._totalFramesDroppedOnFontRendering,mode:e.mode,time_uncached:e._fontRenderingTimings.uncached.slice(0),time_preview:e._fontRenderingTimings.preview.slice(0),time_hires:e._fontRenderingTimings.hires.slice(0)}),e._totalFontRenderCalls=0,e._totalSlowFontRenderCalls=0,e._totalFramesDroppedOnFontRendering=0,e._fontRenderingTimings.uncached.length=0,e._fontRenderingTimings.preview.length=0,e._fontRenderingTimings.hires.length=0),(e._fontLoadTimings.length||e._imageDecodeTimings.length)&&(e.metrics.monitor("reader3-fontload-stats",{image_decode:e._fontLoadTimings.slice(0),font_load:e._imageDecodeTimings.slice(0),mode:e.mode}),e._fontLoadTimings.length=0,e._imageDecodeTimings.length=0)},5e3)}},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(143),i=n(38),o=n(13),a=n(5),s=function(e,t){var n={};return n[i.c]=function(t,n,r){if(e.isEmbed){var i={};i[a.B(n)]=1,e.monitor("reader3-embed-size",i)}},n[o.g.ENTER_FULLSCREEN]=function(t,n,r){e.monitor("reader3-fullscreen-method."+r.fullscreenMethod,{count:1})},Object(r.a)(n,t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(38),i=n(45),o=n(143),a=function(e,t){var n={};return n[r.c]=function(t,n,r){e.onDocumentLoadSuccess(r.timeStamp-n.loading.loadStartTime)},n[r.b]=function(t,n,r){e.onDocumentLoadFailure(r.timeStamp-n.loading.loadStartTime,r.error)},n[i.c]=function(t,n,r){e.onReadMoreLoadComplete(!0)},n[i.b]=function(t,n,r){e.onReadMoreLoadComplete(!1)},Object(o.a)(n,t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(53),i=n(8),o=n(44),a=n(46),s=n(63),u=n(38),c=n(92),l=n(5),d=n(13),p=n(12),h=n(143),f=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],f=[],m={};m[i.q.SET_INTERACTED_WITH_READER]=function(t,n,r){e.onActivity(n.reader.interactedWithReader)},m[i.q.READER_ZOOM_LEVEL_CHANCED]=function(t,n,r){e.onZoom(n.reader.zoomLevel)},m[s.d]=function(t,n,r){e.onDownload(Object(p.d)(n))},m[o.a]=function(t,n,r){if(n.reader.isReady){var i=t.reader.currentPageNumbers,o=n.reader.currentPageNumbers;i.join()!==o.join()&&e.onPageChanged(o)}},m[u.c]=function(t,n,r){var i=Object(l.j)(n);e.onDocumentLoaded(Object(p.d)(n),i)},m[c.a]=function(t,n,r){n.reader.isReady&&e.onResize(r.width+"x"+r.height,Object(d.d)(n))},m[a.a]=function(t,n,r){r.linkModel.type===a.b.GOTO_PAGE?e.onClippingActionGotoPage(r.linkModel):e.onClippingActionOpenUrl(r.linkModel)};var g={};if(n){var v=Object.keys(m),_=Array.isArray(v),b=0;for(v=_?v:v[Symbol.iterator]();;){var y;if(_){if(b>=v.length)break;y=v[b++]}else{if((b=v.next()).done)break;y=b.value}var E=y;g[E]=m[E]}}else g[u.c]=function(t,n,r){var i=Object(l.j)(n);f.push(function(){return e.onDocumentLoaded(Object(p.d)(n),i)})},g[r.b]=function(e,t,n){var i=f,o=Array.isArray(i),a=0;for(i=o?i:i[Symbol.iterator]();;){var s;if(o){if(a>=i.length)break;s=i[a++]}else{if((a=i.next()).done)break;s=a.value}s()}var u=Object.keys(m),c=Array.isArray(u),l=0;for(u=c?u:u[Symbol.iterator]();;){var d;if(c){if(l>=u.length)break;d=u[l++]}else{if((l=u.next()).done)break;d=l.value}var p=d;g[p]=m[p]}g[r.b]=function(){}};return Object(h.a)(g,t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(2),i=function(){function e(t){babelHelpers.classCallCheck(this,e),this._previousPageNumbers=[],this._timeoutId=null,this.quantcastTracker=t}return e.prototype.destroy=function(){window.clearTimeout(this._timeoutId)},e.prototype.onDocumentLoaded=function(e){var t=this;this._previousPageNumbers=e,Object(r.r)().rIC(function(){t.quantcastTracker.track()})},e.prototype.onPageChanged=function(e){var t=this;this._previousPageNumbers.join()!==e.join()&&(this._previousPageNumbers=e,window.clearTimeout(this._timeoutId),this._timeoutId=window.setTimeout(function(){var e=t._previousPageNumbers.slice();Object(r.r)().rIC(function(){e.forEach(function(e){t.quantcastTracker.track()})})},1e3))},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(44),i=n(38),o=function(e,t){return function(n){return function(o){return function(a){var s=o(a),u=n.getState();try{switch(a.type){case i.c:e.onDocumentLoaded(a.currentPageNumbers);break;case r.a:u.reader.isReady&&a.currentPagesHasChanged&&e.onPageChanged(a.currentPageNumbers)}}catch(e){t(e)}return s}}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(2),i=function(){function e(t){babelHelpers.classCallCheck(this,e),this._baseUrl="",this._previousPageNumbers=[],this._timeoutId=null,this.gaTracker=t}return e.prototype.destroy=function(){window.clearTimeout(this._timeoutId)},e.prototype.onDocumentLoaded=function(e,t,n){var i=this;this._baseUrl=e,this._previousPageNumbers=n,Object(r.r)().rIC(function(){i.gaTracker.sendInitialPageview(i._baseUrl+"/"+t),i.gaTracker.handleDocumentLoadByPublisherAccount(i._baseUrl)})},e.prototype.onPageChanged=function(e){var t=this;this._previousPageNumbers.join()!==e.join()&&(this._previousPageNumbers=e,window.clearTimeout(this._timeoutId),this._timeoutId=window.setTimeout(function(){var e=t._previousPageNumbers.slice();Object(r.r)().rIC(function(){e.forEach(function(e){t.gaTracker.sendVirtualPageview(t._baseUrl+"/"+e)})})},1e3))},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(38),i=n(44),o=n(12),a=function(e,t){return function(n){return function(a){return function(s){var u=a(s),c=n.getState();try{switch(s.type){case r.c:e.onDocumentLoaded(Object(o.d)(c).path,s.pageNumber,s.currentPageNumbers);break;case i.a:c.reader.isReady&&s.currentPagesHasChanged&&e.onPageChanged(s.currentPageNumbers)}}catch(e){t(e)}return u}}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(8),i=n(45),o=n(32),a=n(5),s=n(15),u=n(13),c=n(44),l=n(38),d=n(53),p=n(12);var h=function(){};function f(e,t){var n={ON_DOCUMENT_LOAD_EVENT:h,ON_PAGE_CHANGE_EVENT:h,ON_ENTER_FULLSCREEN:h,ON_EXIT_FULLSCREEN:h,ON_LARGE_VIEW_CLICK:h};return{types:{ENABLE_TRACKING:d.b,EMBED_PREVIEW:d.a},middleware:function(e){return function(i){return function(o){var s=i(o),d=e.getState();try{switch(o.type){case u.g.ENTER_FULLSCREEN:n.ON_ENTER_FULLSCREEN();break;case u.g.EXIT_FULLSCREEN:n.ON_EXIT_FULLSCREEN();break;case l.c:var p=Object(a.j)(d);n.ON_DOCUMENT_LOAD_EVENT(p);break;case c.a:if(o.currentPagesHasChanged){var h=o.currentPageNumbers;n.ON_PAGE_CHANGE_EVENT(h)}break;case r.q.LARGE_VIEW_BUTTON_CLICKED:n.ON_LARGE_VIEW_CLICK()}}catch(e){t(e)}return s}}},api:function(t){return{beginTrackingReads:function(){t.dispatch({type:d.b})},toggleFullscreen:function(){var e=t.getState(),n=Object(a.o)(e);t.dispatch(Object(u.f)(n))},embedPreview:function(n,u){t.dispatch(function(e,t,n){var u=[s.b,s.f,s.a,s.c,s.e,s.d],c=function(e,t){var n=t();n.readMorePlugin&&n.readMorePlugin.load(n.config.origins.main,Object(p.d)(n).publicationId,Object(p.d)(n).username,s.o(n),s.m(n)).then(function(t){t&&e(Object(i.h)())})};return function(i,l){i({type:d.a,embedConfig:t,readMorePlugin:n});var p=Object(a.A)(l());i(Object(r.k)(Object(o.a)(p,t.startPage))),t.noRelatedEnabled?(i(s.r(u.concat([s.g]))),c(i,l)):e.whenLicensesFetched().then(function(e){i(s.r(Array.from(new Set(u.concat(e))))),c(i,l)})}}(e,n,u))},getPageNumbers:function(){return Object(a.j)(t.getState())},getPageCount:function(){return Object(p.d)(t.getState()).pageCount},setPageNumber:function(e){t.dispatch(function(e){return function(t,n){var i=Object(a.A)(n());return t(Object(r.k)(Object(o.a)(i,e)))}}(e))},goToPreviousPage:function(){t.dispatch(Object(r.f)())},goToNextPage:function(){t.dispatch(Object(r.e)())},hideLargeViewButton:function(){t.dispatch(Object(r.g)())},showLargeViewEngagedButton:function(){t.dispatch(Object(r.p)())},showLargeViewDisengagedButton:function(){t.dispatch(Object(r.o)())},largeViewButtonPromoted:function(){t.dispatch(Object(r.i)())},largeViewButtonNotPromoted:function(){t.dispatch(Object(r.h)())},setCallback:function(e,t){n.hasOwnProperty(e)&&(n[e]=t)}}}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=Object.prototype.toString,i=Function.prototype.toString,o=/^\[object .+?Constructor\]$/,a=RegExp("^"+String(r).replace(/[.*+?^${}()|[\]\/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function s(e){var t=void 0===e?"undefined":babelHelpers.typeof(e);return"function"===t?a.test(i.call(e)):e&&"object"===t&&o.test(r.call(e))||!1}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(77),i=16,o="\n#extension GL_OES_standard_derivatives : require\nprecision highp float;\nvarying vec3 v[8];\nvoid main(void) {\n    vec3 d = smoothstep(0.0, v[3].x, dFdx(vec3(v[1])) * fwidth(v[2])); // Undeclared identifier 'dFdx'\n    if (gl_FrontFacing) { // This hardware is unable to support gl_FrontFacing\n        gl_FragColor = vec4(1, d.x, 0, 1);\n    } else {\n        gl_FragColor = vec4(0, d.x, 1, 1);\n    }\n}\n",a="\nprecision highp float;\nattribute vec2 vertex;\nvarying vec3 v[8];\nvoid main(void) {\n    v[0] = vec3(0); // Maximum varying vector count exceeded\n    v[1] = vec3(1); // Maximum varying vector count exceeded\n    v[2] = vec3(2); // Maximum varying vector count exceeded\n    v[3] = vec3(3); // Maximum varying vector count exceeded\n    v[4] = vec3(4); // Maximum varying vector count exceeded\n    v[5] = vec3(5); // Maximum varying vector count exceeded\n    v[6] = vec3(6); // Maximum varying vector count exceeded\n    v[7] = vec3(7); // Maximum varying vector count exceeded\n\n    vec2 p = 2.0 * vertex - 1.0;\n    gl_Position = vec4(p.x, -p.y, 0.0, 1.0);\n}\n";function s(e,t,n){var r=e.createShader(n);if(e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw new Error("Cannot compile "+n+" shader: "+e.getShaderInfoLog(r));return r}function u(e,t,n,r,o){if(e.checkFramebufferStatus(e.FRAMEBUFFER)!==e.FRAMEBUFFER_COMPLETE)throw new Error("cannot read from framebuffer");var a=new Uint8Array(i*i*4);e.readPixels(0,0,i,i,e.RGBA,e.UNSIGNED_BYTE,a);for(var s=0;s<i*i;s++){var u=a.subarray(4*s,4*(s+1));if(u[0]!==t||u[1]!==n||u[2]!==r||u[3]!==o)return!1}return!0}function c(e){[].push(function(e,t){var n=e.getExtension(t);if(!n)throw new Error("does not support extension ");return n}(e,"OES_standard_derivatives"));var t=e.createProgram(),n=s(e,a,e.VERTEX_SHADER),r=s(e,o,e.FRAGMENT_SHADER);if(e.attachShader(t,n),e.attachShader(t,r),e.linkProgram(t),!e.getProgramParameter(t,e.LINK_STATUS))throw new Error("Cannot link shaderprogram: "+e.getProgramInfoLog(t));var c=e.getAttribLocation(t,"vertex");e.enableVertexAttribArray(c);var l=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,l),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),e.STATIC_DRAW),e.vertexAttribPointer(t.vertex,2,e.FLOAT,!1,0,0);var d=e.createTexture();e.bindTexture(e.TEXTURE_2D,d),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,i,i,0,e.RGBA,e.UNSIGNED_BYTE,null);var p=e.createFramebuffer();if(e.bindFramebuffer(e.FRAMEBUFFER,p),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,d,0),e.viewport(0,0,i,i),e.useProgram(t),e.drawArrays(e.TRIANGLE_STRIP,0,4),!u(e,255,0,0,255))throw new Error("did not render correct color (frontfacing)");if(e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,1,1,0]),e.STATIC_DRAW),e.drawArrays(e.TRIANGLE_STRIP,0,4),!u(e,0,0,255,255))throw new Error("did not render correct color (backfacing)");e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindTexture(e.TEXTURE_2D,null),e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteFramebuffer(p),e.deleteTexture(d),e.deleteBuffer(l),e.detachShader(t,n),e.deleteShader(n),e.detachShader(t,r),e.deleteShader(r),e.deleteProgram(t)}var l=function(){function e(){babelHelpers.classCallCheck(this,e)}return e.isWebGLSupported=function(){try{var e=Object(r.a)(document.createElement("canvas"));return!!e&&(c(e),!0)}catch(e){return!1}},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r='\n    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="1px" height="1px">\n    <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g>  <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g>  <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g>  <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g>  <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g>  <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g></svg>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),i=n.n(r),o=n(23),a=n.n(o),s=n(450),u=n(465),c=n(466),l=n(2),d=function(e){function t(){var n,r,i;babelHelpers.classCallCheck(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),r.onClickStreamItem=function(e,t){r.props.metrics.onMoreContentDocumentClick({revisionId:e.content.revisionId,publicationId:e.content.publicationId,ownerUsername:e.content.ownerUsername,publicationName:e.content.publicationName,streamOrigin:e.origin,streamRanking:t})},r.onClickSeeMore=function(){r.props.metrics.monitor("reader3-readmore-seemore",{click:1,msToClick:Date.now()-(r._visibilityTime?r._visibilityTime:0)},!0)},r.trackOnVisible=function(e){e.map(function(e,t){r.props.metrics.onMoreContentDocumentShow({revisionId:e.content.revisionId,publicationId:e.content.publicationId,ownerUsername:e.content.ownerUsername,publicationName:e.content.publicationName,pageNumber:1,streamOrigin:e.origin,streamRanking:t})}),r.showReadmoreButton(e)&&r.props.metrics.monitor("reader3-readmore-seemore",{impression:1}),r.showHeader(e)&&r.props.metrics.monitor("reader3-readmore-logo",{impression:1}),r._visibilityTime=Date.now()},r.decideStream=function(){if(!r.props.streamState)return[];var e=r.props.exitedFullscreen?r.props.streamState.exitFullscreenStream:r.props.streamState.buttonStream;return r.props.shouldHackStreamCount?e.slice(0,3):e},r.showHeader=function(e){return r.props.showAsOverlay||e.length>1},r.showReadmoreButton=function(e){return 4===e.length&&(!r.props.showAsOverlay||window.innerHeight>400)},r.seeMoreUrl=function(){return r.props.showOwnDocuments&&r.props.username?r.props.config.origins.main+"/"+r.props.username:r.props.config.origins.main+"/explore"+Object(l.x)("read_more_issuu",r.props.embedTrackingQuery)},r._visibilityTime=void 0,i=n,babelHelpers.possibleConstructorReturn(r,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidMount=function(){this._streamDebugMode=Object(c.a)()},t.prototype.componentDidUpdate=function(e,t){!e.isVisible&&this.props.isVisible&&this.trackOnVisible(this.decideStream())},t.prototype.render=function(){var e=this.decideStream();if(!e||0===e.length||!this.props.showMore)return null;var t=window.innerWidth<window.innerHeight,n=t&&this.props.showAsOverlay,r=this.seeMoreUrl(),o=a()("readmore",{"readmore--overlay":this.props.showAsOverlay,"readmore--overlay-landscape":this.props.showAsOverlay&&!t,"readmore--overlay-portrait":this.props.showAsOverlay&&t,"readmore--dropdown-4-items":!this.props.showAsOverlay&&4===e.length,"readmore--dropdown-3-items":!this.props.showAsOverlay&&3===e.length,"readmore--dropdown-2-items":!this.props.showAsOverlay&&2===e.length,"readmore--dropdown-1-items":!this.props.showAsOverlay&&1===e.length}),c=this.props.openInNewTab?"_blank":"_top";return i.a.createElement("div",{className:o},this.showHeader(e)&&i.a.createElement(u.a,{config:this.props.config,large:this.props.showAsOverlay&&window.innerHeight>360&&!t,oneLine:!this.props.showAsOverlay}),i.a.createElement(s.a,{animate:!n,config:this.props.config,debug:!(!this.props.debug&&!this._streamDebugMode),embedTrackingQuery:this.props.embedTrackingQuery,isVisible:this.props.isVisible,onClickElement:this.onClickStreamItem,openInNewTab:this.props.openInNewTab,publicationId:this.props.publicationId,publisherUsername:this.props.username,showAd:this.props.showAd,showAsColumns:n,stream:e}),this.showReadmoreButton(e)&&i.a.createElement("div",{className:"readmore__see-more-wrapper"},i.a.createElement("a",{className:"readmore__see-more",href:r,target:c,onClick:this.onClickSeeMore},"See more on Issuu")))},t}(r.Component);d.displayName="MoreContent"},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),i=n.n(r),o=n(23),a=n.n(o),s=n(451),u=n(2),c=function(e){function t(){var n,r,o;babelHelpers.classCallCheck(this,t);for(var a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];return n=r=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(s))),r.onClickStreamItem=function(e,t){r.props.onClickElement(e,t)},r._documentPageUrl=function(e,t){var n=r.props.config.origins.main+"/"+e.content.ownerUsername+"/docs/"+e.content.publicationName,i="?streamOrigin="+encodeURIComponent(e.origin.join(";"))+"&streamRanking="+t;return i+=Object(u.x)("read_more",r.props.embedTrackingQuery,"&"),n.toLowerCase()+i},r._imgUrl=function(e){var t=e.content.revisionId+"-"+e.content.publicationId;return r.props.config.origins.image+"/"+t+"/jpg/page_1_thumb_large.jpg"},r._getStreamWithAds=function(e,t){var n=e.slice();return n.splice(t,1,{isAd:!0}),n},r._getCoverMarkup=function(e,t){var n=e.content.height/e.content.width,o=e.content.revisionId+"-"+e.content.publicationId,a=r._imgUrl(e),s=r._documentPageUrl(e,t),u={backgroundImage:"url("+a+")",border:void 0},c=r.props.openInNewTab?"_blank":"_top",l=null;return r.props.debug&&(u.border="5px solid "+e.debug_info.color,l=i.a.createElement("span",{className:"stream-list__debug"},e.origin.join(";"))),i.a.createElement("a",{key:o,className:"stream-list__item stream-list__cover",href:s,style:u,target:c,title:e.content.title,onClick:function(n){return r.onClickStreamItem(e,t)}},l,i.a.createElement("div",{className:"stream-list__item-aspect",style:{paddingTop:100*n+"%"}}))},o=n,babelHelpers.possibleConstructorReturn(r,o)}return babelHelpers.inherits(t,e),t.prototype.componentWillUpdate=function(e,t){!this.props.isVisible&&e.isVisible&&e.animate?this.refs.stream.classList.add("stream-list--animate"):this.props.isVisible&&!e.isVisible&&this.refs.stream.classList.remove("stream-list--animate")},t.prototype.render=function(){var e=this,t=this.props.showAsColumns&&2!==this.props.stream.length,n=a()("stream-list",{"stream-list--columns":t,"stream-list--shelf":!t}),r=this.props.stream.length-1,o=this.props.showAd?this._getStreamWithAds(this.props.stream,r):this.props.stream;return i.a.createElement("div",{ref:"stream",className:n},o.map(function(t,n){return t.isAd?i.a.createElement(s.a,{key:"ad-key-"+r,isVisible:e.props.isVisible,fallbackCover:{linkUrl:e._documentPageUrl(e.props.stream[r],1),imageUrl:e._imgUrl(e.props.stream[r])},publicationId:e.props.publicationId,publisherUsername:e.props.publisherUsername}):e._getCoverMarkup(t,n)}))},t}(r.Component);c.displayName="StreamList"},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),i=n.n(r),o=n(186),a=n(33);var s=function(e){function t(){var n,r,i;babelHelpers.classCallCheck(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=babelHelpers.possibleConstructorReturn(this,e.call.apply(e,[this].concat(u))),r.loadAd=function(){var e=[["pageType","embed"],["isLoggedIn",Object(a.b)()?"true":"false"],["publicationId",r.props.publicationId],["ownerUsername",r.props.publisherUsername],["randomBucket",r.randomBucketInt],["isDevelopmentTest",(!1).toString()]],t=r.props.fallbackCover;t&&(e.push(["fallbackLink",encodeURIComponent(t.linkUrl)]),e.push(["fallbackCover",encodeURIComponent(t.imageUrl)])),r.adElement=document.createElement("div"),r.refs.adContainer.appendChild(r.adElement),r.ad=o.create({rootElm:r.adElement,dfpTargeting:e,adProviderConfig:{network:"/30443627/Embed_ReadMore",sizes:[[1,1]]},isProductionEnv:!0,trackingKey:"ads-widget.Embed_ReadMore"}),r.ad.show(),r.adLoaded=!0},r.randomBucketInt=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}(1,10),r.adLoaded=!1,i=n,babelHelpers.possibleConstructorReturn(r,i)}return babelHelpers.inherits(t,e),t.prototype.componentDidUpdate=function(){this.props.isVisible&&!this.adLoaded&&this.loadAd()},t.prototype.render=function(){return i.a.createElement("div",{className:"item-container stream-list__item"},i.a.createElement("div",{className:"ad-container",ref:"adContainer"}))},t}(r.Component);s.displayName="Ad"},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(28),i=n(453),o=n(454),a=n(455),s=n(456),u=n(457),c=n(458),l=n(459),d=n(460),p=4,h=function(){function e(t){babelHelpers.classCallCheck(this,e);var n={getUsername:function(){return t.username},getLanguage:function(){return t.language},getLocation:function(){return t.location},getReferrer:function(){return t.referrer},getSource:function(){return t.source},getWidth:function(){return t.width},getHeight:function(){return t.height},getBrowserSize:function(){return n.getWidth()+"x"+n.getHeight()}},r=function(e){if(!t.monitorEventsOnly||"monitor"===e.type){var n=new XMLHttpRequest;n.open("POST",t.pingbackOrigin+"/ping",!0),n.withCredentials=!0,n.setRequestHeader("Accept","application/json"),n.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),n.onreadystatechange=function(){n.readyState===p&&n.status},n.send(JSON.stringify(e))}},h=new o.a(t.origin+"_tracking-buildin"),f=new a.a(function(e){},h,r,n);this.deviceType=t.deviceType,this.browserName=t.browserName,this.readerEndPoint=t.readerEndPoint,this._monitorHandler=new i.a(h,r),this._seeMoreHandler=new s.a(f),this._linkHandler=new u.a(f),this._documentHandler=new c.a(f),this._websiteHandler=new l.a(h,r,n),Object(d.a)()}return e.prototype.onEvent=function(e){switch(e.type){case r.c:this._documentHandler.documentLoad(e.data);break;case r.m:this._documentHandler.userInteracted();break;case r.k:this._documentHandler.pageChange(e.data);break;case r.n:this._documentHandler.zoom();break;case r.l:this._documentHandler.resize(e.data);break;case r.b:this._websiteHandler.downloadAnonymously(e.data);break;case r.a:this._linkHandler.clippingAction(e.data);break;case r.j:this._seeMoreHandler.moreContentDocumentShow(e.data);break;case r.i:this._seeMoreHandler.moreContentDocumentClick(e.data);break;case r.d:this._monitorHandler.monitorBatched(e.data);break;case r.f:this._monitorHandler.monitor(e.data);break;case r.h:this._monitorHandler.monitorBatched({type:"rattlesnakes.reader3."+this.readerEndPoint+".documentimpression"});break;case r.e:var t=e.data,n=t.webgl?"3d":"2d";this._monitorHandler.monitorBatched(babelHelpers.extends({},t,{type:"reader3-dropped-frames."+n})),this._monitorHandler.monitorBatched(babelHelpers.extends({},t,{type:"reader3-dropped-frames."+n+".endpoint."+this.readerEndPoint})),this._monitorHandler.monitorBatched(babelHelpers.extends({},t,{type:"reader3-dropped-frames."+n+".browser."+this.browserName})),this._monitorHandler.monitorBatched(babelHelpers.extends({},t,{type:"reader3-dropped-frames."+n+".device."+this.deviceType}));break;case r.g:var i=e.data;this._monitorHandler.monitorBatched({type:"reader3-time-to-cover",ms_to_cover:i}),this._monitorHandler.monitorBatched({type:"reader3-time-to-cover."+this.readerEndPoint+"."+this.deviceType+"."+this.browserName,ms_to_cover:i})}},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function e(t,n){var r=this;babelHelpers.classCallCheck(this,e),this._postBatchedTimeoutId=void 0,this._batchedQueue=[],this._queueLength=function(){return r._batchedQueue.length},this._addToQueue=function(e){r._batchedQueue.push(babelHelpers.extends({},e,{version:"1.0.0"}))},this._startPostTimerIfNeeded=function(){void 0===r._postBatchedTimeoutId&&(r._postBatchedTimeoutId=setTimeout(function(){r._postBatchedTimeoutId=void 0,r._postAllQueued()},2e3))},this._postAllQueued=function(){0!==r._queueLength()&&(void 0!==r._postBatchedTimeoutId&&(r._postBatchedTimeoutId&&clearTimeout(r._postBatchedTimeoutId),r._postBatchedTimeoutId=void 0),r._post(babelHelpers.extends({},r._wrapper.getMonitorPingbackWrapper(),{data:r._batchedQueue})),r._batchedQueue=[])},this.monitor=function(e){r._addToQueue(e),r._postAllQueued()},this.monitorBatched=function(e){r._addToQueue(e),r._queueLength()>=20?r._postAllQueued():r._startPostTimerIfNeeded()},this.flush=function(){r._postAllQueued()},this._wrapper=t,this._post=n}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function e(t){var n=this;babelHelpers.classCallCheck(this,e),this._getPingbackWrapper=function(e){return{version:"2.2.0",origin:n._origin,type:e}},this.getMonitorPingbackWrapper=function(){return n._getPingbackWrapper("monitor")},this.getWebsitePingbackWrapper=function(){return n._getPingbackWrapper("website")},this.getReaderPingbackWrapper=function(){return n._getPingbackWrapper("reader")},this._origin=t}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});function r(e){return{version:"1.3.3",username:e.getUsername(),ui_language:e.getLanguage(),location:e.getLocation(),referrer:e.getReferrer(),source:e.getSource(),contexts:[]}}var i=function e(t,n,i,o){var a=this;babelHelpers.classCallCheck(this,e),this._signal=void 0,this._model=void 0,this._timeoutId=void 0,this.initializeModel=function(e){a._model?a._handleError(new Error("reader pingback helper->initializeModel->model already exist")):a._model={doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),pages:e.pages,pageNumber:e.pageNumber,ad_id:e.adpageId||null,ad_token:e.adpageToken||null,is_embed:e.isEmbed,embed_id:e.embedId||null,display_size:a._environment.getBrowserSize(),is_fullscreen:e.isFullscreen,stream_origin:e.streamOrigin||null,stream_ranking:e.streamRanking||null,user_interacted:!1}},this.clearModel=function(){a.executePingback(),a._model=void 0},this.updateModelOnPageChange=function(e){a._model?a._model.pages=e.pages:a._handleError(new Error("reader pingback handler->updateModelOnPageChange->no model."))},this.updateModelOnResize=function(e){a._model?(a._model.display_size=e.displaySize,a._model.is_fullscreen=e.isFullscreen):a._handleError(new Error("reader pingback handler->updateModelOnResize->no model."))},this.updateModelOnUserInteracted=function(){a._model?a._model.user_interacted=!0:a._handleError(new Error("reader pingback handler->updateModelOnUserInteracted->no model."))},this._executePingbackIfPlatformHasChanged=function(){var e=a._signal;if(e){var t=r(a._environment);["version","username","location","referrer","source"].find(function(n){return e.data[n]!==t[n]})&&a.executePingback()}},this.viewportHasUserAttention=function(){return a._model?!a._model.is_embed||a._model.is_fullscreen||a._model.user_interacted:(a._handleError(new Error("reader pingback handler - viewportHasUserAttention - no model.")),!1)},this.updateSignal=function(e){var t=a._model;if(t){a._executePingbackIfPlatformHasChanged();var n=a._signal||babelHelpers.extends({},a._wrapper.getReaderPingbackWrapper(),{data:r(a._environment)});a._signal=n,function(e,t){var n=e.data.contexts.length;if(0===n)return!0;var r=!1;return["doc_id","doc_creator","doc_name","ad_id","ad_token","embed_id","display_size","stream_origin","stream_ranking"].forEach(function(i){r=r||e.data.contexts[n-1][i]!==t[i]}),r=r||e.data.contexts[n-1].pages.toString()!==t.pages.toString()}(n,t)&&n.data.contexts.push({doc_id:t.doc_id,doc_creator:t.doc_creator,doc_name:t.doc_name,pages:t.pages,ad_id:t.ad_id,ad_token:t.ad_token,embed_id:t.embed_id,display_size:t.display_size,display_state:null,stream_origin:t.stream_origin,stream_ranking:t.stream_ranking,events:[]});var i=n.data.contexts.length;i>0?n.data.contexts[i-1].events.push(e):a._handleError(new Error("reader pingback handler context length invalid."))}else a._handleError(new Error("reader pingback handler - update signal - no model."))},this.getCurrentPages=function(){return a._model?a._model.pages:(a._handleError(new Error("reader pingback handler - get current pages - no model.")),[])},this.timeoutPingback=function(){if(a._signal){a._timeoutId&&(clearTimeout(a._timeoutId),a._timeoutId=void 0);for(var e=0,t=a._signal.data.contexts.length-1;t>=0;t--)e+=a._signal.data.contexts[t].events.length;e>=20?a.executePingback():a._timeoutId=setTimeout(function(){a.executePingback()},1500)}},this.executePingback=function(){a._timeoutId&&(clearTimeout(a._timeoutId),a._timeoutId=void 0),a._signal&&(a._post(a._signal),a._signal=void 0)},this._handleError=t,this._wrapper=n,this._post=i,this._environment=o}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function e(t){var n=this;babelHelpers.classCallCheck(this,e),this.moreContentDocumentShow=function(e){n._readerPingbackHelper.updateSignal({type:"more_content_document_impression",doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),page:e.pageNumber,stream_origin:e.streamOrigin,stream_ranking:e.streamRanking}),n._readerPingbackHelper.timeoutPingback()},this.moreContentDocumentClick=function(e){n._readerPingbackHelper.updateSignal({type:"more_content_document_click",doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),stream_origin:e.streamOrigin,stream_ranking:e.streamRanking}),n._readerPingbackHelper.executePingback()},this._readerPingbackHelper=t}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function e(t){var n=this;babelHelpers.classCallCheck(this,e),this.clippingAction=function(e){n._readerPingbackHelper.updateSignal({type:"clipping_action",clippingId:e.clippingId,action:e.action,on_page:e.onPage,creator:e.creator,url:e.url,page:e.page,service:e.service,videoid:e.videoid,opened_in_reader:e.opened_in_reader}),n._readerPingbackHelper.timeoutPingback()},this._readerPingbackHelper=t}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=[2e3,3e3,4e3,6e3,8e3,12e3],i=function e(t){var n=this;babelHelpers.classCallCheck(this,e),this._eventsAfterDocumentRead=[],this._documentReadTimeoutId=void 0,this._documentReadTriggered=!1,this._pageReadLastPages=null,this._pageReadStartTime=Date.now(),this._pageReadLastEndTime=Date.now(),this._delays=null,this._pageReadTimeTimeoutId=void 0,this._idleTimeoutId=void 0,this._setUpPageReadTimers=function(){n._delays=r.slice(0),n._pageReadStartTime=n._pageReadLastEndTime=Date.now(),n._startPageReadTimer()},this._startPageReadTimer=function(){n._pageReadTimeTimeoutId=setTimeout(function(){n._pageReadTimeTimeoutId=void 0,n._trackPageReadTime(),n._startPageReadTimer()},n._getNextPageReadTimeout())},this._startIdleTimer=function(){n._idleTimeoutId=setTimeout(function(){n._idleTimeoutId=void 0,void 0!==n._pageReadTimeTimeoutId&&(n._pageReadTimeTimeoutId&&clearTimeout(n._pageReadTimeTimeoutId),n._pageReadTimeTimeoutId=void 0,n._trackPageReadTime())},6e5)},this._resetIdleTimer=function(){void 0!==n._idleTimeoutId?(n._idleTimeoutId&&clearTimeout(n._idleTimeoutId),n._idleTimeoutId=void 0):n._readerPingbackHelper.viewportHasUserAttention()&&(n._pageReadLastEndTime=(new Date).getTime(),n._delays?n._startPageReadTimer():n._setUpPageReadTimers()),n._startIdleTimer()},this._clearTimers=function(){void 0!==n._idleTimeoutId&&(n._idleTimeoutId&&clearTimeout(n._idleTimeoutId),n._idleTimeoutId=void 0),void 0!==n._pageReadTimeTimeoutId&&(n._pageReadTimeTimeoutId&&clearTimeout(n._pageReadTimeTimeoutId),n._pageReadTimeTimeoutId=void 0,n._trackPageReadTime()),void 0!==n._documentReadTimeoutId&&(n._documentReadTimeoutId&&clearTimeout(n._documentReadTimeoutId),n._documentReadTimeoutId=void 0)},this._getNextPageReadTimeout=function(){var e=n._delays?n._delays.shift():NaN;if(isNaN(e)){var t=r.length;return r[t-1]+.2*((new Date).getTime()-n._pageReadStartTime)}return e},this._trackDocumentImpression=function(){n._readerPingbackHelper.updateSignal({type:"document_impression"}),n._readerPingbackHelper.timeoutPingback()},this._trackDocumentRead=function(){for(;n._eventsAfterDocumentRead.length>0;)n._readerPingbackHelper.updateSignal(n._eventsAfterDocumentRead.shift());n._readerPingbackHelper.updateSignal({type:"document_read"}),n._readerPingbackHelper.executePingback(),n._documentReadTriggered=!0,n._documentReadTimeoutId=void 0},this._trackPageImpression=function(e){e.forEach(function(e){n._readerPingbackHelper.updateSignal({type:"page_impression",page:e})}),n._readerPingbackHelper.timeoutPingback()},this._maybeTrackPageRead=function(){var e=n._readerPingbackHelper.getCurrentPages(),t=JSON.stringify(e);n._pageReadLastPages!==t&&(n._pageReadLastPages=t,e.forEach(function(e){var t={type:"page_read",page:e};n._documentReadTriggered?n._readerPingbackHelper.updateSignal(t):n._eventsAfterDocumentRead.push(t)}),n._readerPingbackHelper.timeoutPingback())},this._trackPageReadTime=function(){var e=(new Date).getTime(),t=n._readerPingbackHelper.getCurrentPages(),r=Math.floor((e-n._pageReadLastEndTime)/t.length);r<=0||(t.forEach(function(e){var t={type:"page_read_time",time_increment:r,page:e};n._documentReadTriggered?n._readerPingbackHelper.updateSignal(t):n._eventsAfterDocumentRead.push(t)}),n._pageReadLastEndTime=e,n._readerPingbackHelper.timeoutPingback())},this._maybeStartDocumentReadTimer=function(){void 0!==n._documentReadTimeoutId||n._documentReadTriggered||(n._documentReadTimeoutId=setTimeout(function(){n._trackDocumentRead()},2e3))},this.documentLoad=function(e){n._readerPingbackHelper.initializeModel(e),n._trackDocumentImpression(),n._trackPageImpression(e.pages),n._readerPingbackHelper.viewportHasUserAttention()&&(n._maybeStartDocumentReadTimer(),n._maybeTrackPageRead(),n._setUpPageReadTimers()),n._startIdleTimer()},this.documentUnLoad=function(){n.flush(),n._readerPingbackHelper.clearModel()},this.userInteracted=function(){n._readerPingbackHelper.updateModelOnUserInteracted(),n._resetIdleTimer(),n._readerPingbackHelper.viewportHasUserAttention()&&(n._maybeStartDocumentReadTimer(),n._maybeTrackPageRead(),n._setUpPageReadTimers()),void 0!==n._documentReadTimeoutId&&(n._documentReadTimeoutId&&clearTimeout(n._documentReadTimeoutId),n._documentReadTimeoutId=void 0,n._trackDocumentRead())},this.pageChange=function(e){n._resetIdleTimer(),void 0!==n._documentReadTimeoutId&&(n._documentReadTimeoutId&&clearTimeout(n._documentReadTimeoutId),n._documentReadTimeoutId=void 0,n._trackDocumentRead()),void 0!==n._pageReadTimeTimeoutId&&(n._pageReadTimeTimeoutId&&clearTimeout(n._pageReadTimeTimeoutId),n._pageReadTimeTimeoutId=void 0,n._trackPageReadTime()),n._readerPingbackHelper.updateModelOnPageChange(e),n._trackPageImpression(e.pages),n._readerPingbackHelper.viewportHasUserAttention()&&(n._maybeTrackPageRead(),n._setUpPageReadTimers())},this.zoom=function(){n._resetIdleTimer()},this.resize=function(e){n._resetIdleTimer(),n._readerPingbackHelper.updateModelOnResize(e),n._readerPingbackHelper.viewportHasUserAttention()?(n._maybeStartDocumentReadTimer(),void 0===n._pageReadTimeTimeoutId&&n._setUpPageReadTimers(),n._maybeTrackPageRead()):(n._documentReadTimeoutId&&(clearTimeout(n._documentReadTimeoutId),n._documentReadTimeoutId=void 0),n._pageReadTimeTimeoutId&&(clearTimeout(n._pageReadTimeTimeoutId),n._pageReadTimeTimeoutId=void 0,n._trackPageReadTime()))},this.flush=function(){n._clearTimers(),n._eventsAfterDocumentRead=[],n._readerPingbackHelper.executePingback()},this._readerPingbackHelper=t}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function e(t,n,r){var i=this;babelHelpers.classCallCheck(this,e),this._getSignalData=function(e){return{version:"2.2.2",username:e?null:i._environment.getUsername(),ui_language:i._environment.getLanguage(),location:i._environment.getLocation(),referrer:i._environment.getReferrer(),contexts:[]}},this.downloadAnonymously=function(e){var t={type:"document_download",doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase()};i._post(babelHelpers.extends({},i._wrapper.getWebsitePingbackWrapper(),{data:babelHelpers.extends({},i._getSignalData(!0),{contexts:[{browser_size:i._environment.getBrowserSize(),events:[t]}]})}))},this._wrapper=t,this._post=n,this._environment=r}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(461),i="iutk";function o(){if(("undefined"==typeof document||void 0===document.cookie||!document.cookie.split(";").filter(function(e){return e.includes(i+"=")}).length)&&"undefined"!=typeof document){var e=Object(r.a)(),t=function(){if("undefined"!=typeof document){var e=/(?:t?)issuu.com$/.exec(document.domain||"");return e?e[0]:null}return null}();document.cookie=i+"="+e+(t?";domain="+t:"")+";path=/;max-age=315360000"}}},,,function(e,t,n){"use strict";var r=n(464),i=n.n(r),o=["chrome","firefox","safari","mobile_safari","edge","ie"],a=["desktop","mobile","tablet"];t.a=function(){var e="",t="";try{var n=(new i.a).getResult();e=n.device.type||"desktop",t=n.browser.name||"unknown_browser"}catch(e){}return e=e.replace(" ","_").toLocaleLowerCase(),t=t.replace(" ","_").toLocaleLowerCase(),a.includes(e)||(e="otherDevice"),o.includes(t)||(t="otherBrowser"),{deviceType:e,browserName:t}}},,function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),i=n.n(r),o=n(23),a=n.n(o),s=n(39),u=n.n(s),c=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,e.apply(this,arguments))}return babelHelpers.inherits(t,e),t.prototype.shouldComponentUpdate=function(e,t){return!(u()(this.props,e)&&u()(this.state,t))},t.prototype.render=function(){var e=a()("readmore-header",{"readmore-header--large":!!this.props.large,"readmore-header--one-line":!!this.props.oneLine});return i.a.createElement("div",{className:e},i.a.createElement("span",{className:"readmore-header__text"},"Here's more to read..."))},t}(r.Component);c.displayName="Header"},function(e,t,n){"use strict";function r(){var e=function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++)try{var i=decodeURIComponent(n[r]).trim();if(0===i.indexOf(t))return i.substring(t.length,i.length)}catch(e){continue}return null}("issuu.comstream.debug.style");return!!window.ISSUU_STREAM_DEBUG||null!==e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(468);function i(e){return fetch(e).then(function(e){return e.ok?e.json().then(function(e){return"fail"===e.rsp.stat?Promise.reject():e.rsp._content.stream}):Promise.reject()})}function o(e,t,n,o){var a=null,s=null;return o?(a=function(e,t,n){return i(e+"/call/stream/web/embed/read_more_from_paying_publisher/initial?ownerUsername="+n+"&publicationId="+t+"&pageSize=8")}(e,t,n),s=function(e,t,n){return i(e+"/call/stream/web/embed/read_more_from_paying_publisher_from_fullscreen/initial?ownerUsername="+n+"&publicationId="+t+"&pageSize=8")}(e,t,n)):(a=function(e,t){return i(e+"/call/stream/web/embed/read_more_by_button_click/initial?publicationId="+t+"&seed=42&pageSize=8")}(e,t),s=function(e,t){return i(e+"/call/stream/web/embed/read_more_exit_from_fullscreen/initial?publicationId="+t+"&seed=42&pageSize=8")}(e,t)),Promise.all([a,s]).then(function(e){return new r.a(e[0],e[1])})}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function e(t,n){babelHelpers.classCallCheck(this,e),this.buttonStream=t,this.exitFullscreenStream=n}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){}]]);
//# sourceMappingURL=http://sourcemaps.issuu.com/static.issuu.com/issuu-reader3/reader.77f23211.js.77f23211.map