<link rel="stylesheet" href="/assets/css/14/base.css" />
<link rel="stylesheet" href="/assets/css/14/event.css" />

<style>
  header {
    background: #000 !important;
  }
</style>

<div class="event">
  <div>
    <img
      src="/assets/imgs/round/14/event/pc_banner.webp"
      alt="event"
      title="event"
      class="pc_banner"
    />
    <img
      src="/assets/imgs/round/14/event/mo_banner.webp"
      alt="event"
      title="event"
      class="mo_banner"
    />
  </div>

  <div class="event-01">
    <div class="container">
      <p class="period pt10 pb10 pl20 pr20 f20">참여 기간 : 06/25~07/28</p>
      <div class="event-title mt20 mt-lg-25">
        <p>Summer Tasty Festival</p>
      </div>
      <div class="event-title event-image mt24 mt-lg-18 f20 f16-lg">
        <div class="block">
          <p class="f20 fw4">페스티벌을 HOT!하게 즐기는 맛둥이들의 모습이 궁금해<br/>
            맛진에서 다같이 공유해보는 건 어때?</p>
          <p class="f20 fw4">혹시 맛둥이들은 페스티벌 좋아해?</p>

          <p class="f20 fw4">
            맛진이는 페스티벌을 정말 좋아해서 사계절 내내 무조건 가는 편이야!<br/>
            하지만 여름에 가는 페스티벌이 진짜 재밌는 거 다 알고 있지?<br/>
            맛진이는 여름 페스티벌 갈 때는 항상 샌들을 신어!<br/>
            그래야 한층 더 느낌이 나거든~
          </p>
          <p class="f20 fw4">
            페스티벌을 즐기는 맛둥이들만의 꿀팁을 알려줘~<br/>
            가기 전 마음 가짐부터 꼭 챙겨야 할 필수템, 음식 등 뭐든 다 좋아 🤩
          </p>
          <p class="f20 fw4 text-D5D5D5">
            비밀인데..🤫 선착순 댓글 이벤트도 있어<br/>
            맛진이한테 꿀팁 빨리 알려주는 사람이 임자!
          </p>
        </div>
      </div>
      <div class="w830 h400 mt100 center wfull-lg-100">
        <img src="/assets/imgs/round/14/event/sss.png" />
      </div>

      <div class="event-button mt100 mt-lg-25">
				<div class="flex flex-1 flex-tc">
					<a href="javascript:;" onclick="popupOpen(1);">이벤트 참여하기 ></a>
				</div>
			</div>
    </div>
  </div>

  <div class="event-03">
    <div class="container">
      <div class="event-title">
        <p>🎆 진정 즐길 줄 아는 맛둥이를 위한 선물 🎆</p>
      </div>
      <div class="event-present">
        <div class="pre-01">
          <div>
            <p class="f30 fw8">EVENT</p>
            <p class="f24">Summer Tasty Festival</p>
            <p class="f20 fw6">총 당첨 인원 : 10명</p>
          </div>
          <div class="col-12 relative fd-lg-c">
            <div class="giftcard">
              <div class="event_member">2명</div>
              <div class="event-image br">
                <img src="/assets/imgs/round/14/event/1.webp" />
                <p>위닉스 21L<br/>
                  인버터 제습기</p>
              </div>
            </div>
            <div class="giftcard">
              <div class="event_member">3명</div>
              <div class="event-image br">
                <img src="/assets/imgs/round/14/event/2.webp" />
                <p>스파알 포터블<br/>  
                  마사지기</p>
              </div>
            </div>
            <div class="giftcard">
              <div class="event_member">5명</div>
              <div class="event-image br">
                <img src="/assets/imgs/round/14/event/3.webp" />
                <p>멀티비타민 오쏘몰<br/>  
                  이뮨 30일분</p>
              </div>
            </div>
          </div>
        </div>

        <div class="pre-02">
          <div>
            <p class="f30 fw8">SPECIAL EVENT</p>
            <p class="f24">선착순 이벤트</p>
            <p class="f20 fw6">총 당첨 인원 : 2명</p>
          </div>
          <div class="giftcard">
            <div class="event_member">2명</div>
            <div class="event-image br">
              <img src="/assets/imgs/round/14/event/4.webp" />
              <p>워터밤 페스티벌 티켓<br/>
                (2인_동반 1인)</p>
            </div>
          </div>
        </div>
      </div>
      <div class="mt40">
        <p class="tc f22">※ 당첨자 경품은 8월 내 발송 예정입니다.</p>
        <p class="tc f22">※ 스페셜 이벤트 당첨자 경품은 6월 내 개별 발송 예정입니다.</p>
        <p class="tc f22 text-666666">※ 이벤트 당첨자 개별 안내 후 개인정보 회신 확인에 따라 순차적 발송됩니다.</p>
      </div>
    </div>

    <div class="event-05">
      <div class="container">
        <div class="flex">
          <b>안내사항</b>
          <ul>
            <li>
              이벤트 참여 시, 개인정보 오기재으로 인한 당첨자 누락은 책임지지
              않습니다.
            </li>
            <li>당첨자 안내 및 경품 발송은 개별 연락처로 안내해 드립니다.</li>
            <li>
              본 이벤트의 경품 제공을 목적으로 개인 정보를 요구할 수 있습니다.
            </li>
            <li>
              당첨자 안내 개별 메시지 발송일 이후 14일 이내에 경품 수령 의사 및
              개인 정보 회신이 없을 시, 자동으로 당첨자 대상에서 제외될 수
              있습니다.
            </li>
            <li>
              이벤트 경품 수령을 위한 개인정보 회신 확인 후 순차적으로 경품을
              발송해드립니다.
            </li>
            <li>
              수집된 개인정보는 이벤트 안내 및 경품 증정 이외에는 사용되지
              않습니다.
            </li>
            <li>
              경품은 이벤트 참여 시 작성해주신 개인 정보로만 발송 가능하며, 다른
              이름, 연락처, 주소 등으로 변경하여 수령하는 것은 불가합니다.
            </li>
            <li>
              당첨자는 참여자 중 정성스러운 댓글을 남겨주신 인원을 선발하여 랜덤 추첨됩니다.
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="event-06">
      <div class="container">
        <div class="event-comment">
          <div class="comment-head">
            <strong>댓글</strong>
            <ul>
              <li class="active"><a href="javascript:;">추천순</a></li>
              <li><a href="javascript:;">최신순</a></li>
            </ul>
          </div>
          <div class="comment-body">
            <div class="comment-list">
              <!-- <p class="list-none">등록된 댓글이 없습니다.</p> -->
              <ul class="list" id="list"></ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- 이벤트 참여 모달 시작 -->
<div class="modal">
  <div class="popup event_popup_0 kr">
    <div class="p_con">
      <div class="popup_top">
        <p class="f30"><b>새로운 시작을 상징하는 꽃이야!<br/>
          맛둥이들의 목표 달성을 응원해</b></p>
      </div>
      <div class="w300 center mt20 mb20">
        <img
          src="/assets/imgs/round/14/event/snow_man.png"
          alt="snow_man"
        />
      </div>
      <div class="text_align_center randomImage f24">
        <b>맛둥이들의 올해 목표는 뭐야?</b>
        <p class="f16 mt20">
          ※올해 목표를 댓글로 남기고, 경품 응모하러 가기
        </p>
      </div>
    </div>
    <div class="popup_close">
      <img src="/assets/imgs/round/9/close.png" alt="닫기 버튼" />
    </div>
    <div class="button p_btn p_btn_0">이벤트 참여하기</div>
  </div>
  <div class="popup event_popup_1 kr">
    <div class="p_con">
      <div class="popup_top">
        <div>롯데GRS</div>
        <div>개인정보 활용 동의서</div>
        <div>※ 본 이벤트는 롯데GRS 임직원 및 점주 한정 참여 가능합니다.</div>
      </div>

      <div class="popup_content">
        <div class="check_all flex aic check_box allCheck">
          <!-- <label class="checkbox" for="N_big"> -->
          <input type="checkbox" id="N_big" hidden />
          <span class="checkbox_icon"></span>
          <span class="checkbox_text check_all_t">전체 동의하기</span>
          <!-- </label> -->
        </div>
        <p class="check_info">
          롯데GRS 사내웹진 ‘맛ZINE’ 이벤트 당첨안내 및 배송 관련 다양한 서비스
          제공을 위해 개인 정보 수집, 이용에 관하여 관계법령에 의거하여
          고지하오니, 동의해 주시기 바랍니다.
        </p>

        <div class="line"></div>

        <div class="check_detail">
          <b>맛진 동의 항목</b>

          <div class="check_list">
            <div class="check_box flex aic jcsb">
              <div class="checkbox flex aic minCheck">
                <input id="N_one" type="checkbox" hidden />
                <span class="checkbox_icon"></span>
                <span class="checkbox_text"
                  >[필수] 개인정보 수집 및 이용 동의</span
                >
              </div>

              <div class="arrow_btn p_modal_2_open">&gt;</div>
            </div>

            <div class="check_under_list">
              <div class="check_box">
                <div class="checkbox flex aic">
                  <input type="checkbox" />
                  <span class="checkbox_icon"></span>
                  <span class="checkbox_text">성명</span>
                </div>
              </div>
              <div class="check_box">
                <div class="checkbox flex aic">
                  <input type="checkbox" />
                  <span class="checkbox_icon"></span>
                  <span class="checkbox_text">부서/지점명</span>
                </div>
              </div>
              <div class="check_box">
                <div class="checkbox flex aic">
                  <input type="checkbox" />
                  <span class="checkbox_icon"></span>
                  <span class="checkbox_text">연락처</span>
                </div>
              </div>
            </div>

            <div class="check_box flex aic jcsb">
              <div class="checkbox min_check_2 flex aic">
                <input type="checkbox" />
                <span class="checkbox_icon"></span>
                <span class="checkbox_text"
                  >[필수] 개인정보의 취급 위탁 동의</span
                >
              </div>

              <div class="arrow_btn p_modal_3_open">&gt;</div>
            </div>
          </div>

          <p class="kr warn">
            ※ 개인정보 동의를 거부할 권리가 있으나, 거부할 경우 서비스 이용이
            제한됩니다.
          </p>
        </div>
      </div>
    </div>
    <div class="popup_close">X</div>
    <div class="button p_btn p_btn_1">동의하고 계속하기</div>
  </div>
  <div class="popup event_popup_2 kr">
    <div class="p_con">
      <div class="popup_top">
        <p>롯데GRS</p>
        <h2>개인정보 수집 및 이용 동의</h2>
        <p>※ 본 이벤트는 롯데GRS 임직원 및 점주 한정 참여 가능합니다.</p>
      </div>

      <div class="popup_content">
        <p class="check_info">
          롯데GRS 사내웹진 ‘맛ZINE’ 이벤트 당첨안내 및 배송 관련 다양한 서비스
          제공을 위해 <br />
          개인 정보 수집, 이용에 관하여 관계법령에 의거하여 고지하오니, 동의해
          주시기 바랍니다.
        </p>

        <div class="info_box_pop">
          <div class="info_intro_item">
            <h3>1) 개인정보 수집 및 이용 동의</h3>
            <p>롯데GRS 사내웹진 이벤트</p>
          </div>
          <div class="info_intro_item">
            <h3>2) 수집하는 개인정보의 항목</h3>
            <p>이름, 부서/지점명, 연락처 등 경품 수령을 위한 개인정보</p>
          </div>
          <div class="info_intro_item">
            <h3>3) 개인정보 보유 및 이용기간</h3>
            <p>수집일로부터 6개월</p>
          </div>
        </div>
        <p class="kr warn">
          ※ 개인정보 동의를 거부할 권리가 있으나, 거부할 경우 서비스 이용이
          제한됩니다.
        </p>
      </div>
    </div>
    <div class="popup_close">X</div>
    <div class="button p_btn p_btn_2">확인</div>
  </div>
  <div class="popup event_popup_3 kr">
    <div class="p_con">
      <div class="popup_top">
        <p>롯데GRS</p>
        <h2>개인정보의 취급 위탁 동의</h2>
        <p>※ 본 이벤트는 롯데GRS 임직원 및 점주 한정 참여 가능합니다.</p>
      </div>

      <div class="popup_content">
        <p class="check_info">
          롯데GRS 사내웹진 ‘맛ZINE’ 이벤트 당첨안내 및 배송 관련 다양한 서비스
          제공을 위해 <br />
          개인 정보 수집, 이용에 관하여 관계법령에 의거하여 고지하오니, 동의해
          주시기 바랍니다.
        </p>

        <div class="info_box_pop">
          <p>
            롯데GRS는 서비스 향상을 위해서 아래와 같이 개인정보를 위탁하고
            있으며, 관계 법령에 의거 위탁계약 시 개인정보가 안전하게 관리될 수
            있도록 필요한 사항을 규정합니다.
          </p>

          <div class="info_back_item">
            <h3>1) 업무내용 : 서비스 운영, 이벤트 경품 배송, 고객지원</h3>
            <h3>2) 수탁업체 : (주)스카이벤처스</h3>
          </div>
        </div>
        <p class="kr warn">
          ※ 개인정보 동의를 거부할 권리가 있으나, 거부할 경우 서비스 이용이
          제한됩니다.
        </p>
      </div>
    </div>
    <div class="popup_close">X</div>
    <div class="button p_btn p_btn_3">확인</div>
  </div>
  <div class="popup event_popup_4 kr">
    <div class="p_con">
      <div class="popup_top">
        <p style="color: #1F2F84">EVENT</p>
        <h2>Tasty Festival</h2>
      </div>

      <div>
        <form class="event_form kr" id="event_form">
          <div class="video_key">
            <!-- input태그 동적으로 삽입 -->
            <input type="hidden" name="round" value="14" id="round">
            <input type="hidden" name="index" value="1" id="index">
          </div>
          <div>
            <div>
              <input
                type="text"
                placeholder="닉네임을 입력해주세요."
                name="user_nickname"
                id="user_nickname"
              />
              <p>※ 댓글에 노출되는 닉네임입니다.</p>
            </div>
            <div>
              <input
                type="text"
                placeholder="이름을 입력해주세요."
                name="user_name"
                id="user_name"
              />
            </div>
          </div>
          <div>
            <div>
              <input
                type="text"
                placeholder="부서/지점명을 입력해주세요."
                name="department"
                id="department"
              />
            </div>
            <div>
              <input
                type="text"
                placeholder="휴대폰 번호를 입력해주세요."
                name="user_hp"
                id="user_hp"
              />
            </div>
          </div>
          <div style="display: block">
            <div style="width: 100%">
              <textarea cols="12" rows="12"
                placeholder="댓글을 입력해주세요"
                name="text"
                id="text"
                style="resize: none"
              ></textarea>
            </div>
          </div>
          <div class="form_photo_div" style="display: none">
            <p>프로필사진첨부</p>
            <span style="display: flex">
              <span class="images"></span>
              <label class="photo_label">
                <img
                  src="/assets/imgs/round/5/event/camera.svg"
                  alt="#"
                  title="#"
                />
                <input type="file" hidden />
              </label>
            </span>
          </div>
        </form>
      </div>
      <div class="popup_close">X</div>

      <p class="kr warn">
        ※ 개인정보 동의를 거부할 권리가 있으나, 거부할 경우 서비스 이용이
        제한됩니다.
      </p>
      <div class="button p_btn p_btn_4">이벤트 응모하기</div>
    </div>
  </div>
  <div class="popup event_popup_5 kr pb0">
    <div class="pop_top">
      <p class="">NOTICE</p>
      <div class="popup_close">X</div>
    </div>
    <div class="p_con py60 py-lg-30">
      <h2 style="color: #1F2F84">Tasty Festival</h2>
      <p>이벤트 응모 완료되었습니다!</p>
    </div>
  </div>

  <div class="comment_image_popup popup">
    <div class="image_slide swiper">
      <div class="swiper-wrapper slide">
        <div class="swiper-slide popup_image">
          <img src="/assets/imgs/round/5/event/1.png" alt="#" title="#" />
        </div>
        <div class="swiper-slide popup_image">
          <img src="/assets/imgs/round/5/event/1.png" alt="#" title="#" />
        </div>
        <div class="swiper-slide popup_image">
          <img src="/assets/imgs/round/5/event/1.png" alt="#" title="#" />
        </div>
      </div>
    </div>
    <div class="swiper-pagination"></div>
    <div class="popup_close">X</div>
  </div>
</div>
<!-- 이벤트 참여 모달 끝 -->

<script>
  var round = 14;
  var index = 1;
  var order = 1;
  var ignore_seq = [];
  var isFetching = false;

  $(document).ready(function () {
    show_more();
  });

  // 추천순/최신순 탭
  $(document).on("click", ".comment-head ul li a", function () {
    var parents = $(this).parent("li");
    var idx = parents.index();

    ignore_seq = [];
    if (parents.siblings().hasClass("active")) {
      order = order === 1 ? 2 : 1;
      init_reply_data();
      show_more();
    }

    parents.addClass("active").siblings().removeClass("active");
  });

  // 팝업
  function popupOpen(index) {
    $(`.modal`).css({
      visibility: "visible",
      "pointer-events": "inherit",
    });
    $(".event_popup_1").css("display", "block");
    $(".p_btn_1").attr("data-index", index);
  }

  function show_more() {
    isFetching = true;
    get_reply_data();
  }

  function init_reply_data() {
    $("#list").html("");
  }

  function get_reply_data() {
    $.post(
      "/event/get_reply_data",
      { round: round, index: index, order: order, ignore_seq: ignore_seq },
      function (result) {
        var r = JSON.parse(result);

        if (r.result) {
          var html = "";
          if (r.list.length) {
            for (var i = 0; i < r.list.length; i++) {
              html += '<li class="list-item">';
              html += '<div class="list-head">';
              if (r.list[i].image_datas.length > 0) {
                html +=
                  '<img class="mo" src="/' +
                  r.list[i].image_datas[0].file_path +
                  '">';
              } else {
                html +=
                  '<img class="mo" src="/assets/imgs/round/6/event/profile.svg">';
              }
              html += "<div>";
              html += "<b>" + r.list[i].nickname + "</b>";
              html += "<time>" + r.list[i].date + "</time>";
              html += "</div>";
              html += "</div>";
              html += '<div class="list-body">';
              html += "<p>" + r.list[i].text + "</p>";
              html += '<div class="list-body-like">';
              if (r.list[i].log_seq) {
                html +=
                  '<a href="javascript:like(' +
                  r.list[i].seq +
                  ')" id="like' +
                  r.list[i].seq +
                  '" class="active">' +
                  r.list[i].like.toLocaleString("en") +
                  "</a>";
              } else {
                html +=
                  '<a href="javascript:like(' +
                  r.list[i].seq +
                  ')" id="like' +
                  r.list[i].seq +
                  '">' +
                  r.list[i].like.toLocaleString("en") +
                  "</a>";
              }
              html += "</div>";
              html += "</div>";
              html += "</li>";
              html += '<input type="hidden" value="' + r.list[i].seq + '">';
              ignore_seq.push(r.list[i].seq);
            }
          }

          $("#list").append(html);
          isFetching = false;
        }
      }
    );
  }

  function like(seq) {
    $.post("/event/like", { seq: seq }, function (result) {
      var r = JSON.parse(result);
      if (r.result) {
        $("#like" + seq).html(r.after);
        if (Number(r.after) > Number(r.before)) {
          $("#like" + seq).addClass("active");
        } else {
          $("#like" + seq).removeClass("active");
        }
      } else {
        alert(r.msg);
      }
    });
  }

  $(window).scroll(function(e) {
    if (!isFetching && window.innerHeight + window.scrollY + 100 >= document.body.offsetHeight) {
      show_more();
    }
  });
</script>
<script src="/assets/js/rabbit-event.js"></script>
