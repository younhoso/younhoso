  <link rel="stylesheet" href="/assets/css/6/main.css" />
  <link rel="stylesheet" href="/assets/css/6/postSection.css" />
  <script>
    setTimeout(() => {
      $(".intro-layer").css({
        display: "none",
      });
    }, 1000);
  </script>
  <style>
    /* header {
        background: transparent;
        border-bottom: 1px solid transparent;
      } */
  </style>
	
  <div class="scroll-container">
    <!-- ë¹„ì£¼ì–¼ì˜ì—­ -->
    <div class="visual section">
      <div class="visual-img">
        <!-- ê²€ì •ë°°ê²½ íŒì—…ì°½ -->
        <div class="intro-layer">
          <img src="/assets/imgs/round/6/main/main_pop_4s.gif" alt="visual" title="visual" />
        </div>

        <!-- í•˜ëŠ˜ìƒ‰ì´ë¯¸ì§€ PC -->
        <img src="/assets/imgs/round/6/main/main_PC.png" alt="visual" class="mobile_hide" title="visual" />
        <img src="/assets/imgs/round/6/main/main_MO.png" alt="visual" class="pc_hide" title="visual" />
      </div>
    </div>

    <!-- POST ì˜ì—­ -->
    <div class="post section">
      <div class="post-container">
        <div class="swiper post-swiper">
          <div class="swiper-wrapper">
            <div class="swiper-slide">
              <div class="post-thumb">
                <img src="/assets/imgs/round/6/post/PC_MO_common/POST_thumb/SPORT.png" />
                <div class="active-shadow">
                  <a href="/post/sport/<?= $this->round ?>">
                    <div class="active-text">
                      <div class="tag">#CLIMBING #CRAZE</div>
                      <div class="title">ìì‹ ì˜ í•œê³„ê°€<br />ê¶ê¸ˆí•˜ë‹¤ë©´</div>
                      <div class="subtitle">ëŒ€ì„¸ ìŠ¤í¬ì¸  í´ë¼ì´ë° ì–´ë•Œ?</div>
                    </div>
                  </a>
                </div>
              </div>
            </div>
            <div class="swiper-slide">
              <div class="post-thumb">
                <img src="/assets/imgs/round/6/post/PC_MO_common/POST_thumb/TRIP.png" />
                <div class="active-shadow">
                  <a href="/post/trip/<?= $this->round ?>">
                    <div class="active-text">
                      <div class="tag">#TRIP_TALK #AIRPORT</div>
                      <div class="title">ëŒ€ê¸°ì‹œê°„ì¡°ì°¨<br />ì•Œì°¨ê²Œ!</div>
                      <div class="subtitle">ë¹„í–‰ê¸° ì—°ì°©? ì˜¤íˆë ¤ ì¢‹ì•„</div>
                    </div>
                  </a>
                </div>
              </div>
            </div>
            <div class="swiper-slide">
              <div class="post-thumb">
                <img src="/assets/imgs/round/6/post/PC_MO_common/POST_thumb/FOOD.png" />
                <div class="active-shadow">
                  <a href="/post/food/<?= $this->round ?>">
                    <div class="active-text">
                      <div class="tag">#FOOD_REFURB #UGLY</div>
                      <div class="title">ëª»ìƒê²¨ë„<br />ê´œì°®ì•„</div>
                      <div class="subtitle">ë§›ë„ ê°€ê²©ë„ Aê¸‰ì´ë‹ˆê¹Œ</div>
                    </div>
                  </a>
                </div>
              </div>
            </div>
            <div class="swiper-slide">
              <div class="post-thumb">
                <img src="/assets/imgs/round/6/post/PC_MO_common/POST_thumb/STYLE.png" />
                <div class="active-shadow">
                  <a href="/post/style/<?= $this->round ?>">
                    <div class="active-text">
                      <div class="tag">#RESELLTECH #GD</div>
                      <div class="title">
                        ì‚´ ë• 20ë§Œì›<br />íŒ” ë• 2,000ë§Œì›
                      </div>
                      <div class="subtitle">
                        ì£¼ì‹ ëª»ì§€ ì•Šì€ ìˆ˜ìµ, ë¦¬ì…€í…Œí¬
                      </div>
                    </div>
                  </a>
                </div>
              </div>
            </div>
            <div class="swiper-slide">
              <div class="post-thumb">
                <img src="/assets/imgs/round/6/post/PC_MO_common/POST_thumb/CULTURE.png" />
                <div class="active-shadow">
                  <a href="/post/culture/<?= $this->round ?>">
                    <div class="active-text">
                      <div class="tag">#MARGIELA #SHOW</div>
                      <div class="title">
                        ì‹œëŒ€ë¥¼ ì•ì„œê°„<br />ì²œì¬ ë””ìì´ë„ˆ
                      </div>
                      <div class="subtitle">ë§ˆë¥´ì§€ì—˜ë¼ì˜ êµ­ë‚´ ì²« ê°œì¸ì „</div>
                    </div>
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div class="swiper-pagination"></div>
          <div class="swiper-progress pc_hide"></div>
        </div>
        <div class="post-section-title pc_hide">POST</div>
      </div>
    </div>

    <!-- NEWS ì˜ì—­ -->
    <div class="news section">
      <div class="news-container">
        <div class="news-section-title">NEWS</div>
        <div class="swiper news-swiper pc">
          <div class="swiper-wrapper">
            <div class="swiper-slide">
              <a href="/news/index/<?= $this->round ?>">
                <img src="/assets/imgs/round/6/main/news_pc_01.png" /></a>
            </div>
            <div class="swiper-slide">
              <a href="/news/index/<?= $this->round ?>">
                <img src="/assets/imgs/round/6/main/news_pc_02.png" /></a>
            </div>
            <div class="swiper-slide">
              <a href="/news/index/<?= $this->round ?>">
                <img src="/assets/imgs/round/6/main/news_pc_03.png" /></a>
            </div>
          </div>
        </div>
        <div class="swiper news-swiper mo">
          <div class="swiper-wrapper">
            <div class="swiper-slide">
              <a href="/news/index/<?= $this->round ?>">
                <img src="/assets/imgs/round/6/main/news_mo_01.png" /></a>
            </div>
            <div class="swiper-slide">
              <a href="/news/index/<?= $this->round ?>">
                <img src="/assets/imgs/round/6/main/news_mo_02.png" /></a>
            </div>
            <div class="swiper-slide">
              <a href="/news/index/<?= $this->round ?>">
                <img src="/assets/imgs/round/6/main/news_mo_03.png" /></a>
            </div>
            <div class="swiper-slide">
              <a href="/news/index/<?= $this->round ?>">
                <img src="/assets/imgs/round/6/main/news_mo_04.png" /></a>
            </div>
            <div class="swiper-slide">
              <a href="/news/index/<?= $this->round ?>">
                <img src="/assets/imgs/round/6/main/news_mo_05.png" /></a>
            </div>
            <div class="swiper-slide">
              <a href="/news/index/<?= $this->round ?>">
                <img src="/assets/imgs/round/6/main/news_mo_06.png" /></a>
            </div>
          </div>
        </div>
        <div class="news-swiper-pagination mo"></div>
        <div class="news-swiper-pagination pc"></div>
      </div>
    </div>

    <!-- VIDEO ì˜ì—­ -->
    <div class="video section">
      <div class="video-container">
        <!-- ì²«ë²ˆì§¸ì˜ìƒ -->
        <div class="video-item">
          <div class="title">EPISODE.01</div>
          <div class="content">
            <img src="/assets/imgs/round/6/video/Video_thumbnail_03.png" alt="video-thumb" />
            <div class="video-shadow hide">
              <div class="text">
                <div class="episode-tag">#ë¡¯ë©´ë­í•˜ë‹ˆ #ì˜ìƒí¸ì§€ğŸ’Œ</div>
                <div class="episode-title">[ë¡¯ì·¨ë¡]ì•ˆì „ê²½ì˜íŒ€</div>
              </div>
              <a href="/video/index/<?= $this->round ?>/"></a>
            </div>
          </div>
        </div>

        <!-- ë‘ë²ˆì§¸ì˜ìƒ -->
        <div class="video-item">
          <div class="title">EPISODE.02</div>
          <div class="content">
            <img src="/assets/imgs/round/6/video/Video_thumbnail_02.png" alt="video-thumb" />
            <div class="video-shadow hide">
              <div class="text">
                <div class="episode-tag">#ëœë“œë§ˆí¬ #D/Tì ë§Œì˜_íŠ¹í™”ë©”ë‰´</div>
                <div class="episode-title">[ë¡¯ë°ë¦¬ì•„]ì•ˆì‚°D/Tì </div>
              </div>
              <a href="/video/index/<?= $this->round ?>/2"></a>
            </div>
          </div>
        </div>

        <!-- ì„¸ë²ˆì§¸ì˜ìƒ -->
        <div class="video-item">
          <div class="title">EPISODE.03</div>
          <div class="content">
            <img src="/assets/imgs/round/6/video/Video_thumbnail_01.png" alt="video-thumb" />
            <div class="video-shadow hide">
              <div class="text">
                <div class="episode-tag">#í¬ë¦¬ìŠ¤í”¼í¬ë¦¼ë„ë„› #í•«í”Œì˜ˆì•½ğŸ”¥</div>
                <div class="episode-title">[KKD]ë¶€ì‚°ì—°ì‚°ì </div>
              </div>
              <a href="/video/index/<?= $this->round ?>/3"></a>
            </div>
          </div>
        </div>
      </div>

      <!-- ë¹„ë””ì˜¤ í•˜ë‹¨ ê¾¸ë°ˆì´ë¯¸ì§€ -->
      <div class="video-section-title">VIDEO</div>
      <div class="video-decoration">
        <div class="tape-img-container">
          <img src="/assets/imgs/round/6/video/Video_tape.png" alt="video" />
        </div>
        <div class="star1" style="
              background-image: url('/assets/imgs/round/6/video/Video_shape01.svg');
            "></div>
        <div class="star2" style="
              background-image: url('/assets/imgs/round/6/video/Video_shape03.svg');
            "></div>
        <div class="star3" style="
              background-image: url('/assets/imgs/round/6/video/Video_shape02.svg');
            "></div>
        <hr />
      </div>
    </div>

    <!-- HISTORY ì˜ì—­ -->
    <div class="history section">
      <!-- ì„ íƒì˜ì—­ -->
      <div class="title-section">
        <div class="container">
          <div class="section-title mobile_hide">HISTORY</div>
          <div class="history-swiper-pagination"></div>
        </div>
      </div>

      <!-- ì´ë¯¸ì§€ì˜ì—­ -->
      <div class="content-section">
        <div class="swiper history-swiper">
          <div class="section-title pc_hide">HISTORY</div>
          <div class="swiper-wrapper">
            <!-- íˆìŠ¤í† ë¦¬ ë°ì´í„° ì‚½ì… ë©ë‹ˆë‹¤. -->
          </div>
        </div>
      </div>
    </div>

  <script type="module">
    import {fetchData} from "/assets/js/history/fetchData.js";
    AOS.init();

    // ì„±ê³µ í…œí”Œë¦¿
    const successTemplate = ({year, month, imgs, link}, idx) => {
      if (idx >= 1) {
        return`
          <div class="swiper-slide">
            <div class="active-title">
              <span class="month">${month}</span> <span class="year">${year}</span>
            </div>
            <img class="thumb" src="${imgs}" alt="thumb" />
            <a href="${link}"> </a>
          </div>
        `;
      }
    };

    // ì‹¤íŒ¨ í…œí”Œë¦¿
    const errorTemplate = (errorThrown) => { 
      return`
        <div class="error">
          <h2>í†µì‹  ì‹¤íŒ¨!</h2>
          <p>ì—ëŸ¬ ë©”ì‹œì§€: ${errorThrown}</p>
        </div>
      `;
    };

    //ì²« ë¡œë“œë ë•Œ ì‹¤í–‰
    //ì²« ë¡œë“œë ë•Œ ì‹¤í–‰
    fetchData("/assets/js/history/data.json")
    .done(function(response) {
      // í†µì‹  ì„±ê³µ ì‹œ í…œí”Œë¦¿ì„ ë§Œë“¤ì–´ ì¶”ê°€í•©ë‹ˆë‹¤.
      const templateHtml = response.map((datas, idx) => {
        return successTemplate(datas, idx)
      }).join('');
      $('.history .swiper-wrapper').html(templateHtml);
    })
    .fail(function(jqXHR, textStatus, errorThrown) {
      // í†µì‹  ì‹¤íŒ¨ ì‹œ í…œí”Œë¦¿ì„ ë§Œë“¤ì–´ ì¶”ê°€í•©ë‹ˆë‹¤.
      const errorHTML = errorTemplate(errorThrown);
      $('.history .swiper-wrapper').html(errorHTML)
    });

    // ìŠ¤í¬ë¡¤ ì‹œ ì„¹ì…˜ë³„ ì´ë™íš¨ê³¼
    window.onload = function () {
      console.log("window.onload")

      var elm = ".section";

      //ë°ìŠ¤í¬íƒ‘ ë§ˆìš°ìŠ¤íœ  ì´ë²¤íŠ¸
      $(elm).each(function (index) {
        $(this).on("mousewheel DOMMouseScroll", function (e) {
          e.preventDefault();
          var delta = 0;
          if (!event) event = window.event;
          if (event.wheelDelta) {
            delta = event.wheelDelta / 120;
            if (window.opera) delta = -delta;
          } else if (event.detail) delta = -event.detail / 3;
          var moveTop = $(window).scrollTop();
          var elmSelecter = $(elm).eq(index);
          console.log(index)
          // down
          if (delta < 0) {
            console.log("down")
            if ($(elmSelecter).next() != undefined) {
              try {
                if(index == 4){
                  moveTop = $(elm).eq(5).offset().top;
                }else{
                  moveTop = $(elmSelecter).next().offset().top;
                }
              } catch (e) { }
            }
          }
          //up
          else {
            if ($(elmSelecter).prev() != undefined) {
              try {
                moveTop = $(elmSelecter).prev().offset().top;
              } catch (e) { }
            }
          }
          // í™”ë©´ ì´ë™ 0.8ì´ˆ(800)
          $("html,body")
            .stop()
            .animate(
              {
                scrollTop: moveTop + "px",
              },
              {
                duration: 800,
                complete: function () { },
              }
            );
        });
      });
    };

    //pcí™”ë©´í¬ê¸°
    const isDesktop = window.innerWidth > 1080;

    const postSwiperProps = {
      slidesPerView: 1.5,
      spaceBetween: 16,
      loop: true,
      slideToClickedSlide: true,
      initialSlide: 1,
      centeredSlides: false,
      speed: 3000,
      autoplay: {
        // ìë™ ìŠ¬ë¼ì´ë“œ ì„¤ì • , ë¹„ í™œì„±í™” ì‹œ false
        delay: 3000, // ì‹œê°„ ì„¤ì •
        disableOnInteraction: true, // falseë¡œ ì„¤ì •í•˜ë©´ ìŠ¤ì™€ì´í”„ í›„ ìë™ ì¬ìƒì´ ë¹„í™œì„±í™” ë˜ì§€ ì•ŠìŒ
      },
      breakpoints: {
        1080: {
          slidesPerView: 5,
          centeredSlides: true,
          spaceBetween: 0,
        },
      },
    };

    //í¬ìŠ¤íŠ¸ ìŠ¤ì™€ì´í¼
    const postSwiper = new Swiper(".post-swiper", {
      ...postSwiperProps,
      on: {
        init: function () {
          if (isDesktop) {
            document.querySelector(
              ".post-swiper .swiper-wrapper"
            ).style.marginLeft = "-256px";
          }
        },
        slideChange: function () {
          $(".active-shadow").css("display", "none");
        },
      },
      pagination: {
        el: isDesktop ? ".swiper-pagination" : ".swiper-progress",
        clickable: true,
        type: isDesktop ? "custom" : "progressbar",
        renderCustom: function (swiper, current, total) {
          let text = "<div class='bullet-container'>";
          for (let i = 1; i <= total; i++) {
            if (current == i) {
              text += `<div class="swiper-pagination-bullet-active" style="background-image: url('/assets/imgs/icon/scrollBar.svg')"></div>`;
            } else {
              text += `<div class="swiper-pagination-bullet">${[i]}</div>`;
            }
          }
          text += "</div>";
          return text;
        },
      },
    });

    //í¬ìŠ¤íŠ¸ìŠ¤ì™€ì´í¼ ë§ˆìš°ìŠ¤ì˜¤ë²„ ì‹œ ì¬ìƒ ë©ˆì¶¤
    $(".post-swiper .swiper-slide").on("mouseover", function () {
      postSwiper.autoplay.stop();
    });
    $(".post-swiper .swiper-slide").on("mouseout", function () {
      postSwiper.autoplay.start();
    });

    //ë‰´ìŠ¤ ìŠ¤ì™€ì´í¼
    const newsSwiper = new Swiper(".news-swiper.pc", {
      loop: true,
      pagination: {
        el: ".news-swiper-pagination.pc",
        clickable: true,
        type: "custom",
        renderCustom: function (swiper, current, total) {
          var text = "<div class='bullet-container'>";
          for (let i = 1; i <= total; i++) {
            if (current == i) {
              text += `<div class="swiper-pagination-bullet-active" style="background-image: url('/assets/imgs/icon/scrollBar.svg')"></div>`;
            } else {
              text += `<div class="swiper-pagination-bullet">${[i]}</div>`;
            }
          }
          text += "</div>";
          return text;
        },
      },
    });

    const newsSwiper2 = new Swiper(".news-swiper.mo", {
      loop: true,
      pagination: {
        el: ".news-swiper-pagination.mo",
        clickable: true,
        type: "custom",
        renderCustom: function (swiper, current, total) {
          var text = "<div class='bullet-container'>";
          for (let i = 1; i <= total; i++) {
            if (current == i) {
              text += `<div class="swiper-pagination-bullet-active" style="background-image: url('/assets/imgs/icon/scrollBar.svg')"></div>`;
            } else {
              text += `<div class="swiper-pagination-bullet">${[i]}</div>`;
            }
          }
          text += "</div>";
          return text;
        },
      },
    });

    //ë¹„ë””ì˜¤ì˜ì—­ ë§ˆìš°ìŠ¤ì˜¤ë²„ ë™ì‘
    $(document).ready(function () {
      $(".video-item").mouseover(function () {
        $(this).children(".title").addClass("filled-text");
        $(this).find(".video-shadow").toggleClass("hide");
      });
      $(".video-item").mouseout(function () {
        $(this).children(".title").removeClass("filled-text");
        $(this).find(".video-shadow").toggleClass("hide");
      });
    });

     //íˆìŠ¤í† ë¦¬ ìŠ¤ì™€ì´í¼
     const historyBulletWhite = [
      "6_2023_W",
      "4_2023_W",
      "2_2023_W",
      "12_2022_W",
      "10_2022_W",
      "8_2022_W",
      "6_2022_W",
      "4_2022_W_edit",
    ];
    // ë¼ì¸ í…ìŠ¤íŠ¸
    const historyBulletLine = [
      "6_2023_L",
      "4_2023_L",
      "2_2023_L",
      "12_2022_L",
      "10_2022_L",
      "8_2022_L",
      "6_2022_L",
      "4_2022_L",
    ];
    const historyBulletWhiteMobile = [
      "6_2023_W_vertical",
      "4_2023_W_vertical",
      "2_2023_W_vertical",
      "12_2022_W_vertical",
      "10_2022_W_vertical",
      "8_2022_W_vertical",
      "6_2022_W_vertical",
      "4_2022_W_vertical",
    ];
     // ë¼ì¸ í…ìŠ¤íŠ¸ ëª¨ë°”ì¼
    const historyBulletLineMobile = [
      "6_2023_L_vertical", 
      "4_2023_L_vertical",  
      "2_2023_L_vertical",
      "12_2022_L_vertical",
      "10_2022_L_vertical",
      "8_2022_L_vertical",
      "6_2022_L_vertical",
      "4_2022_L_vertical",
    ];

    function hoverText() {
      //PC íˆìŠ¤í† ë¦¬ ë§ˆìš°ìŠ¤ì˜¤ë²„ ë™ì‘
      const item = $(".history-swiper-pagination .swiper-pagination-bullet");

      //ë§ˆìš°ìŠ¤ì˜¤ë²„ ì‹œ
      item.mouseover(function () {
        //í°ìƒ‰ í…ìŠ¤íŠ¸ë¡œ ì´ë¯¸ì§€ êµì²´
        const i = $(this).attr("data-value");
        $(this).css({
          "background-image": `url('/assets/imgs/round/6/history/2022_2023_text_SVG/${historyBulletWhite[i - 1]
            }.svg')`,
          opacity: 1,
        });

        $(this).trigger("click");
      });

      //ë§ˆìš°ìŠ¤ì•„ì›ƒ ì‹œ
      item.mouseout(function () {
        //í…Œë‘ë¦¬ í…ìŠ¤íŠ¸ë¡œ ì´ë¯¸ì§€ êµì²´
        const i = $(this).attr("data-value");
        $(this).css({
          "background-image": `url('/assets/imgs/round/6/history/2022_2023_text_SVG/${historyBulletLine[i - 1]
            }.svg')`,
          opacity: 0.3,
        });
      });
    }

    const historySwiper = new Swiper(".history-swiper", {
      slidesPerView: 1.4,
      centeredSlides: true,
      spaceBetween: 0,
      loop: true,
      initialSlide: 0,
      breakpoints: {
        1080: {
          slidesPerView: 4,
          centeredSlides: false,
          spaceBetween: 0,
        },
      },
      on: {
        slideChange: function (swiper) {
          $(".active-title").children("img").css("display", "none");

          //í•˜ì–€ê¸€ìë¡œ ë°”ë€” ë•Œ ì• ë‹ˆë©”ì´ì…˜ (only ëª¨ë°”ì¼)
          $(
            ".history-swiper-pagination .swiper-pagination-bullet-active"
          ).addClass("animation");

          if (isDesktop) {
            hoverText();
          }
        },
      },
      pagination: {
        el: ".history-swiper-pagination",
        clickable: true,
        type: "custom",
        clickable: isDesktop ? true : false,
        renderCustom: function (swiper, current, total) {
          //ë°ìŠ¤í¬íƒ‘ pagination
          if (isDesktop) {
            let text = "<div class='bullet-container'>";
            for (let i = 1; i <= total; i++) {
              text += `<div class='swiper-pagination-bullet' data-value=${i} style='background-image:url("/assets/imgs/round/8/history/2022_2023_text_SVG/${historyBulletLine[i - 1]
                }.svg")'></div>`;
            }
            text += "</div>";

            return text;
          }

          //ëª¨ë°”ì¼ pagination
          else {
            let text = "<div class='bullet-container'>";
            for (let i = 1; i <= total; i++) {
              if (current == i) {
                text += `<div class='swiper-pagination-bullet-active' style='order:${-1}; background-image:url("/assets/imgs/round/8/history/2022_2023_text_SVG/${historyBulletWhiteMobile[i - 1]
                  }.svg")'></div>`;
              } else {
                text += `<div class='swiper-pagination-bullet' style='order:${i - current > 0 ? i - current : i + current
                  }; background-image:url("/assets/imgs/round/8/history/2022_2023_text_SVG/${historyBulletLineMobile[i - 1]
                  }.svg")'></div>`;
              }
            }
            text += "</div>";
            return text;
          }
        },
      },
    });

    if (isDesktop) {
      hoverText();
    }
  </script>